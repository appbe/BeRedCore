/*!
 * Name: AppBe Framework core v2.5.1
 * Url: http://www.appbe.net
 * Desc: Hybrid app framewrok
 * Update: 2019/05/19 16:15
 */
var Be=window.Be||{};Be.app=window.Be.app||{};Be.router=window.Be.router||{};Be.util=window.Be.util||{};Be.ext=window.Be.ext||{};Be["native"]=window.Be["native"]||{};Be.builder=window.Be.builder||{};Be={version:"1.0",iconPrefix:"",width:0,height:0,appRoot:null,mainView:null,audioPlayer:null,pageHandlers:{},account:{},support:{},color:{ios:{red:"#ff3b30",green:"#4cd964",blue:"#007aff",pink:"#e91e63",yellow:"#ffcc00",orange:"#ff9500",gray:"#8e8e93",white:"#fff",black:"000"},md:{red:"#f44336",green:"#4caf50",blue:"#2196f3",pink:"#e91e63",yellow:"#ffeb3b",orange:"#ff9800",gray:"#9e9e9e",white:"#fff",black:"000"}},device:{ios:!1,android:!1,sysVersion:2,androidChrome:!1,desktop:!1,windowsPhone:!1,iphone:!1,iphoneX:!1,ipod:!1,ipad:!1,safari:!1,edge:!1,ie:!1,macos:!1,windows:!1,wechat:!1,standalone:!1,platform:""},config:{url:"",appId:"app",type:"",lang:"cn",theme:"md",color:"blue",fullscreen:"0",statusbarColor:"#2196f3",home:"home",handlerPostfix:".ashx",staticPath:"Assets/pages",pageCounter:20,pageAnimate:!0,outerLinks:"external",forwardAnimate:"forward",backwardAnimate:"backward",popInAnimate:"popup",popOutAnimate:"popdown",panelLeft:"left",photoAnimate:"photo",webSocket:"1"},local:{dialog:{cn:{title:"\u5e94\u7528\u8d1d",ok:"\u786e\u5b9a",cancel:"\u53d6\u6d88"},en:{title:"AppBe",ok:"OK",cancel:"Cancel"},cu:{title:"AppBe",ok:"OK",cancel:"Cancel"}},notification:{cn:{title:"\u5e94\u7528\u8d1d",titleRightText:"\u73b0\u5728",titleRightValid:"\u8868\u5355\u9a8c\u8bc1\u5668",subtitleValid:"\u201c{FIELD_NAME}\u201d\u4e0d\u7b26\u5408\u8981\u6c42\uff1a"},en:{title:"AppBe",titleRightText:"now",titleRightValid:"Form Validator",subtitleValid:'"{FIELD_NAME}" non-compliant:'},cu:{title:"AppBe",titleRightText:"now",titleRightValid:"Form Validator",subtitleValid:'"{FIELD_NAME}" non-compliant:'}},calendar:{cn:{clear:"\u6e05\u9664",ok:"\u786e\u5b9a",cancel:"\u53d6\u6d88"},en:{clear:"Clear",ok:"OK",cancel:"Cancel"},cu:{clear:"Clear",ok:"OK",cancel:"Cancel"}},searchbar:{cn:{placeholder:"\u8bf7\u8f93\u5165\u67e5\u8be2\u5173\u952e\u8bcd",result:"\u672a\u67e5\u8be2\u5230\u7b26\u5408\u8981\u6c42\u7684\u6761\u76ee"},en:{placeholder:"Please input keyword",result:"Nothing found"},cu:{placeholder:"Please input keyword",result:"Nothing found"}},payment:{icon:{alipay:"icon-alipay",weipay:"icon-weipay",payal:"icon-paypal"},cn:{alipay:"\u652f\u4ed8\u5b9d",weipay:"\u5fae\u4fe1",paypal:"\u8d1d\u5b9d",action:"\u4ed8\u6b3e",unit:"\uffe5",title:"\u8bf7\u9009\u62e9\u4ed8\u6b3e\u65b9\u5f0f",button:"\u5b8c\u6210"},en:{alipay:"Alipay",weipay:"WeChat Pay",paypal:"PayPal",action:"Pay",unit:"$",title:"Choose the payment method",button:"Done"},cu:{alipay:"Alipay",weipay:"WeChat Pay",paypal:"PayPal",action:"Pay",unit:"$",title:"Choose the payment method",button:"Done"}},setup:{cn:'\x3cstrong\x3e\u8bf7\u5b89\u88c5APP\u5230%device\u4e0a\uff1a\x3c/strong\x3e\x3cbr\x3e1. \u6309%position\u65b9 %icon \u952e\uff0c\u7136\u540e\x3cbr\x3e2. \u70b9\u9009\x3cstrong class\x3d"addhome_strong"\x3e[\u6dfb\u52a0\u5230\u4e3b\u5c4f\u5e55]\x3c/strong\x3e\u3002',en:'\x3cstrong\x3eInstall this APP on %device: \x3c/strong\x3e\x3cbr\x3e1. tap %icon and then \x3cbr\x3e2. \x3cstrong class\x3d"addhome_strong"\x3e[Add to Home Screen]\x3c/strong\x3e.',cu:'\x3cstrong\x3eInstall this APP on %device: \x3c/strong\x3e\x3cbr\x3e1. tap %icon and then \x3cbr\x3e2. \x3cstrong class\x3d"addhome_strong"\x3e[Add to Home Screen]\x3c/strong\x3e.'},video:{cn:{restart:"\u91cd\u542f",rewind:"\u56de\u653e {seektime}s",play:"\u64ad\u653e",pause:"\u6682\u505c",fastForward:"\u5feb\u8fdb {seektime}s",seek:"\u5b9a\u4f4d",seekLabel:"{currentTime} of {duration}",played:"\u5df2\u64ad\u653e",buffered:"\u5df2\u7f13\u51b2",currentTime:"\u5f53\u524d\u65f6\u95f4",duration:"\u65f6\u957f",volume:"\u97f3\u91cf",mute:"\u9759\u97f3",unmute:"\u89e3\u9664\u9759\u97f3",enableCaptions:"\u5f00\u542f\u5b57\u5e55",disableCaptions:"\u5173\u95ed\u5b57\u5e55",enterFullscreen:"\u5168\u5c4f",exitFullscreen:"\u9000\u51fa\u5168\u5c4f",frameTitle:"\u89c6\u9891\u6807\u9898 {title}",captions:"\u5b57\u5e55",settings:"\u8bbe\u7f6e",menuBack:"\u8fd4\u56de",speed:"\u901f\u5ea6",normal:"\u6b63\u5e38",quality:"\u8d28\u91cf",loop:"\u5faa\u73af",start:"\u5f00\u59cb",end:"\u7ed3\u675f",all:"\u5168\u90e8",reset:"\u91cd\u7f6e",disabled:"\u5173\u95ed",enabled:"\u5f00\u542f",advertisement:"\u5e7f\u544a",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},en:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},cu:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}}},scanner:{cn:{top:"\u6b63\u5728\u626b\u63cf\uff0c\u8bf7\u7a0d\u5019\u2026\u2026",bottom:"\u8bf7\u5c06\u6444\u50cf\u5934\u5bf9\u51c6\u626b\u63cf\u76ee\u6807",torch:"\u6253\u5f00/\u5173\u95ed\u624b\u7535\u7b52"},en:{top:"Scanning will happen automatically",bottom:"Hold your phone up to the barcode",torch:"Toggle Torch"},cu:{top:"Scanning will happen automatically",bottom:"Hold your phone up to the barcode",torch:"Toggle Torch"}},"native":{cn:{alert:"\u672c\u5730\u529f\u80fd\u9700\u8981\u4e0b\u8f7d\u3001\u5b89\u88c5\u5e94\u7528\u8d1d\u3002"},en:{alert:"This is native api,please download AppBe first."},cu:{alert:"This is native api,please download AppBe first."}},other:{cn:{ptrEnd:"\u6ca1\u6709\u6700\u65b0\u5185\u5bb9\u4e86",scrollEnd:"----------\u5df2\u7ecf\u5230\u5e95\u4e86----------",imageLoadErr:"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\u3002",exitAlert:"\u60a8\u786e\u8ba4\u8981\u9000\u51fa\u5e94\u7528\u8d1d\u5417\uff1f",downAlert:"\u8bf7\u4e0b\u8f7d\u5e94\u7528\u8d1d\uff0c\u4ee5\u652f\u6301\u8be5\u529f\u80fd\u3002"},en:{ptrEnd:"No more content",scrollEnd:"----------No more content----------",imageLoadErr:"Image failed to load.",exitAlert:"Are you sure want to quit the app?",downAlert:"Please download the AppBe first."},cu:{ptrEnd:"No more content",scrollEnd:"----------No more content----------",imageLoadErr:"Image failed to load.",exitAlert:"Are you sure want to quit the app?",downAlert:"Please download the AppBe first."}}},effects:{forward:{duration:500,easing:"easeOutExpo",delay:20,opacity:{value:[0,1],duration:400,easing:"linear"},rotateZ:[45,0]},backward:{duration:300,easing:"easeOutExpo",delay:50,opacity:{value:[1,0],easing:"linear"},rotateZ:[0,15]},popup:{duration:function(b,a){return 500+50*a},easing:"easeOutExpo",delay:function(b,a){return 20*a},opacity:{value:[0,1],duration:function(b,a){return 250+50*a},easing:"linear"},translateY:[400,0]},popdown:{duration:function(b,a){return 500+50*a},easing:"easeOutExpo",delay:function(b,a){return 20*a},opacity:{value:[1,0],duration:function(b,a){return 250+50*a},easing:"linear"},translateY:[0,400]},left:{duration:function(b,a){return 300+50*a},easing:"easeOutExpo",opacity:{value:[0,1],duration:function(b,a){return 250+50*a},easing:"linear"},translateX:[-400,0]},photo:{duration:function(b,a){return 600+75*a},easing:"easeOutExpo",delay:function(b,a){return 50*a},opacity:{value:[0,1],easing:"linear"},scale:[0,1]},gallery:{duration:function(b,a){return 600+75*a},easing:"easeOutExpo",delay:function(b,a){return 50*a},opacity:{value:[0,1],easing:"linear"},scale:[0,1]},custom:{}},page:function(b,a){Be.pageHandlers[b]=a},util:{getKey:function(b,a){return b.hasOwnProperty(a)?b[a]:""},appendJson:function(b){var a=Be.account.token||"",c=Be.account.oid;b.uid=Be.account.uid||"";b.token=a;b.oid=c;return b},appendString:function(b){var a=Be.account.uid||"",c=Be.account.token||"",d=Be.account.oid;b=-1===b.indexOf("?")?b+"?":b+"\x26";return b+("uid\x3d"+a+"\x26token\x3d"+c+"\x26oid\x3d"+d)},getStorage:function(b){var a="";window.localStorage&&localStorage.key&&(a=localStorage.getItem(b));return a},setStorage:function(b,a){window.localStorage&&localStorage.setItem(b,a)},getTimestamp:function(){return(new Date).valueOf()},getUrlParam:function(b){b=new RegExp("(^|\x26)"+b+"\x3d([^\x26]*)(\x26|$)");b=window.location.search.substr(1).match(b);return null!==b?unescape(b[2]):null},getUrlQuery:function(b,a){if(""===b)return null;var c=b.match(new RegExp("(^|\x26)"+a+"\x3d([^\x26]*)(\x26|$)"));return null!==c?unescape(c[2]):null},getIcon:function(b){return b},getLink:function(b){return""===b?"":-1<b.indexOf("(")&&-1<b.indexOf(")")?' onclick\x3d"'+b+'"':' href\x3d"'+b+'"'},randomString:function(b){b=b||8;var a="";for(i=0;i<b;i++)a+="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678".charAt(Math.floor(48*Math.random()));return a},trim:function(b){return b.replace(/(^\s*)|(\s*$)/g,"")},ltrim:function(b){return b.replace(/(^\s*)/g,"")},rtrim:function(b){return b.replace(/(\s*$)/g,"")},loadScript:function(b,a){var c="body"===(a||"body")?c=document.body:document.getElementsByTagName("head")[0],d=document.createElement("script");d.type="text/javascript";d.src=b;c.appendChild(d)},loadCss:function(b){var a=document.getElementsByTagName("head")[0],c=document.createElement("link");c.href=b;c.rel="stylesheet";c.type="text/css";a.appendChild(c)},setupWebApp:function(b){var a;if(Be.device.wechat)b.append('\x3cdiv id\x3d"weixin-tip-ios"\x3e\x3cp\x3e\x3cimg style\x3d"max-width:100%;height:auto;" src\x3d"Assets/img/wechat_ios.png" alt\x3d"\u5728Safari\u4e2d\u6253\u5f00"/\x3e\x3c/p\x3e\x3c/div\x3e');else if("Win32"!==Be.device.platform&&Be.device.ios&&Be.device.safari&&!Be.device.standalone){a=Be.device.ipad?"\u4e0a":"\u4e0b";var c=7>Be.device.osVersion?"addToHomeShare6":"addToHomeShare7",c=Be.local.setup[Be.config.lang].replace("%device",Be.device.platform).replace("%position",a).replace("%icon",4.2<=Be.device.osVersion?'\x3cspan class\x3d"'+c+'"\x3e\x3c/span\x3e':'\x3cspan class\x3d"addToHomePlus"\x3e+\x3c/span\x3e')+'\x3cspan class\x3d"addToHomeArrow"\x3e\x3c/span\x3e';a=document.createElement("div");a.id="addToHomeScreen";a.style.cssText+="left:"+(Be.width-240)/2+"px;"+(Be.device.ipad?"top":"bottom")+":10px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:fixed;";a.className=Be.device.ipad?"addToHomeIpad modal-in":"addToHomeIphone modal-in";a.innerHTML=c;b.append('\x3cdiv class\x3d"dialog-backdrop backdrop-in"\x3e\x3c/div\x3e');b.append(a)}},elInViewport:function(b){b=b.getBoundingClientRect();return-5<=b.top&&-5<=b.left&&b.top<=Be.height+5&&b.left<=Be.width+5},anime:function(b,a,c){var d=function(b){b=Be.effects[b];b.targets=a;return anime(b)};b&&(c?d(b).complete=function(){c()}:d(b))},isInclue:function(b,a){var c=0;for(i=0;i<a.length;i++)-1<b.indexOf(a.charAt(i))&&c++;return a.length===c?!0:!1},isNumber:function(b){return/^[\\+\\-]?[0-9]+.?[0-9]*$/.test(b)},isEmail:function(b){return string.regex("^([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d]+|\\x22([^\\x0d\\x22\\x5c]|\\x5c[\\x00-\\x7f])*\\x22)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d]+|\\x22([^\\x0d\\x22\\x5c]|\\x5c[\\x00-\\x7f])*\\x22))*\\x40([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d]+|\\x5b([^\\x0d\\x5b-\\x5d]|\\x5c[\\x00-\\x7f])*\\x5d)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d]+|\\x5b([^\\x0d\\x5b-\\x5d]|\\x5c[\\x00-\\x7f])*\\x5d))*$")(b)},isURL:function(b){return string.regex(/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i)(b)},isHexColor:function(b){return string.regex(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/)(b)},validator:{alert:function(b,a){a=a||b.data("valid-alert");b.css("border-bottom","solid 2px #cc0000");if(a){var c="",d="",e=a.indexOf("|");-1<e&&(c=a.substr(0,e),d=a.substr(e+1));var e=Be.local.notification[Be.config.lang].subtitleValid,g=Be.local.notification[Be.config.lang].titleRightValid,e=e.replace("{FIELD_NAME}",c);Be.app.notification({subtitle:e,text:d,titleRightText:g,closeButton:!0,isBackdrop:!0})}b.on("focus",function(){b.removeAttr("style")})},check:function(b){var a=!0,c=function(a,c){var d=!0,e=b.val();if(""===e)return!1;var g=b.data("valid-range"),h=b.data("valid-pattern"),t=b.data("valid-include");switch(a){case "S":g&&-1<g.indexOf("-")&&(g=g.split("-"),"*"!==g[0]&&e.length<parseInt(g[0])&&(d=!1),"*"!==g[1]&&e.length>parseInt(g[1])&&(d=!1));d&&h&&(h.indexOf("{CN}")&&(h=h.replace("{CN}","\u4e00-\u9fa5")),reg=new RegExp("^["+h+"]*$"),reg.test(e)||(d=!1));d&&t&&(Be.util.isInclue(e,t)||(d=!1));break;case "N":Be.util.isNumber(e)||doAlert(b);g&&-1<g.indexOf("-")&&(g=g.split("-"),"*"!==g[0]&&parseFloat(e)<parseFloat(g[0])&&(d=!1),"*"!==g[1]&&parseFloat(e)>parseFloat(g[1])&&(d=!1));break;case "D":8>e.length&&doAlert(b);g&&-1<g.indexOf("-")&&(e=e.replace(/-/g,"/"),g=g.split("-"),"*"!==g[0]&&(h=g[0].replace(/-/g,"/"),new Date(Date.parse(e))<new Date(Date.parse(h))&&(d=!1)),"*"!==g[1]&&(g=g[1].replace(/-/g,"/"),new Date(Date.parse(e))>new Date(Date.parse(g))&&(d=!1)));break;case "A":0===c.length?d=!1:g&&-1<g.indexOf("-")&&(g=g.split("-"),"*"!==g[0]&&c.length<parseInt(g[0])&&(d=!1),"*"!==g[1]&&c.length>parseInt(g[1])&&(d=!1))}return d},d=b[0].tagName.toLowerCase();"input"===d&&(d=b.attr("type"));switch(d){case "number":a=c("N");break;case "date":case "datetime":case "datetime-local":a=c("D");break;case "color":Be.util.isHexColor(b.val())||(a=!1);break;case "url":Be.util.isURL(b.val())||(a=!1);break;case "email":Be.util.isEmail(b.val())||(a=!1);break;case "time":case "month":case "week":case "select":""===b.val()&&(a=!1);break;case "p":var e=[];b.find('input[type\x3d"checkbox"]:checked').each(function(){e.push($(this).val())});a=c("A",e);break;default:a=c("S")}return a}},crypto:{_KEY:"12345678900000001234567890000000",_IV:"1234567890000000",encrypt:function(b){var a=CryptoJS.enc.Utf8.parse(this._KEY),c=CryptoJS.enc.Utf8.parse(this._IV);b=CryptoJS.enc.Utf8.parse(b);return CryptoJS.AES.encrypt(b,a,{iv:c,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}).ciphertext.toString()},decrypt:function(b){var a=CryptoJS.enc.Utf8.parse(this._KEY),c=CryptoJS.enc.Utf8.parse(this._IV);b=CryptoJS.enc.Hex.parse(b);b=CryptoJS.enc.Base64.stringify(b);return CryptoJS.AES.decrypt(b,a,{iv:c,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}).toString(CryptoJS.enc.Utf8).toString()}},md5:function(b){function a(a,b){var c,d,f,e,g;f=a&2147483648;e=b&2147483648;c=a&1073741824;d=b&1073741824;g=(a&1073741823)+(b&1073741823);return c&d?g^2147483648^f^e:c|d?g&1073741824?g^3221225472^f^e:g^1073741824^f^e:g^f^e}function c(b,c,d,f,e,g,h){b=a(b,a(a(c&d|~c&f,e),h));return a(b<<g|b>>>32-g,c)}function d(b,c,d,f,e,g,h){b=a(b,a(a(c&f|d&~f,e),h));return a(b<<g|b>>>32-g,c)}function e(b,c,d,f,e,g,h){b=a(b,a(a(c^d^f,e),h));return a(b<<g|b>>>32-g,c)}function g(b,c,d,f,e,g,h){b=a(b,a(a(d^(c|~f),e),h));return a(b<<g|b>>>32-g,c)}function h(a){var b="",c,d;for(d=0;3>=d;d++)c=a>>>8*d&255,c="0"+c.toString(16),b+=c.substr(c.length-2,2);return b}var f=[],m,p,r,t,n,k,l,q;b=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}(b);f=function(a){var b,c=a.length;b=c+8;for(var d=16*((b-b%64)/64+1),f=Array(d-1),e,g=0;g<c;)b=(g-g%4)/4,e=g%4*8,f[b]|=a.charCodeAt(g)<<e,g++;b=(g-g%4)/4;f[b]|=128<<g%4*8;f[d-2]=c<<3;f[d-1]=c>>>29;return f}(b);n=1732584193;k=4023233417;l=2562383102;q=271733878;for(b=0;b<f.length;b+=16)m=n,p=k,r=l,t=q,n=c(n,k,l,q,f[b+0],7,3614090360),q=c(q,n,k,l,f[b+1],12,3905402710),l=c(l,q,n,k,f[b+2],17,606105819),k=c(k,l,q,n,f[b+3],22,3250441966),n=c(n,k,l,q,f[b+4],7,4118548399),q=c(q,n,k,l,f[b+5],12,1200080426),l=c(l,q,n,k,f[b+6],17,2821735955),k=c(k,l,q,n,f[b+7],22,4249261313),n=c(n,k,l,q,f[b+8],7,1770035416),q=c(q,n,k,l,f[b+9],12,2336552879),l=c(l,q,n,k,f[b+10],17,4294925233),k=c(k,l,q,n,f[b+11],22,2304563134),n=c(n,k,l,q,f[b+12],7,1804603682),q=c(q,n,k,l,f[b+13],12,4254626195),l=c(l,q,n,k,f[b+14],17,2792965006),k=c(k,l,q,n,f[b+15],22,1236535329),n=d(n,k,l,q,f[b+1],5,4129170786),q=d(q,n,k,l,f[b+6],9,3225465664),l=d(l,q,n,k,f[b+11],14,643717713),k=d(k,l,q,n,f[b+0],20,3921069994),n=d(n,k,l,q,f[b+5],5,3593408605),q=d(q,n,k,l,f[b+10],9,38016083),l=d(l,q,n,k,f[b+15],14,3634488961),k=d(k,l,q,n,f[b+4],20,3889429448),n=d(n,k,l,q,f[b+9],5,568446438),q=d(q,n,k,l,f[b+14],9,3275163606),l=d(l,q,n,k,f[b+3],14,4107603335),k=d(k,l,q,n,f[b+8],20,1163531501),n=d(n,k,l,q,f[b+13],5,2850285829),q=d(q,n,k,l,f[b+2],9,4243563512),l=d(l,q,n,k,f[b+7],14,1735328473),k=d(k,l,q,n,f[b+12],20,2368359562),n=e(n,k,l,q,f[b+5],4,4294588738),q=e(q,n,k,l,f[b+8],11,2272392833),l=e(l,q,n,k,f[b+11],16,1839030562),k=e(k,l,q,n,f[b+14],23,4259657740),n=e(n,k,l,q,f[b+1],4,2763975236),q=e(q,n,k,l,f[b+4],11,1272893353),l=e(l,q,n,k,f[b+7],16,4139469664),k=e(k,l,q,n,f[b+10],23,3200236656),n=e(n,k,l,q,f[b+13],4,681279174),q=e(q,n,k,l,f[b+0],11,3936430074),l=e(l,q,n,k,f[b+3],16,3572445317),k=e(k,l,q,n,f[b+6],23,76029189),n=e(n,k,l,q,f[b+9],4,3654602809),q=e(q,n,k,l,f[b+12],11,3873151461),l=e(l,q,n,k,f[b+15],16,530742520),k=e(k,l,q,n,f[b+2],23,3299628645),n=g(n,k,l,q,f[b+0],6,4096336452),q=g(q,n,k,l,f[b+7],10,1126891415),l=g(l,q,n,k,f[b+14],15,2878612391),k=g(k,l,q,n,f[b+5],21,4237533241),n=g(n,k,l,q,f[b+12],6,1700485571),q=g(q,n,k,l,f[b+3],10,2399980690),l=g(l,q,n,k,f[b+10],15,4293915773),k=g(k,l,q,n,f[b+1],21,2240044497),n=g(n,k,l,q,f[b+8],6,1873313359),q=g(q,n,k,l,f[b+15],10,4264355552),l=g(l,q,n,k,f[b+6],15,2734768916),k=g(k,l,q,n,f[b+13],21,1309151649),n=g(n,k,l,q,f[b+4],6,4149444226),q=g(q,n,k,l,f[b+11],10,3174756917),l=g(l,q,n,k,f[b+2],15,718787259),k=g(k,l,q,n,f[b+9],21,3951481745),n=a(n,m),k=a(k,p),l=a(l,r),q=a(q,t);return(h(n)+h(k)+h(l)+h(q)).toLowerCase()},sqlite:{open:function(b,a,c,d){return openDatabase(b,a,c,d)},execute:function(b,a,c,d,e){c=c||[];d=d||null;e=e||null;b.transaction(function(b){b.executeSql(a,c,d,e)})}}},router:{current:{name:"",param:"",$page:null},history:{name:[],param:[],page:[],pushName:function(b){""!==b&&0>$.inArray(b,Be.router.history.name)&&Be.router.history.name.push(b)},pushParam:function(b){for(var a=!1,c=b.name,d=Be.router.history.param.length,e=0;e<d;e++)if(Be.router.history.param[e].name===c){Be.router.history.param[e]=b;a=!0;break}a||Be.router.history.param.push(b)},pushPage:function(b,a){for(var c=!1,d,e=Be.router.history.page.length,g=0;g<e;g++)if(d=Be.router.history.page[g],d.id===b){Be.router.history.page[g].html=a;c=!0;break}if(!c){if(e>=Be.config.pageCounter){for(var c=-1,h=999999,g=1;g<e;g++)d=Be.router.history.page[g],d.count<h&&(c=g,h=d.count);Be.router.history.page.splice(c,1)}Be.router.history.page.push({id:b,html:a,top:0,count:1})}},setParam:function(b,a){for(var c=Be.router.history.param.length,d=0;d<c;d++)if(Be.router.history.param[d].name===b){Be.router.history.param[d].web=a;break}},getParam:function(b){for(var a=null,c=Be.router.history.param.length,d=0;d<c;d++){var e=Be.router.history.param[d];if(e.name===b){a=e;break}}return a},getHtml:function(b){for(var a=null,c=Be.router.history.page.length,d=0;d<c;d++){var e=Be.router.history.page[d];if(e.id===b){e.count++;a=e.html;break}}return a},getCount:function(b){for(var a=0,c=Be.router.history.page.length,d=0;d<c;d++){var e=Be.router.history.page[d];if(e.id===b){a=e.count;break}}return a},setTop:function(b,a){for(var c=Be.router.history.page.length,d=0;d<c;d++){var e=Be.router.history.page[d];if(e.id===b){e.top=a;break}}},getTop:function(b){for(var a=0,c=Be.router.history.page.length,d=0;d<c;d++){var e=Be.router.history.page[d];if(e.id===b){a=e.top;break}}return a},clear:function(){Be.router.history.name=[];Be.router.history.page=[];Be.router.current={name:"",param:"",$page:null}}},getPage:function(b){b=$('.page[data-name\x3d"'+b+'"]');return 0===b.length?null:b},getKeep:function(b){var a="N";(b=this.getPage(b))&&(a=b.data("keep"));return a},getPicker:function(b){b=$('.sheet-modal[data-name\x3d"'+b+'"]');return 0===b.length?null:b},getRedirectName:function(b){if("object"===typeof b)return b.id;var a=b.indexOf('data-name\x3d"');-1<a&&(b=b.substr(a+11));a=b.indexOf('"');-1<a&&(b=b.substr(0,a));return b},isEmpty:function(b){return"object"===typeof b?$.isEmptyObject(b):""===b},home:function(b){this.history.clear();var a=this.navigate({name:Be.config.home,action:"replace"});$.when(a).then(function(){if($page=Be.router.getPage(Be.config.home)){if(0===b.indexOf("#!")&&2<b.length){var a=b.substr(2).split("?"),d=a[0],e=a[1]||"",a=Be.util.getUrlQuery(e,"type"),g=Be.util.getUrlQuery(e,"web"),e=Be.util.getUrlQuery(e,"js");Be.router.navigate({name:d,type:a,web:g,js:e})}"1"===Be.config.webSocket&&Be.ext.webSocket.connect()}})},navigate:function(b){var a=b.name,c=b.js||"",d=b.back||"0";if("Y"!==this.getKeep(a)){var e=b.same||"0",g=b.reload||"0",h=b.container||".view-main",h="string"===typeof h?$(h):h,f=this.history.getHtml(a);if("1"===g||null===f)return this.render(b,"navigate");"0"===d&&"0"===e&&this.history.pushName(this.current.name);"0"===d?h.append(f):h.prepend(f);this.show(a,c,d);return null}this.show(a,c,d);return null},back:function(b,a){b=b||"0";if("0"!==(a||"0")&&Be.device.android){var c=Be.mainView.find(".page.auto-created");if(0<c.length){if(Be.config.pageAnimate){var d=Be.config.backwardAnimate;"Y"===c.data("popup")&&(d=Be.config.popOutAnimate);Be.util.anime(d,".page.auto-created",function(){$(".page.auto-created").remove()})}else c.remove();return}if(0<Be.mainView.find(".sheet-modal").length){Be.app.clear("picker");return}}if(0<this.history.name.length){if(c=Be.appRoot.find(".mobileSelect"),0<c.length&&c.remove(),Be.app.progressbar.hideEx(),c=this.history.name.pop())d=this.history.getParam(c),null===d?d={name:c,reload:b,back:"1"}:(d.reload=b,d.back="1"),this.navigate(d)}else Be.app.confirm(Be.local.other[Be.config.lang].exitAlert,function(){Be["native"].finish()})},clear:function(b){for(var a=this.history.param.length-1;0<=a;a--)0===this.history.param[a].name.indexOf(b)&&this.history.param.splice(a,1);for(a=this.history.page.length-1;0<=a;a--)0===this.history.page[a].id.indexOf(b)&&this.history.page.splice(a,1)},reload:function(b){var a=this.history.getParam(b),c=this.getPage(b),d=a.type||"json",e=a.web||"",a=a["static"]||"0";if(".html"===Be.config.handlerPostfix||".json"===Be.config.handlerPostfix)a="1";this.load(b,e,a,d).done(function(a){if(Be.router.isEmpty(a))return null;a="json"===d?Be.builder.page(a):a;c.html($(a).html())})},show:function(b,a,c){var d=this.getPage(b);if(d){var e=Be.pageHandlers[b];if(e){var g=0<d.length?d[0]:null,e=e.call(g,a);"function"===typeof e&&(Be.pageHandlers[b]=e,e.call(g,a))}var h=g="",e=this.current.name,f=this.current.$page;if(f)if("0"!==c)g="backward",f.trigger("page.hidden",{name:e,direction:g}),Be.config.pageAnimate?(h=Be.config.backwardAnimate,"Y"===f.data("popup")&&(h=Be.config.popOutAnimate),Be.util.anime(h,'.page[data-name\x3d"'+e+'"]',function(){f.remove()})):f.remove();else{var g="forward",m=f.data("keep");f.trigger("page.hidden",{name:e,direction:g});Be.config.pageAnimate?(h=Be.config.forwardAnimate,"Y"===d.data("popup")&&(h=Be.config.popInAnimate),"Y"!==m?Be.util.anime(h,'.page[data-name\x3d"'+b+'"]',function(){f.remove()}):Be.util.anime(h,'.page[data-name\x3d"'+b+'"]')):"Y"!==m&&f.remove();h=f.find(".page-content").scrollTop();this.history.setTop(e,h)}this.initPage(d,c);this.current={name:b,param:a,$page:d};h=this.history.getTop(b);d.find(".page-content").scrollTop(h);d.trigger("page.shown",{name:b,direction:g})}else console.warn("page with name\x3d%s not found!",b)},load:function(b,a,c,d){var e="";"2"===c?(e="ios"===Be.device.os?"file:///Resources/":"android"===Be.device.os?"file:///android_asset/":"file:///",e+=Be.config.staticPath+"/"+b+"."+d):"1"===c?e=Be.config.url+"/"+Be.config.staticPath+"/"+b+"."+d:(b=Be.util.appendString("?id\x3d"+b+"\x26ext\x3d"+a+"\x26type\x3d"+d),e=Be.config.url+"/Get"+Be.config.handlerPostfix+b);return"html"===d?$.get(e).fail(function(){console.warn("failed to get page: %s",e)}):$.getJSON(e).fail(function(){console.warn("failed to get data: %s",e)})},render:function(b,a){var c=b.name,d=b.type||"json",e=b.web||"",g=b.action||"append",h=b["static"]||"0",f=b.container||".view-main",m="string"===typeof f?$(f):f;if(".html"===Be.config.handlerPostfix||".json"===Be.config.handlerPostfix)h="1";e=this.load(c,e,h,d);e.done(function(f){if(Be.router.isEmpty(f))return null;f="json"===d?"more"===a?Be.builder.component(f):Be.builder.page(f):f;"append"===g?m.append(f):"prepend"===g?m.prepend(f):m.html(f);if("navigate"===a){var e=b.js||"",h=b.back||"0",p=b.push||"1",k=b.same||"0";"0"===h&&"0"===k&&Be.router.history.pushName(Be.router.current.name);"1"===p&&Be.router.history.pushPage(c,f);Be.router.history.pushParam(b);Be.router.show(c,e,h)}else"open"===a&&Be.config.pageAnimate&&(f=Be.config.forwardAnimate,$page=Be.router.getPage(c),"Y"===$page.data("popup")&&(f=Be.config.popInAnimate),Be.util.anime(f,'.page[data-name\x3d"'+c+'"]'))});return e},content:function(b){b.action=b.action||"replace";return this.render(b,"content")},more:function(b){return this.render(b,"more")},open:function(b){return this.render(b,"open")},post:function(b,a){var c=Be.config.url+"/Post"+Be.config.handlerPostfix,c=Be.util.appendString(c);$.post({url:c,data:JSON.stringify(b),dataType:"json",contentType:"application/json;charset\x3dutf-8",success:function(b){a&&a(b)},error:function(a){console.log("fail:"+JSON.stringify(a))}})},initPage:function(b,a){var c=b.data("be-init")||"",d=b.data("theme-color")||"",e=b.data("fullscreen")||"";if(""!==d)if(Be.appRoot.removeClass("color-theme-"+Be.config.color).addClass("color-theme-"+d),"hybrid"===Be.config.type)Be["native"].setStatusbar(Be.color[Be.config.theme][d]),b.on("page.hidden",function(){Be.appRoot.removeClass("color-theme-"+d).addClass("color-theme-"+Be.config.color);Be["native"].setStatusbar(Be.config.statusbarColor)});else b.on("page.hidden",function(a,b){Be.appRoot.removeClass("color-theme-"+d).addClass("color-theme-"+Be.config.color)});""!==e&&"hybrid"===Be.config.type&&Be["native"].setFullscreen(e);if(""!==c)for(c=c.split(","),e=0;e<c.length;e++)switch(c[e]){case "hide-navbar-on-scroll":Be.app.navbar.scroll.hide(b);break;case "hide-toolbar-on-scroll":Be.app.toolbar.scroll.hide(b);break;case "pull-to-refresh":Be.app.pull(b);break;case "infinite-scroll":Be.app.scroll(b);break;case "index-list":Be.app.indexList(b);break;case "sortable":Be.app.sortable(b);break;case "landscape":Be["native"].landscape(b.data("name"));b.on("page.hidden",function(a,b){Be["native"].portrait(b.name)});break;case "lazy-load":setTimeout(function(){Be.app.lazyLoad(b)},500);break;case "swipeout":Be.app.swipeout(b);break;case "searchbar":Be.app.searchbar(b);break;case "stepper":Be.app.stepper(b);break;case "range":Be.app.range(b);break;case "input":Be.app.input(b);break;case "textarea":Be.app.textarea(b);break;case "tabs":"1"!==a&&"Y"!==b.data("keep")&&Be.app.tabs(b);break;case "transparentbar":Be.app.navbar.scroll.transparent(b);break;case "photo-cover":Be.app.photoCover(b);break;case "effect-box":Be.ext.fourBoxesSlider();break;case "effect-frame-1":Be.ext.animatedFrameSlider(1);break;case "effect-frame-2":Be.ext.animatedFrameSlider(2);break;case "effect-frame-3":Be.ext.animatedFrameSlider(3);break;case "effect-frame-4":Be.ext.animatedFrameSlider(4);break;case "effect-frame-5":Be.ext.animatedFrameSlider(5);break;case "effect-mask":Be.ext.maskTransitionSlider();break;case "grid-gallery":Be.ext.gridGallery();break;case "grid-product":Be.ext.gridProduct();break;case "date-picker":Be.ext.datepicker(b);break;case "time-picker":Be.ext.timepicker(b);break;case "calendar-event":Be.ext.calendarEvent(b);break;case "audio":b.on("page.hidden",function(a,b){Be.audioPlayer&&Be.audioPlayer.destroy()});break;case "video":var g=new Plyr("video",{captions:{active:!0},i18n:Be.local.video[Be.config.lang]});g.on("enterfullscreen",function(a){Be.app.navbar.hide(b)});g.on("exitfullscreen",function(a){Be.app.navbar.show(b)});g.on("ended",function(a){Be.app.navbar.show(b)})}}},app:{clear:function(b){switch(b||"preloader"){case "popover":Be.appRoot.find(".popover-backdrop").remove();Be.appRoot.find(".popover").remove();break;case "picker":$(".sheet-backdrop").remove();$(".sheet-modal").remove();break;case "preloader":$(".preloader-backdrop").remove();$(".preloader-modal").remove();break;case "actions":$(".actions-backdrop").remove();$(".actions-modal").remove();break;case "dialog":$(".dialog-backdrop").remove();$(".dialog").remove();break;case "notification":$(".notification").removeClass("modal-in").addClass("modal-out");b=Be.mainView.find(".dialog-backdrop.notify");0<b.length&&b.remove();setTimeout(function(){$(".notification").remove()},600);break;case "toast":$("html").removeClass("with-modal-toast"),$(".toast").removeClass("modal-in").addClass("modal-out"),setTimeout(function(){$(".toast").remove()},600)}},dialog:function(b,a){var c="";0===Be.mainView.find(".dialog-backdrop.backdrop-in").length&&(c='\x3cdiv class\x3d"dialog-backdrop backdrop-in"\x3e\x3c/div\x3e');c=("alert"===b?c+'\x3cdiv class\x3d"dialog dialog-buttons-1 modal-in"\x3e':c+'\x3cdiv class\x3d"dialog dialog-buttons-2 modal-in"\x3e')+'\x3cdiv class\x3d"dialog-inner"\x3e'+('\x3cdiv class\x3d"dialog-title"\x3e'+Be.local.dialog[Be.config.lang].title+"\x3c/div\x3e");c+='\x3cdiv class\x3d"dialog-text"\x3e'+a+"\x3c/div\x3e";"prompt"===b&&(c+='\x3cdiv class\x3d"dialog-input-field item-input"\x3e\x3cdiv class\x3d"item-input-wrap"\x3e\x3cinput type\x3d"text" class\x3d"dialog-input"\x3e\x3c/div\x3e\x3c/div\x3e');c+='\x3c/div\x3e\x3cdiv class\x3d"dialog-buttons"\x3e';"alert"!==b&&(c+='\x3cspan class\x3d"dialog-button"\x3e'+Be.local.dialog[Be.config.lang].cancel+"\x3c/span \x3e");c+='\x3cspan class\x3d"dialog-button dialog-button-bold"\x3e'+Be.local.dialog[Be.config.lang].ok+"\x3c/span\x3e";return c+"\x3c/div\x3e\x3c/div\x3e"},alert:function(b,a){var c=Be.app.dialog("alert",b);Be.mainView.append(c);var c=$(".dialog"),d=c.height()/-2;c.css({display:"block","margin-top":d+"px"});$(document.body).one("click",".dialog-button",function(){Be.app.clear("dialog");a&&a()})},confirm:function(b,a){var c=Be.app.dialog("confirm",b);Be.mainView.append(c);var c=$(".dialog"),d=c.height()/-2;c.css({display:"block","margin-top":d+"px"});$(document.body).one("click",".dialog-button",function(){$(document.body).off("click",".dialog-button.dialog-button-bold");Be.app.clear("dialog")});$(document.body).one("click",".dialog-button.dialog-button-bold",function(){$(document.body).off("click",".dialog-button");Be.app.clear("dialog");a&&a()})},prompt:function(b,a){var c=Be.app.dialog("prompt",b);Be.mainView.append(c);var d=$(".dialog"),c=d.height()/-2;d.css({display:"block","margin-top":c+"px"});$(document.body).one("click",".dialog-button",function(){$(document.body).off("click",".dialog-button.dialog-button-bold");Be.app.clear("dialog")});$(document.body).one("click",".dialog-button.dialog-button-bold",function(){$(document.body).off("click",".dialog-button");var b=d.find("input.dialog-input");Be.app.clear("dialog");a(b.val())})},action:function(b,a){a=a||!1;var c="",d="ios"===Be.config.theme?"icoIos":"icoMat";0===Be.mainView.find(".actions-backdrop.backdrop-in").length&&(c='\x3cdiv class\x3d"actions-backdrop backdrop-in" style\x3d"cursor:pointer;"\x3e\x3c/div\x3e');for(var c=a?c+'\x3cdiv class\x3d"actions-modal actions-grid modal-in" style\x3d"display: block;"\x3e':c+'\x3cdiv class\x3d"actions-modal modal-in" style\x3d"display: block;"\x3e',e=0;e<b.length;e++){for(var g=b[e],c=c+'\x3cdiv class\x3d"actions-group"\x3e',h=0;h<g.length;h++){var f=g[h];if(a)c+='\x3cdiv class\x3d"actions-button" data-idx\x3d"'+(e+"-"+h)+'"\x3e',c+='\x3cdiv class\x3d"actions-button-media"\x3e'+f.icon+"\x3c/div\x3e",c+='\x3cdiv class\x3d"actions-button-text"\x3e'+f.text+"\x3c/div\x3e",c+="\x3c/div\x3e";else if(f.label)c+='\x3cdiv class\x3d"actions-label"\x3e'+f.text+"\x3c/div\x3e";else{var m=f.color?" color-"+f.color:"",p="";if(f.hasOwnProperty(d)){var r=f[d];""!==r&&(p=0===r.indexOf("icon icon-")?'\x3ci class\x3d"'+r+'"\x3e\x3c/i\x3e':'\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(r)+"\x3c/i\x3e")}p+=f.text;c+='\x3cdiv class\x3d"actions-button'+m+'" data-idx\x3d"'+(e+"-"+h)+'"\x3e\x3cdiv class\x3d"actions-button-text"\x3e'+p+"\x3c/div\x3e\x3c/div\x3e"}}c+="\x3c/div\x3e"}Be.mainView.append(c+"\x3c/div\x3e");$(document.body).one("click",".actions-group, .actions-backdrop",function(a){a=$(a.target);if(a.hasClass("actions-backdrop"))Be.app.clear("actions");else if(a.hasClass("actions-button")||(a=a.closest(".actions-button")),a=a.data("idx"),"undefined"!==typeof a&&(Be.app.clear("actions"),a=a.split("-"),a=b[a[0]][a[1]],a.onClick))a.onClick()})},notification:function(b){0<Be.mainView.find(".notification").length&&$(".notification").remove();var a=b.icon||'\x3ci class\x3d"icon icon-be-18"\x3e\x3c/i\x3e',c=b.title||Be.local.dialog[Be.config.lang].title,d="";b.isBackdrop&&(d='\x3cdiv class\x3d"dialog-backdrop notify backdrop-in"\x3e\x3c/div\x3e');d=d+'\x3cdiv class\x3d"notification modal-in" style\x3d"display: block;"\x3e\x3cdiv class\x3d"notification-header"\x3e'+('\x3cdiv class\x3d"notification-icon"\x3e'+a+"\x3c/div\x3e")+('\x3cdiv class\x3d"notification-title"\x3e'+c+"\x3c/div\x3e");b.titleRightText&&(d+='\x3cdiv class\x3d"notification-title-right-text"\x3e'+b.titleRightText+"\x3c/div\x3e");b.closeButton&&(d+='\x3cspan class\x3d"notification-close-button"\x3e\x3c/span\x3e');d+='\x3c/div\x3e\x3cdiv class\x3d"notification-content"\x3e';b.subtitle&&(d+='\x3cdiv class\x3d"notification-subtitle"\x3e'+b.subtitle+"\x3c/div\x3e");d+='\x3cdiv class\x3d"notification-text"\x3e'+b.text+"\x3c/div\x3e";Be.mainView.append(d+"\x3c/div\x3e\x3c/div\x3e");if(b.closeTimeout)setTimeout(function(){Be.app.clear("notification")},b.closeTimeout);else if(a=function(){Be.app.clear("notification");if(b.onClick)b.onClick()},b.closeButton)$(document.body).one("click",".notification-close-button",a);else $(document.body).one("click",".notification",a)},toast:function(b){0<Be.appRoot.find(".toast").length&&$(".toast").remove();var a=b.position||"bottom",c=b.icon||"",d=b.text,e=b.closeButtonText||Be.local.dialog[Be.config.lang].ok,g=b.closeButtonColor||"",h=b.closeTimeout||2E3;""!==c&&(a+=" toast-with-icon");""!==g&&(g=" color-"+g);var f="",f='\x3cdiv class\x3d"toast toast-'+a+' modal-in" style\x3d"display: block;"\x3e\x3cdiv class\x3d"toast-content"\x3e';""!==c&&(f+='\x3cdiv class\x3d"toast-icon"\x3e\x3ci class\x3d"'+Be.iconPrefix+'-icons"\x3e'+c+"\x3c/i\x3e\x3c/div\x3e");f+='\x3cdiv class\x3d"toast-text"\x3e'+d+"\x3c/div\x3e";b.closeButton&&(f+='\x3ca class\x3d"toast-button'+g+' link"\x3e'+e+"\x3c/a\x3e");f+="\x3c/div\x3e\x3c/div\x3e";$("html").addClass("with-modal-toast");Be.appRoot.append(f);a=function(){Be.app.clear("toast");if(b.onClick)b.onClick()};if(b.closeButton)$(document.body).one("click",".toast-button",a);else setTimeout(function(){Be.app.clear("toast")},h)},preloader:function(b,a){a=a||0;var c;c='\x3cdiv class\x3d"preloader-backdrop backdrop-in"\x3e\x3c/div\x3e\x3cdiv class\x3d"preloader-modal"\x3e'+('\x3cdiv class\x3d"preloader'+(b?" color-"+b:"")+'"\x3e');"md"===Be.config.theme&&(c+='\x3cspan class\x3d"preloader-inner"\x3e\x3cspan class\x3d"preloader-inner-gap"\x3e\x3c/span\x3e\x3cspan class\x3d"preloader-inner-left"\x3e\x3cspan class\x3d"preloader-inner-half-circle"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"preloader-inner-right"\x3e\x3cspan class\x3d"preloader-inner-half-circle"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e');Be.mainView.append(c+"\x3c/div\x3e\x3c/div\x3e");0<a&&setTimeout(function(){Be.app.clear("preloader")},a)},panel:{open:function(b,a){a=a||"left";var c="with-panel with-panel-left-cover";"right"===a&&(c="with-panel with-panel-right-reveal");var d=$(".panel.panel-"+a),e=function(){d.addClass("panel-active").css("display","block");$("html").addClass(c);$(".panel-close, .panel-backdrop").one("click",function(){d.removeClass("panel-active").css("display","");$("html").removeClass(c)});"left"===a&&Be.util.anime(Be.config.panelLeft,".panel.panel-left")},g=d.html();if(null===g||0===g.length){var h=b.split("?"),g=h[0],f=h[1]||"",h=Be.util.getUrlQuery(f,"type"),m=Be.util.getUrlQuery(f,"web"),f=Be.util.getUrlQuery(f,"static")||"0";Be.router.content({name:g,type:h,web:m,"static":f,container:".panel.panel-"+a}).done(function(){e()})}else e()},close:function(b){b=b||"left";var a="with-panel with-panel-left-cover";"right"===b&&(a="with-panel with-panel-right-reveal");$(".panel.panel-"+b).removeClass("panel-active").css("display","");$("html").removeClass(a)}},picker:function(b){var a=function(a){a=$(a.target);(a.hasClass("sheet-backdrop")||a.hasClass("sheet-close"))&&Be.app.clear("picker")};b=b.split("?");var c=b[0],d=b[1]||"";b=Be.util.getUrlQuery(d,"type");var e=Be.util.getUrlQuery(d,"web"),d=Be.util.getUrlQuery(d,"static")||"0";Be.router.content({name:c,type:b,web:e,"static":d,action:"append"}).done(function(){var b=Be.router.getPicker(c);b.before('\x3cdiv class\x3d"sheet-backdrop backdrop-in"\x3e\x3c/div\x3e').addClass("modal-in");b.find(".page-content").css("padding-top","0");$(document.body).one("click",".sheet-close",a)})},payment:function(b,a){a=a||"";var c={id:"payment",type:"picker",component:[{type:"toolbar",list:[{text:Be.local.payment[Be.config.lang].title},{"class":"link sheet-close",text:Be.local.payment[Be.config.lang].button,click:"#"}]},{type:"radios",name:"payment-radio",list:[{value:"alipay",text:'\x3ci class\x3d"icon '+Be.local.payment.icon.alipay+'"\x3e\x3c/i\x3e '+Be.local.payment[Be.config.lang].alipay},{value:"weipay",text:'\x3ci class\x3d"icon '+Be.local.payment.icon.weipay+'"\x3e\x3c/i\x3e '+Be.local.payment[Be.config.lang].weipay}]},{type:"content",extCls:"payment-button",list:[{text:"\x3ca style\x3d'display:none' class\x3d'button col button-fill button-raised external' id\x3d'_be_button_payment' target\x3d'_system' data-amount\x3d'"+b+"'\x3e\x3c/button\x3e"}]},{type:"style",data:".payment-button{margin-top:-16px !important;}"},{type:"script",data:"$('input[name\x3d\"payment-radio\"]').on('click', function (e) { Be.native.payment('"+b+"',$('input[name\x3d\"payment-radio\"]:checked').val());})"}]},d={id:"payment",type:"picker",component:[{type:"toolbar",list:[{text:Be.local.payment[Be.config.lang].title},{"class":"link sheet-close",text:Be.local.payment[Be.config.lang].button,click:"#"}]},{type:"list",subtype:"icon",list:[{title:Be.local.payment[Be.config.lang].alipay,icoIos:"icon "+Be.local.payment.icon.alipay,icoMat:"icon "+Be.local.payment.icon.alipay,click:"Be.native.payment('"+b+"','alipay','"+a+"')"},{title:Be.local.payment[Be.config.lang].weipay,icoIos:"icon "+Be.local.payment.icon.weipay,icoMat:"icon "+Be.local.payment.icon.weipay,click:"Be.native.payment('"+b+"','weipay','"+a+"')"}]}]},c=Be.builder.page("web"===Be.config.type?c:d);Be.mainView.append(c);c=Be.router.getPicker("payment");c.before('\x3cdiv class\x3d"sheet-backdrop backdrop-in"\x3e\x3c/div\x3e').addClass("modal-in");c.find(".page-content").css("padding-top","0");$(document.body).one("click",".sheet-close",function(a){a=$(a.target);(a.hasClass("sheet-backdrop")||a.hasClass("sheet-close"))&&Be.app.clear("picker")})},popover:function(b,a){var c=$(a),d=c.height(),e=c.offset().top,g=function(){Be.app.clear("popover")},h=b.split("?"),c=h[0],f=h[1]||"",h=Be.util.getUrlQuery(f,"type"),m=Be.util.getUrlQuery(f,"web"),f=Be.util.getUrlQuery(f,"static")||"0";Be.router.content({name:c,type:h,web:m,"static":f,action:"append",container:Be.appRoot}).done(function(){var a=$(".popover"),b=a.width(),c=a.height(),b=Be.width-b-16,f="popover-on-bottom";Be.height>e+c?e+=d:(f="popover-on-top",e-=c);f+=" modal-in";a.before('\x3cdiv class\x3d"popover-backdrop backdrop-in" style\x3d"cursor:pointer;"\x3e\x3c/div\x3e').addClass(f).css({display:"block",top:e+"px",left:b+"px"});$(document.body).one("click",g)})},scroll:function(b){var a=!1,c=!1,d=b.data("more-url"),e=b.find(".navbar:not(.color-theme-transparent)"),g=b.find("div.page-content.infinite-scroll-content"),h=b.find("div.preloader"),f=g.find(".list ul"),m=0<e.length?e.height():0;g.scroll(function(){if(!a){var b=$(this).scrollTop(),e=$(this).height(),g=$(this).get(0).scrollHeight;b!==g-e-m||c||(c=!0,"ios"!==Be.config.theme&&0===h.find("span:first-child").length&&h.html('\x3cspan class\x3d"preloader-inner"\x3e\x3cspan class\x3d"preloader-inner-gap"\x3e\x3c/span\x3e\x3cspan class\x3d"preloader-inner-left"\x3e\x3cspan class\x3d"preloader-inner-half-circle"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"preloader-inner-right"\x3e\x3cspan class\x3d"preloader-inner-half-circle"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e'),e=d.split("?"),b=e[0],e=Be.util.getUrlQuery(e[1]||"","type"),g=f.children().length,Be.router.more({name:b,type:e,web:g,action:"append",container:f}).done(function(b){c=!1;Be.router.isEmpty(b)&&(a=!0,h.html(Be.local.other[Be.config.lang].scrollEnd),h.removeClass("preloader infinite-scroll-preloader").addClass("block text-align-center"))}))}})},pull:function(b){var a=b.data("more-url"),c=b.find(".page-content.ptr-content"),d=c.find(".ptr-preloader"),e=c.find(".list"),g=c.find(".list ul"),h=c.data("ptr-distance")||55,f=0,m=0,p=!1;c.on("touchstart",function(a){f=a.originalEvent.targetTouches[0].clientY;c.addClass("ptr-pull-down");"ios"!==Be.config.theme&&0===d.find("span:first-child").length&&d.html('\x3cspan class\x3d"preloader-inner"\x3e\x3cspan class\x3d"preloader-inner-gap"\x3e\x3c/span\x3e\x3cspan class\x3d"preloader-inner-left"\x3e\x3cspan class\x3d"preloader-inner-half-circle"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"preloader-inner-right"\x3e\x3cspan class\x3d"preloader-inner-half-circle"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e')});c.on("touchmove",function(a){m=a.originalEvent.targetTouches[0].clientY-f;m>h&&(e.css("transform","translateY("+h+"px)"),p||(p=!0,c.removeClass("ptr-pull-down").addClass("ptr-pull-up")))});c.on("touchend",function(){e.css("transform","translateY(0px)");if(p){p=!1;c.addClass("ptr-transitioning ptr-refreshing");var b=a.split("?"),d=b[0],b=Be.util.getUrlQuery(b[1]||"","type"),f=g.children().length;Be.router.more({name:d,type:b,web:f,action:"prepend",container:g}).done(function(a){setTimeout(function(){c.removeClass("ptr-pull-down ptr-pull-up ptr-transitioning ptr-refreshing");Be.router.isEmpty(a)&&(bOver=!0,c.off("touchstart"),c.off("touchmove"),c.off("touchend"),Be.app.alert(Be.local.other[Be.config.lang].ptrEnd))},300)})}})},searchbar:function(b){var a=b.find("form.searchbar"),c=a.data("search-container"),d=a.data("search-in"),e=a.data("search-list"),g=a.data("found"),h=a.data("not-found"),f=b.find(c+g),m=b.find(h),p=b.find("div.searchbar-backdrop"),r=a.find("input"),c=a.find("span.input-clear-button"),g=a.find("span.searchbar-disable-button"),t=function(b){r.val("");b?(a.removeClass("searchbar-focused searchbar-enabled"),r.removeClass("input-focused input-with-value"),p.hasClass("searchbar-backdrop-in")&&p.removeClass("searchbar-backdrop-in")):(p.hasClass("searchbar-backdrop-in")||p.addClass("searchbar-backdrop-in"),r.focus());m.css("display","none");f.find(e).each(function(){$(this).removeClass("hidden-by-searchbar")})};b=b.find(".navbar .searchbar-enable");if("undefined"!==typeof b)b.on("click",function(){r.trigger("click")});g.on("click",function(){t(!0)});c.on("click",function(){t(!1)});r.on("click",function(){a.hasClass("searchbar-enabled")||(a.addClass("searchbar-focused searchbar-enabled"),r.addClass("input-focused"),p.addClass("searchbar-backdrop-in"))});r.on("input propertychange",function(){var a=$(this).val().toLowerCase();0<a.length&&(p.hasClass("searchbar-backdrop-in")&&p.removeClass("searchbar-backdrop-in"),r.hasClass("input-with-value")||r.addClass("input-with-value"));var b=!1;f.find(e).each(function(){-1===$(this).find(d).text().toLowerCase().indexOf(a)?$(this).addClass("hidden-by-searchbar"):(b=!0,$(this).removeClass("hidden-by-searchbar"))});b?m.css("display","none"):m.css("display","block")})},navbar:{hide:function(b){var a=b.find(".page-content");b=b.find(".navbar:not(.navbar-hidden)");0<b.length&&(b.addClass("navbar-hidden"),a.css("padding-top",0))},show:function(b){var a=b.find(".page-content");b=b.find(".navbar");0<b.length&&b.hasClass("navbar-hidden")&&(b.removeClass("navbar-hidden"),b=b.height(),a.css("padding-top",b+"px"))},scroll:{hide:function(b,a){var c=b.find(".page-content"),d=b.find(".navbar");1<c.length&&(c=b.find(".page-content.tab-active"));var e=0;a=a||d.height();c.on("scroll",function(){var b=c.scrollTop();b>a?0===e?d.hasClass("navbar-hidden")||(d.addClass("navbar-hidden navbar-transitioning"),setTimeout(function(){d.removeClass("navbar-transitioning");e=b},500)):setTimeout(function(){e>b?d.hasClass("navbar-hidden")&&(d.removeClass("navbar-hidden").addClass("navbar-transitioning"),setTimeout(function(){d.removeClass("navbar-transitioning");e=b},300)):d.hasClass("navbar-hidden")||(d.addClass("navbar-hidden navbar-transitioning"),setTimeout(function(){d.removeClass("navbar-transitioning");e=b},300));e=b},300):d.hasClass("navbar-hidden")&&(d.removeClass("navbar-hidden").addClass("navbar-transitioning"),setTimeout(function(){d.removeClass("navbar-transitioning");e=0},500))})},show:function(b,a){var c=b.find(".page-content"),d=b.find(".navbar");c.on("scroll",function(){c.scrollTop()>a?d.hasClass("navbar-hidden")&&(d.removeClass("navbar-hidden").addClass("navbar-transitioning"),setTimeout(function(){d.removeClass("navbar-transitioning")},500)):d.hasClass("navbar-hidden")||(d.addClass("navbar-hidden navbar-transitioning"),setTimeout(function(){d.removeClass("navbar-transitioning")},500))})},transparent:function(b){var a=b.find(".page-content"),c=b.find(".card-menu-top"),d=b.find(".navbar"),e=d.height();0<c.length&&(e=c.height());a.on("scroll",function(){a.scrollTop()>=e?d.hasClass("color-theme-transparent")&&d.removeClass("color-theme-transparent"):d.hasClass("color-theme-transparent")||d.addClass("color-theme-transparent")})}}},toolbar:{hide:function(b){b=b.find(".toolbar:not(.toolbar-hidden)");0<b.length&&b.addClass("navbar-hidden")},show:function(b){b=b.find(".toolbar");0<b.length&&b.hasClass("toolbar-hidden")&&b.removeClass("toolbar-hidden")},scroll:{hide:function(b,a){var c=b.find(".page-content"),d=b.find(".toolbar"),e=0;a=a||d.height();c.on("scroll",function(){var b=c.scrollTop();b>a?0===e?d.hasClass("toolbar-hidden")||(d.addClass("toolbar-hidden toolbar-transitioning"),setTimeout(function(){d.removeClass("toolbar-transitioning");e=b},500)):setTimeout(function(){e>b?d.hasClass("toolbar-hidden")&&(d.removeClass("toolbar-hidden").addClass("toolbar-transitioning"),setTimeout(function(){d.removeClass("toolbar-transitioning");e=b},300)):d.hasClass("toolbar-hidden")||(d.addClass("toolbar-hidden toolbar-transitioning"),setTimeout(function(){d.removeClass("toolbar-transitioning");e=b},300));e=b},300):d.hasClass("toolbar-hidden")&&(d.removeClass("toolbar-hidden").addClass("toolbar-transitioning"),setTimeout(function(){d.removeClass("toolbar-transitioning");e=0},500))})},show:function(b,a){var c=b.find(".page-content"),d=b.find(".toolbar");d.height();c.on("scroll",function(){c.scrollTop()>a?d.hasClass("toolbar-hidden")&&(d.removeClass("toolbar-hidden").addClass("toolbar-transitioning"),setTimeout(function(){d.removeClass("toolbar-transitioning")},500)):d.hasClass("toolbar-hidden")||(d.addClass("toolbar-hidden toolbar-transitioning"),setTimeout(function(){d.removeClass("toolbar-transitioning")},500))})}}},lazyLoad:function(b){var a=!1,c=[],d=b.find("div.page-content"),e=function(a){"IMG"===a.get(0).tagName?a.attr("src",a.data("src")):a.css("background-image","url("+a.data("background")+")");a.removeClass("lazy").addClass("lazy-loaded")};b.find(".lazy").each(function(){Be.util.elInViewport(this)?e($(this)):c.push(this)});d.scroll(function(){if(0<c.length&&!a){a=!0;for(var b=0;b<c.length;b++)if(Be.util.elInViewport(c[b])){e($(c[b]));c.splice(b,1);break}a=!1}})},progressbar:{show:function(b,a,c){var d=Be.appRoot;if(!d.children("span.progressbar, span.progressbar-infinite").length){a=a||"";c=c||"pbar-"+Date.parse(new Date);var e=""===a?"":" color-"+a;"ios"===Be.config.theme&&"multi"===a&&(e="");a='\x3cspan id\x3d"'+c+'"';""===b?a+=' class\x3d"progressbar-infinite'+e+'"\x3e\x3c/span\x3e':(100<b&&(b=100),a+=' class\x3d"progressbar progressbar-in'+e+'"\x3e\x3cspan style\x3d"transform:translate3d('+(b-100)+'%, 0px, 0px);"\x3e\x3c/span\x3e\x3c/span\x3e');d.append(a);return d.find("span#"+c)}},hide:function(b){b&&b.remove()},hideEx:function(){Be.appRoot.find("span.progressbar,span.progressbar-infinite").each(function(){$(this).remove()})},set:function(b,a){100<a&&(a=100);var c=a-100;0===b.find("span:first-child").length&&b.html('\x3cspan style\x3d"transform:translate3d(0%, 0px, 0px);"\x3e\x3c/span\x3e');b.attr("data-progress",a);b.find("span").css("transform","translate3d("+c+"%, 0px, 0px)")}},swipeout:function(b){var a=0,c=0,d=0,e=!1,g=null,h=null,f=null;b=b.find("li.swipeout");b.on("touchstart",function(a){c=0;d=a.originalEvent.targetTouches[0].clientX});b.on("touchmove",function(b){if(!e){g=$(this);var m="";0<g.find("div.swipeout-actions-right").length?(m="right",f=g.find("div.swipeout-actions-right")):0<g.find("div.swipeout-actions-left").length&&(m="left",f=g.find("div.swipeout-actions-left"));if(""!==m){a=b.originalEvent.targetTouches[0].clientX-d;h=g.find("div.swipeout-content");var r=f.width();if("right"===m&&-30>a||"left"===m&&30<a)if(c=1,h.css("transform","translate3d("+a+"px, 0px, 0px)"),f.find("a").css("transform","translate3d("+a+"px, 0px, 0px)"),Math.abs(a)>=r&&!g.hasClass("swipeout-opened"))if(e=!0,c=2,g.addClass("swipeout-opened"),f.addClass("swipeout-actions-opened"),f.hasClass("swipeout-actions-right"))h.css("transform","translate3d(-"+r+"px, 0px, 0px)"),f.find("a").css("transform","translate3d(-"+r+"px, 0px, 0px)");else{var t=100;h.css({left:"0px",transform:"translate3d("+r+"px, 0px, 0px)"});f.find("a").each(function(){$(this).css({"z-index":t,left:"0px",transform:"translate3d("+r+"px, 0px, 0px)"});t--})}}}});b.on("touchend",function(){if(1===c){var a=f.width();g.addClass("swipeout-opened");f.addClass("swipeout-actions-opened");if(f.hasClass("swipeout-actions-right"))h.css("transform","translate3d(-"+a+"px, 0px, 0px)"),f.find("a").css("transform","translate3d(-"+a+"px, 0px, 0px)");else{var b=100;h.css({left:"0px",transform:"translate3d("+a+"px, 0px, 0px)"});f.find("a").each(function(){$(this).css({"z-index":b,left:"0px",transform:"translate3d("+a+"px, 0px, 0px)"});b--})}}});b.on("click",function(a){g&&f&&"undefined"!==typeof $(this).closest("li")&&(g.removeClass("swipeout-opened"),f.removeClass("swipeout-actions-opened"),h.css("transform",""),f.find("a").css("transform",""),e=!1,f=h=g=null)})},photoCover:function(b){var a=b.find(".photo-cover"),c=a.find("button.photo-cover-trigger");c.on("click",function(){a.hasClass("photo-cover-open")?(a.removeClass("photo-cover-open"),c.removeClass("photo-cover-trigger-active"),Be.app.navbar.show(b)):(a.addClass("photo-cover-open"),c.addClass("photo-cover-trigger-active"),Be.app.navbar.hide(b))})},photoView:function(b,a,c){a=a||!1;c=c||!1;var d=function(){var b="photo-view-"+Be.util.getTimestamp(),c="",d="",e="";a?(c=" color-theme-transparent ",c="ios"===Be.config.theme?c+"no-hairline":c+"no-shadow",d=" photo-browser-black",e=" photo-browser-captions-dark"):e=" photo-browser-captions-light";c='\x3cdiv class\x3d"page auto-created" data-name\x3d"'+b+'"\x3e'+('\x3cdiv class\x3d"navbar'+c+'"\x3e\x3cdiv class\x3d"navbar-inner"\x3e')+'\x3cdiv class\x3d"left"\x3e\x3ca href\x3d"#" class\x3d"link photo-view-close"\x3e\x3ci class\x3d"icon icon-back"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e';c+='\x3cdiv class\x3d"title"\x3e\x3cspan class\x3d"photo-browser-current"\x3e1\x3c/span\x3e\x3cspan class\x3d"photo-browser-of"\x3e/\x3c/span\x3e\x3cspan class\x3d"photo-browser-total"\x3e\x3c/span\x3e\x3c/div\x3e';c+='\x3cdiv class\x3d"right"\x3e\x3ca href\x3d"#" class\x3d"link photo-view-prev"\x3e\x3ci class\x3d"'+Be.iconPrefix+'-icons"\x3echevron_left\x3c/i\x3e\x3c/a\x3e\x3ca href\x3d"#" class\x3d"link photo-view-next"\x3e\x3ci class\x3d"'+Be.iconPrefix+'-icons"\x3echevron_right\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e';c+="\x3c/div\x3e\x3c/div\x3e";c+='\x3cdiv class\x3d"page-content'+d+'"\x3e';c+='\x3cdiv class\x3d"photo-browser-captions'+e+'"\x3e';c+='\x3cdiv class\x3d"photo-browser-caption photo-browser-caption-active"\x3e\x3c/div\x3e';c+="\x3c/div\x3e";c+='\x3cdiv class\x3d"photo-browser-swiper-container swiper-container"\x3e';c+='\x3cdiv class\x3d"photo-browser-slide swiper-slide swiper-slide-active" style\x3d"left:0px; width:100%; margin-right:20px;"\x3e\x3c/div\x3e';c+="\x3c/div\x3e";c+="\x3c/div\x3e";Be.mainView.append(c);var p=Be.router.getPage(b);Be.config.pageAnimate&&Be.util.anime(Be.config.forwardAnimate,'.page[data-name\x3d"'+b+'"]');p.on("click",".link.photo-view-close",function(){Be.config.pageAnimate?Be.util.anime(Be.config.backwardAnimate,'.page[data-name\x3d"'+b+'"]',function(){$('.page[data-name\x3d"'+b+'"]').remove()}):p.remove()});return p},e=function(a,b){var d=b.length,e=a.find(".navbar .photo-browser-current"),g=a.find(".navbar .photo-browser-total"),h=a.find(".navbar .photo-view-prev"),t=a.find(".navbar .photo-view-next"),n=a.find(".photo-browser-swiper-container"),k=a.find(".photo-browser-slide"),l=a.find(".photo-browser-caption"),q=function(a,b){var c=document.createElement(b||"div");c.className=a;return c},u=function(a,d){var f=b[a],e=q("pview-item pview-img","img");e.setAttribute("data-be-index",a);e.src=f.src;var g=function(){e.onload=e.onerror=null;k.html(e);l.html(f.title?f.title:"");d&&d.call(e);e=null;c&&Be.app.clear();Be.util.anime(Be.config.photoAnimate,".photo-browser-slide")};e.complete?g():(c&&Be.app.preloader("white"),e.onload=function(){g()},e.onerror=function(){c&&Be.app.clear();Be.app.alert(Be.local.other[Be.config.lang].imageLoadErr)})},v=function(a){if(!(0>a||a>d-1)){if(b[a].html){var c=b[a],f=q("pview-item pview-div");f.innerHTML=c.html;f.setAttribute("data-be-index",a);k.html(f);l.html("");Be.util.anime(Be.config.photoAnimate,".photo-browser-slide")}else u(a);e.html(a+1)}},x,y;n.on("touchstart",function(a){x="touchstart"===a.type?a.originalEvent.targetTouches[0].pageX:a.pageX});n.on("touchmove",function(a){y="touchmove"===a.type?a.originalEvent.targetTouches[0].pageX:a.pageX});n.on("touchend",function(a){var b=y-x;if(!(0>y||0>x||isNaN(b)||10>Math.abs(b))){var c=k.find(".pview-item");0!==c.length&&(c=parseInt(c.data("be-index")),10<b?(a.preventDefault(),c++):(a.preventDefault(),c--),v(c),y=x=-1)}});h.on("click",function(){var a=k.find(".pview-item"),a=parseInt(a.data("be-index"));a--;0>a&&(a=d-1);v(a)});t.on("click",function(){var a=k.find(".pview-item"),a=parseInt(a.data("be-index"));a++;a>=d&&(a=0);v(a)});g.html(d);v(0)};$.getJSON(Be.config.url+"/"+b,function(a){var b=d();e(b,a)})},photoZoom:function(b,a,c,d){a=a||"";c=c||!1;d=d||!1;-1<b.indexOf("{url}")&&(b=b.replace("{url}",Be.config.url));(function(a,b){var c=a.find("div.photo-browser-slide"),f=function(a,b){var c=document.createElement(b||"div");c.className=a;return c};(function(){var a=f("pview-item","img");a.src=b;var e=function(){a.onload=a.onerror=null;c.html(a);a=null;d&&Be.app.clear();Be.util.anime(Be.config.photoAnimate,".photo-browser-slide")};a.complete?e():(d&&Be.app.preloader("white"),a.onload=function(){e()},a.onerror=function(){d&&Be.app.clear();Be.app.alert(Be.local.other[Be.config.lang].imageLoadErr)})})();new PinchZoom(c[0],{})})(function(){var b="photo-view-"+Be.util.getTimestamp(),d=" text-color-white",h="";c?h=" photo-browser-black":d=" text-color-black";var f;f='\x3cdiv class\x3d"page auto-created" data-name\x3d"'+b+'"\x3e'+('\x3cdiv class\x3d"navbar color-theme-transparent cover-navbar '+("ios"===Be.config.theme?"no-hairline":"no-shadow")+'"\x3e\x3cdiv class\x3d"navbar-inner"\x3e');f+='\x3cdiv class\x3d"title'+d+'"\x3e'+a+"\x3c/div\x3e";f+='\x3cdiv class\x3d"right"\x3e\x3ca href\x3d"#" class\x3d"link photo-view-close'+d+'"\x3e\x3ci class\x3d"'+Be.iconPrefix+'-icons"\x3eclose\x3c/i\x3e\x3c/a\x3e\x3c/div\x3e';f=f+"\x3c/div\x3e\x3c/div\x3e"+('\x3cdiv class\x3d"page-content'+h+'"\x3e')+'\x3cdiv class\x3d"photo-browser-swiper-container swiper-container"\x3e';f+='\x3cdiv class\x3d"photo-browser-slide swiper-slide swiper-slide-active" style\x3d"left:0px; width:100%; margin-right:20px;"\x3e\x3c/div\x3e';f+="\x3c/div\x3e";f+="\x3c/div\x3e";Be.mainView.append(f);var m=Be.router.getPage(b);Be.config.pageAnimate&&Be.util.anime(Be.config.forwardAnimate,'.page[data-name\x3d"'+b+'"]');m.on("click",".link.photo-view-close",function(){Be.config.pageAnimate?Be.util.anime(Be.config.backwardAnimate,'.page[data-name\x3d"'+b+'"]',function(){$('.page[data-name\x3d"'+b+'"]').remove()}):m.remove()});return m}(),b)},pagePicker:function(b,a,c,d){var e=function(a,b,c,d){c=c||"";d=d||!1;var f="page-selector-"+Be.util.getTimestamp(),e="ios"===Be.config.theme?'\x3ci class\x3d"f7-icons"\x3echeck\x3c/i\x3e':'\x3ci class\x3d"material-icons"\x3edone\x3c/i\x3e',g=d?"checkbox":"radio";c='\x3cdiv class\x3d"page auto-created" data-name\x3d"'+f+'" data-be-init\x3d"searchbar"\x3e\x3cdiv class\x3d"navbar"\x3e\x3cdiv class\x3d"navbar-inner"\x3e'+('\x3cdiv class\x3d"title"\x3e'+c+"\x3c/div\x3e");c+='\x3cdiv class\x3d"right"\x3e\x3ca href\x3d"#" class\x3d"link seletor-close"\x3e'+e+"\x3c/a\x3e\x3c/div\x3e";c+="\x3c/div\x3e\x3c/div\x3e";c+='\x3cform class\x3d"searchbar" data-search-container\x3d".list" data-search-in\x3d".item-title" data-found\x3d".searchbar-found" data-not-found\x3d".searchbar-not-found"\x3e';c+='\x3cdiv class\x3d"searchbar-inner"\x3e';c+='\x3cdiv class\x3d"searchbar-input-wrap"\x3e';c+='\x3cinput type\x3d"search" placeholder\x3d"'+Be.local.searchbar[Be.config.lang].placeholder+'" onkeydown\x3d"if(event.keyCode\x3d\x3d\x3d13){return false;}" /\x3e';c+='\x3ci class\x3d"searchbar-icon"\x3e\x3c/i\x3e';c+='\x3cspan class\x3d"input-clear-button"\x3e\x3c/span\x3e';c+="\x3c/div\x3e";c+='\x3cspan class\x3d"searchbar-disable-button"\x3e'+Be.local.dialog[Be.config.lang].cancel+"\x3c/span\x3e";c+="\x3c/div\x3e";c+="\x3c/form\x3e";c+='\x3cdiv class\x3d"page-content"\x3e';c+='\x3cdiv class\x3d"searchbar-backdrop"\x3e\x3c/div\x3e';c+='\x3cdiv class\x3d"block searchbar-not-found"\x3e\x3cp\x3e'+Be.local.searchbar[Be.config.lang].result+"\x3c/p\x3e\x3c/div\x3e";c+='\x3cdiv class\x3d"list searchbar-found"\x3e';c+="\x3cul\x3e";for(e=0;e<b.length;e++)c+="\x3cli\x3e",c+='\x3clabel class\x3d"item-'+g+' item-content"\x3e',c+='\x3cinput type\x3d"'+g+'" name\x3d"'+g+'-item" value\x3d"'+b[e]+'"\x3e',c+='\x3ci class\x3d"icon icon-'+g+'"\x3e\x3c/i\x3e',c+='\x3cdiv class\x3d"item-inner"\x3e\x3cdiv class\x3d"item-title"\x3e'+b[e]+"\x3c/div\x3e\x3c/div\x3e",c+="\x3c/label\x3e",c+="\x3c/li\x3e";c+="\x3c/ul\x3e";c+="\x3c/div\x3e";c+="\x3c/div\x3e";c+="\x3c/div\x3e";Be.mainView.append(c);var h=Be.router.getPage(f);Be.config.pageAnimate&&Be.util.anime(Be.config.forwardAnimate,'.page[data-name\x3d"'+f+'"]');Be.app.searchbar(h);h.on("click",".link.seletor-close",function(){var b="";if(d){var c=[];$('input[type\x3d"checkbox"]:checked').each(function(){c.push($(this).val())});b=c.join(",")}else b=h.find('input[type\x3d"radio"]:checked').val();$("input"+a).val(b);Be.config.pageAnimate?Be.util.anime(Be.config.backwardAnimate,'.page[data-name\x3d"'+f+'"]',function(){$('.page[data-name\x3d"'+f+'"]').remove()}):h.remove()})};$.getJSON(Be.config.url+"/"+a,function(a){e(b,a,c,d)})},selector:function(b,a,c,d,e){c=Be.config.url+"/"+c;var g=Be.router.getPage(b),h=function(a,b,c,d,e){d=d||"";e=e||!1;var f="page-selector-"+Be.util.getTimestamp(),g="ios"===Be.config.theme?'\x3ci class\x3d"f7-icons"\x3echeck\x3c/i\x3e':'\x3ci class\x3d"material-icons"\x3edone\x3c/i\x3e',h=e?"checkbox":"radio";d='\x3cdiv class\x3d"page auto-created" data-name\x3d"'+f+'" data-be-init\x3d"searchbar"\x3e\x3cdiv class\x3d"navbar"\x3e\x3cdiv class\x3d"navbar-inner"\x3e'+('\x3cdiv class\x3d"title"\x3e'+d+"\x3c/div\x3e");d+='\x3cdiv class\x3d"right"\x3e\x3ca href\x3d"#" class\x3d"link seletor-close"\x3e'+g+"\x3c/a\x3e\x3c/div\x3e";d+="\x3c/div\x3e\x3c/div\x3e";d+='\x3cform class\x3d"searchbar" data-search-container\x3d".list" data-search-in\x3d".item-title" data-found\x3d".searchbar-found" data-not-found\x3d".searchbar-not-found"\x3e';d+='\x3cdiv class\x3d"searchbar-inner"\x3e';d+='\x3cdiv class\x3d"searchbar-input-wrap"\x3e';d+='\x3cinput type\x3d"search" placeholder\x3d"'+Be.local.searchbar[Be.config.lang].placeholder+'" onkeydown\x3d"if(event.keyCode\x3d\x3d\x3d13){return false;}" /\x3e';d+='\x3ci class\x3d"searchbar-icon"\x3e\x3c/i\x3e';d+='\x3cspan class\x3d"input-clear-button"\x3e\x3c/span\x3e';d+="\x3c/div\x3e";d+='\x3cspan class\x3d"searchbar-disable-button"\x3e'+Be.local.dialog[Be.config.lang].cancel+"\x3c/span\x3e";d+="\x3c/div\x3e";d+="\x3c/form\x3e";d+='\x3cdiv class\x3d"page-content"\x3e';d+='\x3cdiv class\x3d"searchbar-backdrop"\x3e\x3c/div\x3e';d+='\x3cdiv class\x3d"block searchbar-not-found"\x3e\x3cp\x3e'+Be.local.searchbar[Be.config.lang].result+"\x3c/p\x3e\x3c/div\x3e";d+='\x3cdiv class\x3d"list searchbar-found"\x3e';d+="\x3cul\x3e";for(g=0;g<c.length;g++)d+="\x3cli\x3e",d+='\x3clabel class\x3d"item-'+h+' item-content"\x3e',d+='\x3cinput type\x3d"'+h+'" name\x3d"'+h+'-item" value\x3d"'+c[g]+'"\x3e',d+='\x3ci class\x3d"icon icon-'+h+'"\x3e\x3c/i\x3e',d+='\x3cdiv class\x3d"item-inner"\x3e\x3cdiv class\x3d"item-title"\x3e'+c[g]+"\x3c/div\x3e\x3c/div\x3e",d+="\x3c/label\x3e",d+="\x3c/li\x3e";d+="\x3c/ul\x3e";d+="\x3c/div\x3e";d+="\x3c/div\x3e";d+="\x3c/div\x3e";Be.mainView.append(d);var m=Be.router.getPage(f);Be.config.pageAnimate&&Be.util.anime(Be.config.forwardAnimate,'.page[data-name\x3d"'+f+'"]');Be.app.searchbar(m);m.on("click",".link.seletor-close",function(){var c="";if(e){var d=[];$('input[type\x3d"checkbox"]:checked').each(function(){d.push($(this).val())});c=d.join(",")}else c=m.find('input[type\x3d"radio"]:checked').val();a.find(b).find(".item-after").text(c);a.find(b).find("input").val(c);Be.config.pageAnimate?Be.util.anime(Be.config.backwardAnimate,'.page[data-name\x3d"'+f+'"]',function(){$('.page[data-name\x3d"'+f+'"]').remove()}):m.remove()})};$.getJSON(c,function(b){h(g,a,b,d,e)})},stepper:function(b){b.find("div.stepper").each(function(){var a=$(this),c=a.find("div.stepper-button-minus"),d=a.find("div.stepper-button-plus"),e=a.data("value"),g=a.data("min"),h=a.data("max"),f=a.data("step"),a=a.data("value-el"),m=b.find(a);m.text(e);c.on("click",function(){var a=m.text();""===a&&(a=0);a=parseFloat(a);a>parseFloat(g)&&(a-=parseFloat(f),m.text(a))});d.on("click",function(){var a=m.text();""===a&&(a=0);a=parseFloat(a);a<parseFloat(h)&&(a+=parseFloat(f),m.text(a))})})},range:function(b){var a=function(a,b){var c=a.next("div.range-bar"),d=c.next("div.range-knob-wrap"),h=c.find("div.range-bar-active"),f=d.find("div.range-knob"),m=d.find("div.range-knob-label"),p=c.width()-4,r=c.offset().left;0>b&&(b=0);100<b&&(b=100);d.css("left",p*b*.01+"px");var t=function(b){b-=r;0>b&&(b=0);b>p&&(b=p);var c=parseInt(b/p*100);a.attr("value",c);m.text(c);h.css("width",c+"%");d.css("left",b+"px")};c.on("click",function(a){t(a.pageX);d.addClass("range-knob-active-state");setTimeout(function(){d.removeClass("range-knob-active-state")},1E3)});f.on("touchstart",function(a){f.addClass("active-state")});f.on("touchmove",function(a){d.hasClass("range-knob-active-state")||d.addClass("range-knob-active-state");f.hasClass("active-state")&&f.removeClass("active-state");t(a.originalEvent.targetTouches[0].clientX)});f.on("touchend",function(){d.removeClass("range-knob-active-state")})};b.find('input[type\x3d"range"]').each(function(){var b=$(this),d=b.attr("value");b.after('\x3cdiv class\x3d"range-bar"\x3e\x3cdiv class\x3d"range-bar-active" style\x3d"width:'+d+'%;"\x3e\x3c/div\x3e\x3c/div\x3e'+('\x3cdiv class\x3d"range-knob-wrap"\x3e\x3cdiv class\x3d"range-knob"\x3e\x3c/div\x3e\x3cdiv class\x3d"range-knob-label"\x3e'+d+"\x3c/div\x3e\x3c/div\x3e"));setTimeout(function(){a(b,d)},500)})},input:function(b){b.on("focus",'input[type\x3d"text"],input[type\x3d"password"],input[type\x3d"email"],input[type\x3d"url"],input[type\x3d"tel"],input[type\x3d"number"],input[type\x3d"date"],input[type\x3d"time"],input[type\x3d"datetime-local"],textarea,select',function(a){var b=$(a.target),d=b.closest("li.item-input");0<d.length&&(d.addClass("item-input-focused"),b.addClass("input-focused"));Be.device.android&&setTimeout(function(){a.target.scrollIntoViewIfNeeded()},300)});b.on("blur",'input[type\x3d"text"],input[type\x3d"password"],input[type\x3d"email"],input[type\x3d"url"],input[type\x3d"tel"],input[type\x3d"number"],input[type\x3d"date"],input[type\x3d"time"],input[type\x3d"datetime-local"],textarea,select',function(a){a=$(a.target);var b=a.closest("li.item-input");0<b.length&&(0<a.val().length?(b.removeClass("item-input-focused").addClass("item-input-with-value"),a.removeClass("input-focused").addClass("input-with-value")):(b.removeClass("item-input-focused item-input-with-value"),a.removeClass("input-focused input-with-value")))})},textarea:function(b){b.find("textarea").each(function(){var a=$(this);a.attr("_initAdjustHeight")||a.attr("_initAdjustHeight",a.outerHeight());a.on("input propertychange",function(){a.css({height:a.attr("_initAdjustHeight"),"overflow-y":"hidden"}).height(a[0].scrollHeight-10)})})},tabs:function(b){var a=b.find("div.toolbar-inner");0===a.length&&(a=b.find("div.segmented"));var c=a.find("a:first-child"),d=c.attr("href");b=b.find("div"+d);"ios"!==Be.config.theme&&(d=c.innerWidth(),a.append('\x3cspan class\x3d"tab-link-highlight" style\x3d"width:'+d+'px; transform: translate3d(0px, 0px, 0px);"\x3e\x3c/span\x3e'));var c=c.data("page").split("?"),a=c[0],e=c[1]||"",c=Be.util.getUrlQuery(e,"type"),d=Be.util.getUrlQuery(e,"web"),e=Be.util.getUrlQuery(e,"static")||"0";Be.router.content({name:a,type:c,web:d,"static":e,container:b})},indexList:function(b){function a(a,b){var c=d.find("ul:first"),e=d.find(f+"[data-sort\x3d'"+a+"']:first");g.text(b);g.css("display","");d.scrollTop(e.offset().top-c.offset().top);setTimeout(function(){g.css("display","none");g.text("")},500)}var c=b.find(".navbar"),d=b.find("div.list.indexlist"),e=b.find("ul.indexlist-navlist"),g=b.find("div.indexlist-indicator"),h=0<c.length?c.height():0,f="group"===d.data("list-type")?"li":".item-content";(function(){var b=d.css("margin-top"),b=b.replace("px",""),c=Be.height-d.offset().top-h-10,c=c-parseInt(b);d.css("height",c.toFixed(0)+"px");e.find("li").each(function(){$(this).on("click",function(){a($(this).data("sort"),$(this).text())})})})()},sortable:function(b){var a=b.find(".sortable-toggle"),c=b.find("div.list.sortable"),d=c.find("div.sortable-handler"),e=a.html(),g=c.data("sort-done");-1<g.indexOf("{theme}")&&(g="ios"===Be.config.theme?g.replace("{theme}","f7"):g.replace("{theme}","material"));a.on("click",function(){c.hasClass("sortable-enabled")?(c.removeClass("sortable-enabled"),d.css("touch-action",""),a.html(e)):(c.addClass("sortable-enabled"),d.css("touch-action","none"),a.html(g))});b.find("ul").each(function(){$(this).find("li").arrangeable({outerHeight:$(this).height(),dragSelector:".sortable-handler"})});b.on("drag.end.arrangeable",function(a,c){doSortable(b,c)})},handleClicks:function(b){var a=$(b.target),c=a.closest("a"),d=0<c.length,e=d&&c.attr("href"),g=d&&c.hasClass("tab-link")&&c.attr("data-page"),h=d&&c.hasClass("button")&&c.attr("data-page"),f=d&&"toolbar"===c.attr("data-type"),m=d&&0<c.closest(".accordion-item").eq(0).length,p=d&&0<c.closest(".fab").eq(0).length;if(d&&("ios"===Be.config.theme||c.hasClass("back")||(c.addClass("active-state"),setTimeout(function(){c.removeClass("active-state")},300)),c.hasClass(Be.config.outerLinks)||e&&0<=e.indexOf("javascript:"))){a=c.attr("target");!e||"_system"!==a&&"_blank"!==a||(b.preventDefault(),Be["native"].open(e));return}if(g){var r=a.closest(".page"),a=r.find(".toolbar-inner"),f=r.find(".tabs");b=f.find("div"+e);e=c.data("page");if("ios"!==Be.config.theme){var d=c.innerWidth(),t=parseInt(c.data("idx")),n=0;a.find("a").each(function(){t>parseInt($(this).data("idx"))&&(n+=$(this).innerWidth())});n+="px";a.find("a").removeClass("tab-link-active");c.addClass("tab-link-active");a.find("span.tab-link-highlight").css({width:d+"px",transform:"translate3d("+n+", 0px, 0px)"})}else a.find("a").removeClass("tab-link-active"),c.addClass("tab-link-active");""!==e&&(f.find("div.tab").removeClass("tab-active"),b.addClass("tab-active"),"undefined"!==typeof e&&0<b.length&&(""===b.html()&&(a=e.split("?"),e=a[0],g=a[1]||"",a=Be.util.getUrlQuery(g,"type"),f=Be.util.getUrlQuery(g,"web"),d=Be.util.getUrlQuery(g,"static")||"0",Be.router.content({name:e,type:a,web:f,"static":d,container:b})),-1<r.data("be-init").indexOf("hide-navbar-on-scroll")&&Be.app.navbar.scroll.hide(r)))}else if(h)r=a.closest(".page"),a=r.find(".segmented"),f=r.find(".tabs"),b=f.find("div"+e),e=c.data("page"),a.find("a").removeClass("button-active"),c.addClass("button-active"),""!==e&&(f.find("div.tab").removeClass("tab-active"),b.addClass("tab-active"),"undefined"!==typeof e&&0<b.length&&(""===b.html()&&(a=e.split("?"),e=a[0],g=a[1]||"",a=Be.util.getUrlQuery(g,"type"),f=Be.util.getUrlQuery(g,"web"),d=Be.util.getUrlQuery(g,"static")||"0",Be.router.content({name:e,type:a,web:f,"static":d,container:b})),-1<r.data("be-init").indexOf("hide-navbar-on-scroll")&&Be.app.navbar.scroll.hide(r)));else if(m)e=c.closest(".accordion-item").eq(0),e.length||(e=c.parents("li").eq(0)),1<c.parents("li").length&&c.parents("li")[0]!==e[0]||(e.hasClass("accordion-item-opened")?(b=e.children(".accordion-item-content"),0===b.length&&(b=e.find(".accordion-item-content")),e.removeClass("accordion-item-opened"),b.attr("aria-hidden",!0)):(b=e.children(".accordion-item-content"),b.removeAttr("aria-hidden"),e.addClass("accordion-item-opened")));else if(p)e=c.closest(".fab").eq(0),b=c.next(".fab-buttons"),e.length&&b.length&&e.toggleClass("fab-opened");else if(d=e&&0<e.length&&"#"!==e,f&&d)b.preventDefault(),r=a.closest(".page"),a=e.split("?"),e=a[0],g=a[1]||"",a=Be.util.getUrlQuery(g,"type"),f=Be.util.getUrlQuery(g,"web"),d=Be.util.getUrlQuery(g,"static")||"0",h=Be.util.getUrlQuery(g,"push"),b=Be.util.getUrlQuery(g,"reload"),g='.page[data-name\x3d"'+r.data("name")+'"] .page-content',Be.router.content({name:e,type:a,web:f,"static":d,push:h,reload:b,container:g});else if(d||c.hasClass("back"))if(b.preventDefault(),c.hasClass("back"))r=a.closest(".page"),"Y"===r.data("alone")?Be.config.pageAnimate&&(e=Be.config.backwardAnimate,"Y"===r.data("popup")&&(e=Be.config.popOutAnimate),Be.util.anime(e,'.page[data-name\x3d"'+r.data("name")+'"]',function(){r.remove()})):(b="0",d&&(a=e.split("?"),g=a[1]||"",f=Be.util.getUrlQuery(g,"web"),b=Be.util.getUrlQuery(g,"reload"),f&&Be.router.history.setParam(Be.router.history.name[Be.router.history.name.length-1],f)),Be.router.back(b));else{a=e.split("?");e=a[0];g=a[1]||"";a=Be.util.getUrlQuery(g,"type");f=Be.util.getUrlQuery(g,"web");h=Be.util.getUrlQuery(g,"push");d=Be.util.getUrlQuery(g,"static")||"0";b=Be.util.getUrlQuery(g,"reload");var m=Be.util.getUrlQuery(g,"action"),p=Be.util.getUrlQuery(g,"js"),k=Be.util.getUrlQuery(g,"same"),g=Be.util.getUrlQuery(g,"container");Be.router.navigate({name:e,type:a,web:f,action:m,"static":d,js:p,push:h,same:k,reload:b,container:g})}},getDevice:function(){var b=window.navigator,a=b.platform,c=b.userAgent,d=c.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),e=c.match(/(Android);?[\s\/]+([\d.]+)?/),g=c.match(/(iPad).*OS\s([\d_]+)/),h=c.match(/(iPod)(.*OS\s([\d_]+))?/),f=!g&&c.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m=f&&375===window.screen.width&&812===window.screen.height,p=b.standalone,b=b.appVersion.match(/Safari/gi),r=0<=c.indexOf("MSIE ")||0<=c.indexOf("Trident/"),t=0<=c.indexOf("Edge/"),n=0<=c.indexOf("MicroMessenger"),k="MacIntel"===a,l="Win32"===a;Be.device.ie=r;Be.device.edge=t;Be.device.safari=b;Be.device.wechat=n;Be.device.standalone=p;Be.device.platform=a.split(" ")[0];d&&(Be.device.os="windows",Be.device.osVersion=l[2],Be.device.windowsPhone=!0);e&&!l&&(Be.device.os="android",Be.device.osVersion=e[2],Be.device.android=!0,Be.device.androidChrome=0<=c.toLowerCase().indexOf("chrome"));if(g||f||h)Be.device.os="ios",Be.device.ios=!0;f&&!h&&(Be.device.osVersion=f[2].replace(/_/g,"."),Be.device.iphone=!0,Be.device.iphoneX=m);g&&(Be.device.osVersion=g[2].replace(/_/g,"."),Be.device.ipad=!0);h&&(Be.device.osVersion=h[3]?h[3].replace(/_/g,"."):null,Be.device.iphone=!0);Be.device.ios&&Be.device.osVersion&&0<=c.indexOf("Version/")&&"10"===Be.device.osVersion.split(".")[0]&&(Be.device.osVersion=c.toLowerCase().split("version/")[1].split(" ")[0]);Be.device.webView=(f||g||h)&&(c.match(/.*AppleWebKit(?!.*Safari)/i)||window.navigator.standalone);Be.device.webview=Be.device.webView;Be.device.desktop=!(Be.device.os||Be.device.android||Be.device.webView);Be.device.desktop&&(Be.device.macos=k,Be.device.windows=l);Be.device.os&&"ios"===Be.device.os&&(a=Be.device.osVersion.split("."),c=document.querySelector('meta[name\x3d"viewport"]'),Be.device.minimalUi=!Be.device.webView&&(h||f)&&(7===1*a[0]?1<=1*a[1]:7<1*a[0])&&c&&0<=c.getAttribute("content").indexOf("minimal-ui"));Be.device.needsStatusbarOverlay=function(){return(Be.device.webView||Be.device.android)&&window.innerWidth*window.innerHeight===window.screen.width*window.screen.height?!Be.device.iphoneX||90!==window.orientation&&-90!==window.orientation?!0:!1:!1};Be.device.statusbar=Be.device.needsStatusbarOverlay();Be.device.pixelRatio=window.devicePixelRatio||1},getSupport:function(){var b=function(){var a=!1,b=document.createElement("div");["sticky","-webkit-sticky","-moz-sticky"].forEach(function(c){a||(b.style.position=c,b.style.position===c&&(a=!0))});return a}(),a=document.createElement("div");return{positionSticky:b,touch:!!("ontouchstart"in window||window.DocumentTouch&&doc instanceof window.DocumentTouch),pointerEvents:!(!window.navigator.pointerEnabled&&!window.PointerEvent),prefixedPointerEvents:!!window.navigator.msPointerEnabled,transition:function(){var b=a.style;return"transition"in b||"webkitTransition"in b||"MozTransition"in b}(),transforms3d:window.Modernizr&&!0===window.Modernizr.csstransforms3d||function(){var b=a.style;return"webkitPerspective"in b||"MozPerspective"in b||"OPerspective"in b||"MsPerspective"in b||"perspective"in b}(),flexbox:function(){for(var a=document.createElement("div").style,b="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),e=0;e<b.length;e+=1)if(b[e]in a)return!0;return!1}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window,passiveListener:function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});win.addEventListener("testPassiveListener",null,b)}catch(e){}return a}(),gestures:"ongesturestart"in window}},init:function(){var b=location.hash||"",a=document.querySelector("html"),c=Be.config.fullscreen,d=Be.config.theme,e=Be.config.color;Be.iconPrefix="ios"===d?"f7":"material";Be.appRoot=$("#"+Be.config.appId);Be.mainView=$(".view-main");Be.width=$(window).width();Be.height=$(window).height();Be.support=Be.app.getSupport();Be.app.getDevice();a.classList.add(d);d=[];d.push("device-pixel-ratio-"+Math.floor(Be.device.pixelRatio));2<=Be.device.pixelRatio&&d.push("device-retina");if(Be.device.os){if(d.push("device-"+Be.device.os,"device-"+Be.device.os+"-"+Be.device.osVersion.split(".")[0],"device-"+Be.device.os+"-"+Be.device.osVersion.replace(/\./g,"-")),"ios"===Be.device.os){for(var g=parseInt(Be.device.osVersion.split(".")[0],10)-1;6<=g;--g)d.push("device-ios-gt-"+g);Be.device.iphoneX&&d.push("device-iphone-x")}}else Be.device.desktop&&(d.push("device-desktop"),Be.device.macos?d.push("device-macos"):Be.device.windows&&d.push("device-windows"));Be.support.positionSticky&&d.push("support-position-sticky");"1"===c&&d.push("with-statusbar");d.forEach(function(b){a.classList.add(b)});Be.appRoot.addClass("framework7-root color-theme-"+e);c=Be.util.getStorage("_app_be_uid_")||"";e=Be.util.getStorage("_app_be_token_")||"";d=Be.util.getStorage("_app_be_host_")||"";g=Be.util.getUrlParam("ext")||"";Be.account={uid:c,token:e,host:d,oid:g};Be.router.home(b);"hybrid"===Be.config.type&&setTimeout(function(){Be["native"].init(Be.config.url,Be.config.handlerPostfix,Be.config.fullscreen,Be.config.statusbarColor)});$(document.body).on("click",Be.app.handleClicks)}},ext:{datepicker:function(b){b.find("input.be-date-picker").each(function(a){a=$(this);var b="cu",d=a.data("lang"),e=a.data("format"),g=a.data("multi"),h=a.data("range"),g=0===parseInt(g)?!1:!0,h=0===parseInt(h)?!1:!0;if("cn"===d||"en"===d)b=d;a.beDatePicker({lang:d,format:e,multi:g,range:h,clearText:Be.local.calendar[b].clear,cancelText:Be.local.calendar[b].cancel,okText:Be.local.calendar[b].ok})});b.on("page.hidden",function(a,c){b.find("input.be-date-picker").each(function(a){$(this).beDatePicker("destroy")})})},timepicker:function(b){b.find("input.be-time-picker").each(function(a){a=$(this);var b="cu",d=a.data("lang"),e=a.data("format");if("cn"===d||"en"===d)b=d;a.beDatePicker({lang:d,date:!1,time:!0,format:e,clearText:Be.local.calendar[b].clear,cancelText:Be.local.calendar[b].cancel,okText:Be.local.calendar[b].ok})});b.on("page.hidden",function(a,c){b.find("input.be-time-picker").each(function(a){$(this).beDatePicker("destroy")})})},calendarEvent:function(b){var a=b.data("name");b=b.find("div.be-calendar-event");var c=[],d=b.data("event-days"),e=b.data("lang"),g=b.data("current");d&&(c=d.split(","));b.beDatePicker({container:b,full:!0,lang:e,eventDays:c}).on("dateSelected",function(b,c){doDateSelected(a,b,c)}).on("monthSelected",function(b,c,d){doMonthSelected(a,b,c,d)}).on("yearSelected",function(b,c,d){doYearSelected(a,b,c,d)});if(g){var c=moment(g),h=moment(g).format("DD"),g=b.find("span.dtp-actual-month"),d=b.find("table.table.dtp-picker-days");b.beDatePicker("setDate",c);g.html(c.locale(e).format("ddd,MM\u6708DD\u65e5")).attr("data-month",c.locale(e).format("MM"));d.find("a.dtp-select-day").each(function(a){a=$(this);h===a.text()?a.addClass("selected"):a.removeClass("selected")})}},playAudio:function(b,a){a=a||"0";var c=new Audio;c.setAttribute("src",b);"1"===a&&c.setAttribute("loop","loop");c.play()},playAudioEx:function(b){function a(){var a=this,b=function(){var b;a.data.currTime=h.currentTime;0<a.data.currTime&&!isNaN(a.data.totalTime)&&(b=Math.floor(a.data.currTime/a.data.totalTime*100),a.data.oTiming.html(a.timeFormat(a.data.currTime)+" / "+a.timeFormat(a.data.totalTime)),Be.app.progressbar.set(a.data.oProgress,b))},e=function(){a.data.totalTime=h.duration},g=function(){a.reset(a.data.lastId);a.data.totalTime=0;a.data.currTime=0;a.data.lastId="";a.data.audioUrl="";a.data.oProgress=null;a.data.oTiming=null},h=new Audio;h.addEventListener("timeupdate",b);h.addEventListener("loadedmetadata",e);h.addEventListener("ended",g);this.css={sDefault:"",sPlaying:"",sPaused:""};this.data={lastId:"",audioUrl:"",totalTime:0,currTime:0,oProgress:null,oTiming:null};this.timeFormat=function(a){var b=parseInt(a/60);a=parseInt(a%60);return(10<=b?b:"0"+b)+":"+(10<=a?a:"0"+a)};this.setAudioCss=function(a){this.css.sDefault=a+"_button";this.css.sPlaying=a+"_playing";this.css.sPaused=a+"_paused"};this.play=function(b){var c=b.lastIndexOf("_"),c=b.substr(c+1);b=$("#"+b);a.setAudioCss(b.attr("class").substr(0,3));if(this.data.lastId===c)h.paused?(b.hasClass(this.css.sPaused)&&b.removeClass(this.css.sPaused),b.hasClass(this.css.sPlaying)||b.addClass(this.css.sPlaying),h.play()):(b.hasClass(this.css.sPlaying)&&b.removeClass(this.css.sPlaying),b.hasClass(this.css.sPaused)||b.addClass(this.css.sPaused),h.pause());else{""!==this.data.lastId&&this.reset(this.data.lastId);this.data.lastId=c;var d=$("#_audio_prog_"+c),c=$("#_audio_time_"+c);this.data.oProgress=d;this.data.oTiming=c;d.show();b.hasClass(this.css.sPlaying)||b.addClass(this.css.sPlaying);this.data.audioUrl=b.attr("data-audio");h.src=this.data.audioUrl;h.play()}};this.reset=function(a){var b=$("#_audio_link_"+a),c=$("#_audio_prog_"+a);a=$("#_audio_time_"+a);c.hide();a.html("");b.hasClass(this.css.sPlaying)&&b.removeClass(this.css.sPlaying);b.hasClass(this.css.sPaused)&&b.removeClass(this.css.sPaused);Be.app.progressbar.set(c,0)};this.destroy=function(){h.paused||h.pause();h.removeEventListener("timeupdate",b);h.removeEventListener("loadedmetadata",e);h.removeEventListener("ended",g);h=null;a.data.oProgress=null;a.data.oTiming=null;Be.audioPlayer=null}}Be.audioPlayer||(Be.audioPlayer=new a);Be.audioPlayer.play(b)},gridGallery:function(){function b(a,b){this.el=a;this.el.style.backgroundColor=b.backcolor;this.items=this.el.querySelectorAll(".gallery-grid__item \x3e .gallery-grid__link");this._render(b.effect)}b.prototype._render=function(a){a=Be.effects[a];a.targets=this.items;anime.remove(a.targets);anime(a)};var a=document.body,c=document.querySelector(".gallery-grid"),d=c.getAttribute("data-backcolor")||"#fff",e=c.getAttribute("data-effect")||"gallery",g=[];(function(){imagesLoaded(a,function(){var a=new Masonry(c,{itemSelector:".gallery-grid__item",columnWidth:".gallery-grid__sizer",percentPosition:!0,transitionDuration:0});g.push(a);new b(c,{backcolor:d,effect:e})})})()},maskTransitionSlider:function(){function b(){this.durations={auto:5E3,slide:1400};this.dom={wrapper:null,container:null,project:null,current:null,next:null,arrow:null};this.next=this.current=this.length=0;this.isAuto=!0;this.working=!1;this.dom.wrapper=$(".mask-content-view");this.dom.project=this.dom.wrapper.find(".project");this.dom.arrow=this.dom.wrapper.find(".arrow");this.length=this.dom.project.length;this.init();this.events();this.auto=setInterval(this.updateNext.bind(this),this.durations.auto)}b.prototype.init=function(){this.dom.project.css("z-index",10);this.dom.current=$(this.dom.project[this.current]);this.dom.next=$(this.dom.project[this.current+1]);this.dom.current.css("z-index",30);this.dom.next.css("z-index",20)};b.prototype.clear=function(){this.dom.arrow.off("click");this.isAuto&&clearInterval(this.auto)};b.prototype.events=function(){var a=this;this.dom.arrow.on("click",function(){a.working||a.processBtn($(this))})};b.prototype.processBtn=function(a){this.isAuto&&(this.isAuto=!1,clearInterval(this.auto));a.hasClass("next")&&this.updateNext();a.hasClass("previous")&&this.updatePrevious()};b.prototype.updateNext=function(){this.next=(this.current+1)%this.length;this.process()};b.prototype.updatePrevious=function(){this.next--;0>this.next&&(this.next=this.length-1);this.process()};b.prototype.process=function(){var a=this;this.working=!0;this.dom.next=$(this.dom.project[this.next]);this.dom.current.css("z-index",30);a.dom.next.css("z-index",20);this.dom.current.addClass("hide");setTimeout(function(){a.dom.current.css("z-index",10);a.dom.next.css("z-index",30);a.dom.current.removeClass("hide");a.dom.current=a.dom.next;a.current=a.next;a.working=!1},this.durations.slide)};new b},fourBoxesSlider:function(){function b(a){var b,d;"x"===a?(b=c.clientWidth,d=window.innerWidth):"y"===a&&(b=c.clientHeight,d=window.innerHeight);return b<d?d:b}function a(a){this.el=$(".boxgallery");this._init()}var c=window.document.documentElement,d=b("x"),e=b("y");a.prototype._init=function(){this._setTransforms();this.effect=this.el.attr("data-effect")||"effect-four-boxs-1";this.isAnimating=!1;this.panels=[].slice.call(this.el.find(".boxes-panel"));this.panelsCount=this.panels.length;this.current=0;$(this.panels[0]).addClass("current");var a=this;this.panels.forEach(function(b){for(var c=b.querySelector("img"),d="",e=0;e<a.panelsCount;++e)d+='\x3cdiv class\x3d"bg-tile"\x3e\x3cdiv class\x3d"bg-img"\x3e\x3cimg src\x3d"'+c.src+'" /\x3e\x3c/div\x3e\x3c/div\x3e';b.removeChild(c);b.innerHTML=d+b.innerHTML});this.nav=document.querySelector("nav");this._initEvents()};a.prototype._setTransforms=function(){this.transforms={"effect-four-boxs-1":{next:["translate3d(0, "+(e/2+10)+"px, 0)","translate3d(-"+(d/2+10)+"px, 0, 0)","translate3d("+(d/2+10)+"px, 0, 0)","translate3d(0, -"+(e/2+10)+"px, 0)"],prev:["translate3d("+(d/2+10)+"px, 0, 0)","translate3d(0, "+(e/2+10)+"px, 0)","translate3d(0, -"+(e/2+10)+"px, 0)","translate3d(-"+(d/2+10)+"px, 0, 0)"]},"effect-four-boxs-2":{next:["translate3d(-"+(d/2+10)+"px, 0, 0)","translate3d("+(d/2+10)+"px, 0, 0)","translate3d(-"+(d/2+10)+"px, 0, 0)","translate3d("+(d/2+10)+"px, 0, 0)"],prev:["translate3d(0,-"+(e/2+10)+"px, 0)","translate3d(0,-"+(e/2+10)+"px, 0)","translate3d(0,"+(e/2+10)+"px, 0)","translate3d(0,"+(e/2+10)+"px, 0)"]},"effect-four-boxs-3":{next:["translate3d(0,"+(e/2+10)+"px, 0)","translate3d(0,"+(e/2+10)+"px, 0)","translate3d(0,"+(e/2+10)+"px, 0)","translate3d(0,"+(e/2+10)+"px, 0)"],prev:["translate3d(0,-"+(e/2+10)+"px, 0)","translate3d(0,-"+(e/2+10)+"px, 0)","translate3d(0,-"+(e/2+10)+"px, 0)","translate3d(0,-"+(e/2+10)+"px, 0)"]}}};a.prototype._initEvents=function(){var a=this,b=this.nav.children,c,d;b[0].addEventListener("click",function(){a._navigate("prev")});b[1].addEventListener("click",function(){a._navigate("next")});window.addEventListener("resize",function(){a._resizeHandler()});this.el.on("touchstart",function(a){c="touchstart"===a.type?a.originalEvent.targetTouches[0].pageX:a.pageX});this.el.on("touchmove",function(a){d="touchmove"===a.type?a.originalEvent.targetTouches[0].pageX:a.pageX});this.el.on("touchend",function(b){var e=d-c;0>d||0>c||isNaN(e)||(10<e?(b.preventDefault(),a._navigate("next")):-10>e&&(b.preventDefault(),a._navigate("prev")),d=c=-1)})};a.prototype._navigate=function(a){if(this.isAnimating)return!1;this.isAnimating=!0;var b=this,c=this.panels[this.current];this.current="next"===a?this.current<this.panelsCount-1?this.current+1:0:0<this.current?this.current-1:this.panelsCount-1;var d=this.panels[this.current];$(d).addClass("active");this._applyTransforms(c,a);var e=0,g=function(a){if(a&&!$(a.target).hasClass("bg-img"))return!1;++e;if(e<b.panelsCount)return!1;this.removeEventListener("transitionend",g);$(c).removeClass("current");$(d).addClass("current");b._resetTransforms(c);$(d).removeClass("active");b.isAnimating=!1};c.addEventListener("transitionend",g)};a.prototype._applyTransforms=function(a,b){var c=this;[].slice.call(a.querySelectorAll("div.bg-img")).forEach(function(a,d){a.style.WebkitTransform=c.transforms[c.effect][b][d];a.style.transform=c.transforms[c.effect][b][d]})};a.prototype._resetTransforms=function(a){[].slice.call(a.querySelectorAll("div.bg-img")).forEach(function(a){a.style.WebkitTransform="none";a.style.transform="none"})};a.prototype._resizeHandler=function(){var a=this;this._resizeTimeout&&clearTimeout(this._resizeTimeout);this._resizeTimeout=setTimeout(function(){a._resize();a._resizeTimeout=null},50)};a.prototype._resize=function(){d=b("x");e=b("y");this._setTransforms()};new a},animatedFrameSlider:function(b){var a=function(a,b,c){var d;return function(){var e=this,f=arguments,g=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||a.apply(e,f)},b);g&&a.apply(e,f)}},c=function(){this.DOM={};this.DOM.el=document.querySelector(".slideshow");this.settings={animation:{slides:{duration:600,easing:"easeOutQuint"},shape:{duration:300,easing:{"in":"easeOutQuint",out:"easeOutQuad"}}},frameFill:"#f1f1f1"};this.init()};c.prototype.init=function(){this.DOM.slideshow=document.querySelector("div.slideshow");this.DOM.slides=Array.from(this.DOM.el.querySelectorAll(".slides \x3e .slide"));this.slidesTotal=this.DOM.slides.length;this.DOM.nav=this.DOM.el.querySelector(".slidenav");this.DOM.nextCtrl=this.DOM.nav.querySelector(".slidenav__item--next");this.DOM.prevCtrl=this.DOM.nav.querySelector(".slidenav__item--prev");this.current=0;this.createFrame();this.initEvents()};c.prototype.createFrame=function(){this.rect=this.DOM.el.getBoundingClientRect();this.frameSize=this.rect.width/12;this.paths={initial:this.calculatePath("initial"),"final":this.calculatePath("final")};this.DOM.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.DOM.svg.setAttribute("class","shape");this.DOM.svg.setAttribute("width","100%");this.DOM.svg.setAttribute("height","100%");this.DOM.svg.setAttribute("viewbox","0 0 "+this.rect.width+" "+this.rect.height);this.DOM.svg.innerHTML='\x3cpath fill\x3d"'+this.settings.frameFill+'" d\x3d"'+this.paths.initial+'"/\x3e';this.DOM.el.insertBefore(this.DOM.svg,this.DOM.nav);this.DOM.shape=this.DOM.svg.querySelector("path")};c.prototype.updateFrame=function(){this.paths.initial=this.calculatePath("initial");this.paths["final"]=this.calculatePath("final");this.DOM.svg.setAttribute("viewbox","0 0 "+this.rect.width+" "+this.rect.height);this.DOM.shape.setAttribute("d",this.isAnimating?this.paths["final"]:this.paths.initial)};c.prototype.calculatePath=function(a){return"initial"===(void 0===a?"initial":a)?"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M 0,0 "+this.rect.width+",0 "+this.rect.width+","+this.rect.height+" 0,"+this.rect.height+" Z":"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M "+this.frameSize+","+this.frameSize+" "+(this.rect.width-this.frameSize)+","+this.frameSize+" "+(this.rect.width-this.frameSize)+","+(this.rect.height-this.frameSize)+" "+this.frameSize+","+(this.rect.height-this.frameSize)+" Z"};c.prototype.initEvents=function(){var b=this;this.DOM.nextCtrl.addEventListener("click",function(){return b.navigate("next")});this.DOM.prevCtrl.addEventListener("click",function(){return b.navigate("prev")});window.addEventListener("resize",a(function(){b.rect=b.DOM.el.getBoundingClientRect();b.updateFrame()},20));var c=this,d,e;this.DOM.slideshow.addEventListener("touchstart",function(a){d="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX});this.DOM.slideshow.addEventListener("touchmove",function(a){e="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX});this.DOM.slideshow.addEventListener("touchend",function(a){var b=e-d;0>e||0>d||isNaN(b)||(10<b?(a.preventDefault(),c.navigate("next")):-10>b&&(a.preventDefault(),c.navigate("prev")),e=d=-1)})};c.prototype.navigate=function(a){a=void 0===a?"next":a;var b=this;if(this.isAnimating)return!1;this.isAnimating=!0;anime({targets:this.DOM.shape,duration:this.settings.animation.shape.duration,easing:this.settings.animation.shape.easing["in"],d:this.paths["final"]}).finished.then(function(){return new Promise(function(c,d){var e=b.DOM.slides[b.current];anime({targets:e,duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateX:"next"===a?-1*b.rect.width:b.rect.width,complete:function(){e.classList.remove("slide--current");c()}});b.current="next"===a?b.current<b.slidesTotal-1?b.current+1:0:0<b.current?b.current-1:b.slidesTotal-1;"next"===a?(b.DOM.nextCtrl.className="slidenav__item--on",b.DOM.prevCtrl.className="slidenav__item--off"):(b.DOM.nextCtrl.className="slidenav__item--off",b.DOM.prevCtrl.className="slidenav__item--on");var f=b.DOM.slides[b.current];f.classList.add("slide--current");anime({targets:f,duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateX:["next"===a?b.rect.width:-1*b.rect.width,0]});var g=f.querySelector(".slide__img");anime.remove(g);anime({targets:g,duration:4*b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateX:["next"===a?200:-200,0]});anime({targets:[f.querySelector(".slide__title"),f.querySelector(".slide__desc"),f.querySelector(".slide__link")],duration:2*b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,delay:function(a,b){return 100*b+100},translateX:["next"===a?300:-300,0],opacity:[0,1]})})}).then(function(){anime({targets:b.DOM.shape,duration:b.settings.animation.shape.duration,delay:150,easing:b.settings.animation.shape.easing.out,d:b.paths.initial,complete:function(){return b.isAnimating=!1}})})};var d=function(a){this.DOM={};this.DOM.el=document.querySelector(".slideshow");this.settings={animation:{slides:{duration:600,easing:"easeOutQuint"},shape:{duration:300,easing:{"in":"easeOutQuad",out:"easeOutQuad"}}},frameFill:"#111"};this.init()};d.prototype.init=function(){this.DOM.slideshow=document.querySelector("div.slideshow");this.DOM.slides=Array.from(this.DOM.el.querySelectorAll(".slides \x3e .slide"));this.slidesTotal=this.DOM.slides.length;this.DOM.nav=this.DOM.el.querySelector(".slidenav");this.DOM.nextCtrl=this.DOM.nav.querySelector(".slidenav__item--next");this.DOM.prevCtrl=this.DOM.nav.querySelector(".slidenav__item--prev");this.current=0;this.createFrame();this.initEvents()};d.prototype.createFrame=function(){this.rect=this.DOM.el.getBoundingClientRect();this.frameSize=this.rect.width/12;this.paths={initial:this.calculatePath("initial"),"final":this.calculatePath("final")};this.DOM.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.DOM.svg.setAttribute("class","shape");this.DOM.svg.setAttribute("width","100%");this.DOM.svg.setAttribute("height","100%");this.DOM.svg.setAttribute("viewbox","0 0 "+this.rect.width+" "+this.rect.height);this.DOM.svg.innerHTML='\x3cpath fill\x3d"'+this.settings.frameFill+'" d\x3d"'+this.paths.initial+'"/\x3e';this.DOM.el.insertBefore(this.DOM.svg,this.DOM.nav);this.DOM.shape=this.DOM.svg.lastElementChild};d.prototype.updateFrame=function(){this.paths.initial=this.calculatePath("initial");this.paths["final"]=this.calculatePath("final");this.DOM.svg.setAttribute("viewbox","0 0 "+this.rect.width+" "+this.rect.height);this.DOM.shape.setAttribute("d",this.isAnimating?this.paths["final"]:this.paths.initial)};d.prototype.calculatePath=function(a){return"initial"===(void 0===a?"initial":a)?"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M 0,0 "+this.rect.width+",0 "+this.rect.width+","+this.rect.height+" 0,"+this.rect.height+" Z":{next:"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M "+this.frameSize+","+this.frameSize+" "+(this.rect.width-this.frameSize)+","+this.frameSize/2+" "+(this.rect.width-this.frameSize)+","+(this.rect.height-this.frameSize/2)+" "+this.frameSize+","+(this.rect.height-this.frameSize)+" Z",prev:"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M "+this.frameSize+","+this.frameSize/2+" "+(this.rect.width-this.frameSize)+","+this.frameSize+" "+(this.rect.width-this.frameSize)+","+(this.rect.height-this.frameSize)+" "+this.frameSize+","+(this.rect.height-this.frameSize/2)+" Z"}};d.prototype.initEvents=function(){var b=this;this.DOM.nextCtrl.addEventListener("click",function(){return b.navigate("next")});this.DOM.prevCtrl.addEventListener("click",function(){return b.navigate("prev")});window.addEventListener("resize",a(function(){b.rect=b.DOM.el.getBoundingClientRect();b.updateFrame()},20));var c=this,d,e;this.DOM.slideshow.addEventListener("touchstart",function(a){d="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX});this.DOM.slideshow.addEventListener("touchmove",function(a){e="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX});this.DOM.slideshow.addEventListener("touchend",function(a){var b=e-d;0>e||0>d||isNaN(b)||(10<b?(a.preventDefault(),c.navigate("next")):-10>b&&(a.preventDefault(),c.navigate("prev")),e=d=-1)})};d.prototype.navigate=function(a){a=void 0===a?"next":a;var b=this;if(this.isAnimating)return!1;this.isAnimating=!0;anime({targets:this.DOM.shape,duration:this.settings.animation.shape.duration,easing:this.settings.animation.shape.easing["in"],d:"next"===a?this.paths["final"].next:this.paths["final"].prev}).finished.then(function(){return new Promise(function(c,d){var e=b.DOM.slides[b.current];anime({targets:e,duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateX:"next"===a?-1*b.rect.width:b.rect.width,complete:function(){e.classList.remove("slide--current");c()}});b.current="next"===a?b.current<b.slidesTotal-1?b.current+1:0:0<b.current?b.current-1:b.slidesTotal-1;"next"===a?(b.DOM.nextCtrl.className="slidenav__item--on",b.DOM.prevCtrl.className="slidenav__item--off"):(b.DOM.nextCtrl.className="slidenav__item--off",b.DOM.prevCtrl.className="slidenav__item--on");var f=b.DOM.slides[b.current];f.classList.add("slide--current");anime({targets:f,duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateX:["next"===a?b.rect.width:-1*b.rect.width,0]});var g=f.querySelector(".slide__img");g.style.transformOrigin="next"===a?"-10% 50%":"110% 50%";anime.remove(g);anime({targets:g,duration:4*b.settings.animation.slides.duration,easing:"easeOutElastic",elasticity:350,scale:[1.2,1],rotate:["next"===a?4:-4,0]});anime({targets:[f.querySelector(".slide__title"),f.querySelector(".slide__desc"),f.querySelector(".slide__link")],duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,delay:function(b,c,d){return"next"===a?100*c+750:100*(d-c-1)+750},translateY:["next"===a?300:-300,0],rotate:[15,0],opacity:[0,1]})})}).then(function(){anime({targets:b.DOM.shape,duration:b.settings.animation.shape.duration,delay:150,easing:b.settings.animation.shape.easing.out,d:b.paths.initial,complete:function(){return b.isAnimating=!1}})})};var e=function(a){this.DOM={};this.DOM.el=document.querySelector(".slideshow");this.settings={animation:{slides:{duration:600,easing:"easeOutQuint"},shape:{duration:300,easing:{"in":"easeOutQuad",out:"easeOutQuad"}}},frameFill:"url(#gradient1)"};this.init()};e.prototype.init=function(){this.DOM.slideshow=document.querySelector("div.slideshow");this.DOM.slides=Array.from(this.DOM.el.querySelectorAll(".slides \x3e .slide"));this.slidesTotal=this.DOM.slides.length;this.DOM.nav=this.DOM.el.querySelector(".slidenav");this.DOM.nextCtrl=this.DOM.nav.querySelector(".slidenav__item--next");this.DOM.prevCtrl=this.DOM.nav.querySelector(".slidenav__item--prev");this.current=0;this.createFrame();this.initEvents()};e.prototype.createFrame=function(){this.rect=this.DOM.el.getBoundingClientRect();this.frameSize=this.rect.width/12;this.paths={initial:this.calculatePath("initial"),"final":this.calculatePath("final")};this.DOM.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.DOM.svg.setAttribute("class","shape");this.DOM.svg.setAttribute("width","100%");this.DOM.svg.setAttribute("height","100%");this.DOM.svg.setAttribute("viewbox","0 0 "+this.rect.width+" "+this.rect.height);this.DOM.svg.innerHTML='\n\t\t\t\x3cdefs\x3e\n\t\t\t\x3clinearGradient id\x3d"gradient1" x1\x3d"0%" y1\x3d"0%" x2\x3d"0%" y2\x3d"100%"\x3e\n\t\t\t\t\x3cstop offset\x3d"0%" stop-color\x3d"#ED4264"\x3e\n\t\t\t\t\t\x3c!--animate attributeName\x3d"stop-color" values\x3d"#ED4264; #FFEDBC; #ED4264" dur\x3d"3s" repeatCount\x3d"indefinite"\x3e\x3c/animate--\x3e\n\t\t\t\t\x3c/stop\x3e\n\t\t\t\t\x3cstop offset\x3d"100%" stop-color\x3d"#FFEDBC"\x3e\n\t\t\t\t\t\x3c!--animate attributeName\x3d"stop-color" values\x3d"#FFEDBC; #ED4264; #FFEDBC" dur\x3d"3s" repeatCount\x3d"indefinite"\x3e\x3c/animate--\x3e\n\t\t\t\t\x3c/stop\x3e\n\t\t\t\x3c/linearGradient\x3e\n\t\t\t\x3c/defs\x3e\n\t\t\t\x3cpath fill\x3d"'+this.settings.frameFill+'" d\x3d"'+this.paths.initial+'"/\x3e\n\t\t';this.DOM.el.insertBefore(this.DOM.svg,this.DOM.nav);this.DOM.shape=this.DOM.svg.querySelector("path")};e.prototype.updateFrame=function(){this.paths.initial=this.calculatePath("initial");this.paths["final"]=this.calculatePath("final");this.DOM.svg.setAttribute("viewbox","0 0 "+this.rect.width+" "+this.rect.height);this.DOM.shape.setAttribute("d",this.paths.initial)};e.prototype.calculatePath=function(a){return"initial"===(void 0===a?"initial":a)?"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M 0,0 "+this.rect.width+",0 "+this.rect.width+","+this.rect.height+" 0,"+this.rect.height+" Z":{step1:"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M "+this.frameSize+","+this.frameSize+" "+this.rect.width+",0 "+this.rect.width+","+this.rect.height+" 0,"+this.rect.height+" Z",step2:"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M "+this.frameSize+","+this.frameSize+" "+(this.rect.width-this.frameSize)+","+this.frameSize+" "+this.rect.width+","+this.rect.height+" 0,"+this.rect.height+" Z",step3:"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M "+this.frameSize+","+this.frameSize+" "+(this.rect.width-this.frameSize)+","+this.frameSize+" "+(this.rect.width-this.frameSize)+","+(this.rect.height-this.frameSize)+" 0,"+this.rect.height+" Z",step4:"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M "+this.frameSize+","+this.frameSize+" "+(this.rect.width-this.frameSize)+","+this.frameSize+" "+(this.rect.width-this.frameSize)+","+(this.rect.height-this.frameSize)+" "+this.frameSize+","+(this.rect.height-this.frameSize)+" Z"}};e.prototype.initEvents=function(){var b=this;this.DOM.nextCtrl.addEventListener("click",function(){return b.navigate("next")});this.DOM.prevCtrl.addEventListener("click",function(){return b.navigate("prev")});window.addEventListener("resize",a(function(){b.rect=b.DOM.el.getBoundingClientRect();b.updateFrame()},20));var c=this,d,e;this.DOM.slideshow.addEventListener("touchstart",function(a){d="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX});this.DOM.slideshow.addEventListener("touchmove",function(a){e="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX});this.DOM.slideshow.addEventListener("touchend",function(a){var b=e-d;0>e||0>d||isNaN(b)||(10<b?(a.preventDefault(),c.navigate("next")):-10>b&&(a.preventDefault(),c.navigate("prev")),e=d=-1)})};e.prototype.navigate=function(a){a=void 0===a?"next":a;var b=this;if(this.isAnimating)return!1;this.isAnimating=!0;var c=anime.timeline({duration:this.settings.animation.shape.duration,easing:this.settings.animation.shape.easing["in"]});c.add({targets:this.DOM.shape,d:this.paths["final"].step1}).add({targets:this.DOM.shape,d:this.paths["final"].step2,offset:"-\x3d"+.5*this.settings.animation.shape.duration}).add({targets:this.DOM.shape,d:this.paths["final"].step3,offset:"-\x3d"+.5*this.settings.animation.shape.duration}).add({targets:this.DOM.shape,d:this.paths["final"].step4,offset:"-\x3d"+.5*this.settings.animation.shape.duration});c.finished.then(function(){return new Promise(function(c,d){var e=b.DOM.slides[b.current];anime({targets:e,duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateX:"next"===a?-1*b.rect.width:b.rect.width,complete:function(){e.classList.remove("slide--current");c()}});b.current="next"===a?b.current<b.slidesTotal-1?b.current+1:0:0<b.current?b.current-1:b.slidesTotal-1;"next"===a?(b.DOM.nextCtrl.className="slidenav__item--on",b.DOM.prevCtrl.className="slidenav__item--off"):(b.DOM.nextCtrl.className="slidenav__item--off",b.DOM.prevCtrl.className="slidenav__item--on");var f=b.DOM.slides[b.current];f.classList.add("slide--current");anime({targets:f,duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateX:["next"===a?b.rect.width:-1*b.rect.width,0]});var g=f.querySelector(".slide__img");anime.remove(g);anime({targets:g,duration:4*b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateX:["next"===a?200:-200,0]});anime({targets:[f.querySelector(".slide__title"),f.querySelector(".slide__desc"),f.querySelector(".slide__link")],duration:2*b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,delay:function(a,b){return 100*b+100},translateX:["next"===a?300:-300,0],opacity:[0,1]})})}).then(function(){anime.timeline({duration:b.settings.animation.shape.duration,easing:b.settings.animation.shape.easing.out}).add({targets:b.DOM.shape,d:b.paths["final"].step3}).add({targets:b.DOM.shape,d:b.paths["final"].step2,offset:"-\x3d"+.5*b.settings.animation.shape.duration}).add({targets:b.DOM.shape,d:b.paths["final"].step1,offset:"-\x3d"+.5*b.settings.animation.shape.duration}).add({targets:b.DOM.shape,d:b.paths.initial,offset:"-\x3d"+.5*b.settings.animation.shape.duration,complete:function(){return b.isAnimating=!1}})})};var g=function(a){this.DOM={};this.DOM.el=document.querySelector(".slideshow");this.settings={animation:{slides:{duration:600,easing:"easeOutQuint"},shape:{duration:300,easing:{"in":"easeOutQuint",out:"easeOutQuad"}}},frameFill:"url(#pattern)"};this.init()};g.prototype.init=function(){this.DOM.slideshow=document.querySelector("div.slideshow");this.DOM.slides=Array.from(this.DOM.el.querySelectorAll(".slides \x3e .slide"));this.slidesTotal=this.DOM.slides.length;this.DOM.nav=this.DOM.el.querySelector(".slidenav");this.DOM.nextCtrl=this.DOM.nav.querySelector(".slidenav__item--next");this.DOM.prevCtrl=this.DOM.nav.querySelector(".slidenav__item--prev");this.current=0;this.createFrame();this.initEvents()};g.prototype.createFrame=function(){this.rect=this.DOM.el.getBoundingClientRect();this.frameSize=this.rect.width/12;this.paths={initial:this.calculatePath("initial"),"final":this.calculatePath("final")};this.DOM.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.DOM.svg.setAttribute("class","shape");this.DOM.svg.setAttribute("width","100%");this.DOM.svg.setAttribute("height","100%");this.DOM.svg.setAttribute("viewbox","0 0 "+this.rect.width+" "+this.rect.height);this.DOM.svg.innerHTML='\n        \x3cdefs\x3e\n        \x3cpattern fill\x3d"#000" id\x3d"pattern" width\x3d"40" height\x3d"40" patternUnits\x3d"userSpaceOnUse"\x3e\n        \x3cpolygon id\x3d"Path-2" points\x3d"0 40 40 0 20 0 0 20"\x3e\x3c/polygon\x3e\n        \x3cpolygon id\x3d"Path-2-Copy" points\x3d"40 40 40 20 20 40"\x3e\x3c/polygon\x3e\n        \x3c/pattern\x3e\n        \x3c/defs\x3e\n        \x3cpath fill\x3d"'+this.settings.frameFill+'" d\x3d"'+this.paths.initial+'"/\x3e\n        ';this.DOM.el.insertBefore(this.DOM.svg,this.DOM.nav);this.DOM.shape=this.DOM.svg.lastElementChild};g.prototype.updateFrame=function(){this.paths.initial=this.calculatePath("initial");this.paths["final"]=this.calculatePath("final");this.DOM.svg.setAttribute("viewbox","0 0 "+this.rect.width+" "+this.rect.height);this.DOM.shape.setAttribute("d",this.isAnimating?this.paths["final"]:this.paths.initial)};g.prototype.calculatePath=function(a){return"initial"===(void 0===a?"initial":a)?"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M 0,0 "+this.rect.width+",0 "+this.rect.width+","+this.rect.height+" 0,"+this.rect.height+" Z":"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M "+this.frameSize+","+this.frameSize+" "+(this.rect.width-this.frameSize)+","+this.frameSize/2+" "+(this.rect.width-this.frameSize-100)+","+(this.rect.height-this.frameSize/3)+" "+(this.frameSize+50)+","+(this.rect.height-this.frameSize-30)+" Z"};g.prototype.initEvents=function(){var b=this;this.DOM.nextCtrl.addEventListener("click",function(){return b.navigate("next")});this.DOM.prevCtrl.addEventListener("click",function(){return b.navigate("prev")});window.addEventListener("resize",a(function(){b.rect=b.DOM.el.getBoundingClientRect();b.updateFrame()},20));var c=this,d,e;this.DOM.slideshow.addEventListener("touchstart",function(a){d="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX});this.DOM.slideshow.addEventListener("touchmove",function(a){e="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX});this.DOM.slideshow.addEventListener("touchend",function(a){var b=e-d;0>e||0>d||isNaN(b)||(10<b?(a.preventDefault(),c.navigate("next")):-10>b&&(a.preventDefault(),c.navigate("prev")),e=d=-1)})};g.prototype.navigate=function(a){a=void 0===a?"next":a;var b=this;if(this.isAnimating)return!1;this.isAnimating=!0;anime({targets:this.DOM.shape,duration:this.settings.animation.shape.duration,easing:this.settings.animation.shape.easing["in"],d:this.paths["final"]}).finished.then(function(){return new Promise(function(c,d){var e=b.DOM.slides[b.current];anime({targets:e,duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateX:"next"===a?-1*b.rect.width:b.rect.width,complete:function(){e.classList.remove("slide--current");c()}});b.current="next"===a?b.current<b.slidesTotal-1?b.current+1:0:0<b.current?b.current-1:b.slidesTotal-1;"next"===a?(b.DOM.nextCtrl.className="slidenav__item--on",b.DOM.prevCtrl.className="slidenav__item--off"):(b.DOM.nextCtrl.className="slidenav__item--off",b.DOM.prevCtrl.className="slidenav__item--on");var f=b.DOM.slides[b.current];f.classList.add("slide--current");anime({targets:f,duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateX:["next"===a?b.rect.width:-1*b.rect.width,0]});var g=f.querySelector(".slide__img");anime.remove(g);anime({targets:g,duration:2*b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateX:["next"===a?200:-200,0],translateY:["next"===a?200:-200,0],scale:[1.2,1]});anime({targets:[f.querySelector(".slide__title"),f.querySelector(".slide__desc"),f.querySelector(".slide__link")],duration:2*b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,delay:function(b,c,d){return"next"===a?100*c:100*(d-c-1)},translateX:["next"===a?300:-300,0],translateY:["next"===a?300:-300,0],opacity:[0,1]})})}).then(function(){anime({targets:b.DOM.shape,duration:b.settings.animation.shape.duration,delay:150,easing:b.settings.animation.shape.easing.out,d:b.paths.initial,complete:function(){return b.isAnimating=!1}})})};var h=function(a){this.DOM={};this.DOM.el=document.querySelector(".slideshow");this.settings={animation:{slides:{duration:500,easing:"easeOutQuint"},shape:{duration:300,easing:{"in":"easeOutQuint",out:"easeOutQuad"}}},frameFill:"url(#gradient1)"};this.init()};h.prototype.init=function(){this.DOM.slideshow=document.querySelector("div.slideshow");this.DOM.slides=Array.from(this.DOM.el.querySelectorAll(".slides--images \x3e .slide"));this.slidesTotal=this.DOM.slides.length;this.DOM.nav=this.DOM.el.querySelector(".slidenav");this.DOM.titles=this.DOM.el.querySelector(".slides--titles");this.DOM.titlesSlides=Array.from(this.DOM.titles.querySelectorAll(".slide"));this.DOM.nextCtrl=this.DOM.nav.querySelector(".slidenav__item--next");this.DOM.prevCtrl=this.DOM.nav.querySelector(".slidenav__item--prev");this.current=0;this.createFrame();this.initEvents()};h.prototype.createFrame=function(){this.rect=this.DOM.el.getBoundingClientRect();this.frameSize=this.rect.width/12;this.paths={initial:this.calculatePath("initial"),"final":this.calculatePath("final")};this.DOM.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.DOM.svg.setAttribute("class","shape");this.DOM.svg.setAttribute("width","100%");this.DOM.svg.setAttribute("height","100%");this.DOM.svg.setAttribute("viewbox","0 0 "+this.rect.width+" "+this.rect.height);this.DOM.svg.innerHTML='\n        \x3cdefs\x3e\n        \x3clinearGradient id\x3d"gradient1" x1\x3d"0%" y1\x3d"0%" x2\x3d"0%" y2\x3d"100%"\x3e\n            \x3cstop offset\x3d"0%" stop-color\x3d"#09012d"/\x3e\n            \x3cstop offset\x3d"100%" stop-color\x3d"#0f2b73"/\x3e\n        \x3c/linearGradient\x3e\n        \x3c/defs\x3e\n        \x3cpath fill\x3d"'+this.settings.frameFill+'" d\x3d"'+this.paths.initial+'"/\x3e';this.DOM.el.insertBefore(this.DOM.svg,this.DOM.titles);this.DOM.shape=this.DOM.svg.querySelector("path")};h.prototype.updateFrame=function(){this.paths.initial=this.calculatePath("initial");this.paths["final"]=this.calculatePath("final");this.DOM.svg.setAttribute("viewbox","0 0 "+this.rect.width+" "+this.rect.height);this.DOM.shape.setAttribute("d",this.isAnimating?this.paths["final"]:this.paths.initial)};h.prototype.calculatePath=function(a){if("initial"===(void 0===a?"initial":a))return"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M 0,0 "+this.rect.width+",0 "+this.rect.width+","+this.rect.height+" 0,"+this.rect.height+" Z";a=this.rect.width/4-50;var b=this.rect.height/4+50,c=this.rect.width/4+50,d=this.rect.height/4-50;return"M 0,0 0,"+this.rect.height+" "+this.rect.width+","+this.rect.height+" "+this.rect.width+",0 0,0 Z M "+a+","+b+" "+c+","+d+" "+(this.rect.width-a)+","+(this.rect.height-b)+" "+(this.rect.width-c)+","+(this.rect.height-d)+" Z"};h.prototype.initEvents=function(){var b=this;this.DOM.nextCtrl.addEventListener("click",function(){return b.navigate("next")});this.DOM.prevCtrl.addEventListener("click",function(){return b.navigate("prev")});window.addEventListener("resize",a(function(){b.rect=b.DOM.el.getBoundingClientRect();b.updateFrame()},20));var c=this,d,e;this.DOM.slideshow.addEventListener("touchstart",function(a){d="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX});this.DOM.slideshow.addEventListener("touchmove",function(a){e="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX});this.DOM.slideshow.addEventListener("touchend",function(a){var b=e-d;0>e||0>d||isNaN(b)||(10<b?(a.preventDefault(),c.navigate("next")):-10>b&&(a.preventDefault(),c.navigate("prev")),e=d=-1)})};h.prototype.navigate=function(a){a=void 0===a?"next":a;var b=this;if(this.isAnimating)return!1;this.isAnimating=!0;anime({targets:this.DOM.shape,duration:this.settings.animation.shape.duration,easing:this.settings.animation.shape.easing["in"],d:this.paths["final"]}).finished.then(function(){return new Promise(function(c,d){var e=b.DOM.slides[b.current];anime({targets:e,duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateY:"next"===a?b.rect.height:-1*b.rect.height,complete:function(){e.classList.remove("slide--current");c()}});var g=b.DOM.titlesSlides[b.current];anime({targets:g.children,duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,delay:function(b,c,d){return"next"===a?100*c:100*(d-c-1)},translateY:[0,"next"===a?100:-100],opacity:[1,0],complete:function(){g.classList.remove("slide--current");c()}});b.current="next"===a?b.current<b.slidesTotal-1?b.current+1:0:0<b.current?b.current-1:b.slidesTotal-1;"next"===a?(b.DOM.nextCtrl.className="slidenav__item--on",b.DOM.prevCtrl.className="slidenav__item--off"):(b.DOM.nextCtrl.className="slidenav__item--off",b.DOM.prevCtrl.className="slidenav__item--on");var f=b.DOM.slides[b.current];f.classList.add("slide--current");anime({targets:f,duration:b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateY:["next"===a?-1*b.rect.height:b.rect.height,0]});f=f.querySelector(".slide__img");anime.remove(f);anime({targets:f,duration:3*b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,translateY:["next"===a?-100:100,0],scale:[.2,1]});f=b.DOM.titlesSlides[b.current];f.classList.add("slide--current");anime({targets:f.children,duration:1.5*b.settings.animation.slides.duration,easing:b.settings.animation.slides.easing,delay:function(b,c,d){return"next"===a?100*c+100:100*(d-c-1)+100},translateY:["next"===a?-100:100,0],opacity:[0,1]})})}).then(function(){anime({targets:b.DOM.shape,duration:b.settings.animation.shape.duration,easing:b.settings.animation.shape.easing.out,d:b.paths.initial,complete:function(){return b.isAnimating=!1}})})};switch(b){case 2:b=new d;break;case 3:b=new e;break;case 4:b=new g;break;case 5:b=new h;break;default:b=new c}return b},gridProduct:function(){var b={},a=function(a){this.DOM={};a='\n                      \x3cdiv class\x3d"details__bg details__bg--up"\x3e\x3c/div\x3e\n                      \x3cdiv class\x3d"details__bg details__bg--down"\x3e\x3c/div\x3e\n                      \x3cimg class\x3d"details__img" src\x3d"" alt\x3d"img 01"/\x3e\n                      \x3ch2 class\x3d"details__title"\x3e\x3c/h2\x3e\n                      \x3cdiv class\x3d"details__deco"\x3e\x3c/div\x3e\n                      \x3ch3 class\x3d"details__subtitle"\x3e\x3c/h3\x3e\n                      \x3cdiv class\x3d"details__price"\x3e\x3c/div\x3e\n                      \x3cp class\x3d"details__description"\x3e\x3c/p\x3e\n                      \x3ca class\x3d"link details__addtocart"\x3e'+a+'\x3c/a\x3e\n                      \x3ca class\x3d"link details__magnifier"\x3e\x3ci class\x3d"material-icons size-29"\x3ezoom_in\x3c/i\x3e\x3c/a\x3e\n                      ';this.DOM.details=document.createElement("div");this.DOM.details.className="details";this.DOM.details.innerHTML=a;b.content.appendChild(this.DOM.details);this.init()};a.prototype.init=function(){this.DOM.bgUp=this.DOM.details.querySelector(".details__bg--up");this.DOM.bgDown=this.DOM.details.querySelector(".details__bg--down");this.DOM.img=this.DOM.details.querySelector(".details__img");this.DOM.title=this.DOM.details.querySelector(".details__title");this.DOM.deco=this.DOM.details.querySelector(".details__deco");this.DOM.subtitle=this.DOM.details.querySelector(".details__subtitle");this.DOM.price=this.DOM.details.querySelector(".details__price");this.DOM.description=this.DOM.details.querySelector(".details__description");this.DOM.cart=this.DOM.details.querySelector(".details__addtocart");this.DOM.close=document.querySelector(".link.product-close");this.DOM.magnifier=this.DOM.details.querySelector(".details__magnifier");this.initEvents()};a.prototype.initEvents=function(){var a=this;this.DOM.close.addEventListener("click",function(){return a.isZoomed?a.zoomOut():a.close()});this.DOM.magnifier.addEventListener("click",function(){return a.zoomIn()})};a.prototype.fill=function(a){this.DOM.img.src=a.img;this.DOM.title.innerHTML=a.title;this.DOM.deco.style.backgroundImage="url("+a.img+")";this.DOM.subtitle.innerHTML=a.subtitle;this.DOM.price.innerHTML=a.price;this.DOM.description.innerHTML=a.description};a.prototype.getProductDetailsRect=function(){return{productBgRect:this.DOM.productBg.getBoundingClientRect(),detailsBgRect:this.DOM.bgDown.getBoundingClientRect(),productImgRect:this.DOM.productImg.getBoundingClientRect(),detailsImgRect:this.DOM.img.getBoundingClientRect()}};a.prototype.open=function(a){var c=this;if(this.isAnimating)return!1;this.isAnimating=!0;this.DOM.details.classList.add("details--open");this.DOM.close.classList.remove("product-close-hidden");this.DOM.productBg=a.productBg;this.DOM.productImg=a.productImg;this.DOM.productBg.style.opacity=0;this.DOM.productImg.style.opacity=0;a=this.getProductDetailsRect();this.DOM.bgDown.style.transform="translateX("+(a.productBgRect.left-a.detailsBgRect.left)+"px) translateY("+(a.productBgRect.top-a.detailsBgRect.top)+"px) scaleX("+a.productBgRect.width/a.detailsBgRect.width+") scaleY("+a.productBgRect.height/a.detailsBgRect.height+")";this.DOM.bgDown.style.opacity=1;this.DOM.img.style.transform="translateX("+(a.productImgRect.left-a.detailsImgRect.left)+"px) translateY("+(a.productImgRect.top-a.detailsImgRect.top)+"px) scaleX("+a.productImgRect.width/a.detailsImgRect.width+") scaleY("+a.productImgRect.height/a.detailsImgRect.height+")";this.DOM.img.style.opacity=1;anime({targets:[this.DOM.bgDown,this.DOM.img],duration:function(a,b){return b?800:250},easing:function(a,b){return b?"easeOutElastic":"easeOutSine"},elasticity:250,translateX:0,translateY:0,scaleX:1,scaleY:1,complete:function(){return c.isAnimating=!1}});anime({targets:[this.DOM.title,this.DOM.deco,this.DOM.subtitle,this.DOM.price,this.DOM.description,this.DOM.cart,this.DOM.magnifier],duration:600,easing:"easeOutExpo",delay:function(a,b){return 60*b},translateY:function(a,b,c){return b!==c-1?[50,0]:0},scale:function(a,b,c){return b===c-1?[0,1]:1},opacity:1});anime({targets:this.DOM.bgUp,duration:100,easing:"linear",opacity:1});anime({targets:this.DOM.close,duration:250,easing:"easeOutSine",translateY:["100%",0],opacity:1});anime({targets:b.hamburger,duration:250,easing:"easeOutSine",translateY:[0,"-100%"]})};a.prototype.close=function(){var a=this;if(this.isAnimating)return!1;this.isAnimating=!0;this.DOM.details.classList.remove("details--open");this.DOM.close.classList.add("product-close-hidden");anime({targets:b.hamburger,duration:250,easing:"easeOutSine",translateY:0});anime({targets:this.DOM.close,duration:250,easing:"easeOutSine",translateY:"100%",opacity:0});anime({targets:this.DOM.bgUp,duration:100,easing:"linear",opacity:0});anime({targets:[this.DOM.title,this.DOM.deco,this.DOM.subtitle,this.DOM.price,this.DOM.description,this.DOM.cart,this.DOM.magnifier],duration:20,easing:"linear",opacity:0});var c=this.getProductDetailsRect();anime({targets:[this.DOM.bgDown,this.DOM.img],duration:250,easing:"easeOutSine",translateX:function(a,b){return b?c.productImgRect.left-c.detailsImgRect.left:c.productBgRect.left-c.detailsBgRect.left},translateY:function(a,b){return b?c.productImgRect.top-c.detailsImgRect.top:c.productBgRect.top-c.detailsBgRect.top},scaleX:function(a,b){return b?c.productImgRect.width/c.detailsImgRect.width:c.productBgRect.width/c.detailsBgRect.width},scaleY:function(a,b){return b?c.productImgRect.height/c.detailsImgRect.height:c.productBgRect.height/c.detailsBgRect.height},complete:function(){a.DOM.bgDown.style.opacity=0;a.DOM.img.style.opacity=0;a.DOM.bgDown.style.transform="none";a.DOM.img.style.transform="none";a.DOM.productBg.style.opacity=1;a.DOM.productImg.style.opacity=1;a.isAnimating=!1}})};a.prototype.zoomIn=function(){this.isZoomed=!0;anime({targets:[this.DOM.title,this.DOM.deco,this.DOM.subtitle,this.DOM.price,this.DOM.description,this.DOM.cart,this.DOM.magnifier],duration:100,easing:"easeOutSine",translateY:function(a,b,c){return b!==c-1?[0,0===b||1===b?-50:50]:0},scale:function(a,b,c){return b===c-1?[1,0]:1},opacity:0});var a=this.DOM.img.getBoundingClientRect(),b=window.innerWidth,c=window.innerHeight,a={targets:this.DOM.img,duration:250,easing:"easeOutCubic",translateX:b/2-(a.left+a.width/2),translateY:c/2-(a.top+a.height/2)};b>.8*c&&(this.DOM.img.style.transformOrigin="50% 50%",Object.assign(a,{scaleX:.95*b/parseInt(.8*c),scaleY:.95*b/parseInt(.8*c),rotate:90}));anime(a);anime({targets:this.DOM.close,duration:250,easing:"easeInOutCubic",scale:1.4,rotate:180})};a.prototype.zoomOut=function(){var a=this;this.isZoomed=!1;anime({targets:[this.DOM.title,this.DOM.deco,this.DOM.subtitle,this.DOM.price,this.DOM.description,this.DOM.cart,this.DOM.magnifier],duration:250,easing:"easeOutCubic",translateY:0,scale:1,opacity:1});anime({targets:this.DOM.img,duration:250,easing:"easeOutCubic",translateX:0,translateY:0,scaleX:1,scaleY:1,rotate:0,complete:function(){return a.DOM.img.style.transformOrigin="0 0"}});anime({targets:this.DOM.close,duration:250,easing:"easeInOutCubic",scale:1,rotate:0})};var c=function(a){this.DOM={};this.DOM.el=a;this.DOM.product=this.DOM.el.querySelector(".product");this.DOM.productBg=this.DOM.product.querySelector(".product__bg");this.DOM.productImg=this.DOM.product.querySelector(".product__img");this.info={img:this.DOM.productImg.src,title:this.DOM.product.querySelector(".product__title").innerHTML,subtitle:this.DOM.product.querySelector(".product__subtitle").innerHTML,description:this.DOM.product.querySelector(".product__description").innerHTML,price:this.DOM.product.querySelector(".product__price").innerHTML};this.initEvents()};c.prototype.initEvents=function(){var a=this;this.DOM.product.addEventListener("click",function(){return a.open()})};c.prototype.open=function(){b.details.fill(this.info);b.details.open({productBg:this.DOM.productBg,productImg:this.DOM.productImg})};(function(){b.grid=document.querySelector(".product-grid");b.content=b.grid.parentNode;b.hamburger=document.querySelector(".product-menu");b.gridItems=Array.from(b.grid.querySelectorAll(".product-grid__item"));var d=[];b.gridItems.forEach(function(a){return d.push(new c(a))});var e=b.grid.getAttribute("data-buy")||"Add to cart";b.details=new a(e)})()},webSocket:{connected:0,timerId:null,connect:function(){var b=Be.account.uid||"",a=Be.account.token||"",c=Be.account.host||"";""!==b&&""!==a&&""!==c&&(window.ws=new (window.WebSocket||window.MozWebSocket)("ws://"+c+"/Echo?name\x3d"+b+"\x26token\x3d"+a),ws.onmessage=function(a){doReceive(a.data)},ws.onopen=function(){Be.ext.webSocket.connected=1;Be.ext.webSocket.timerId&&window.clearInterval(Be.ext.webSocket.timerId)},ws.onclose=function(a){2001!==a.code&&(Be.ext.webSocket.connected=0);2E3>a.code&&(Be.ext.webSocket.timerId&&window.clearInterval(Be.ext.webSocket.timerId),Be.ext.webSocket.timerId=window.setInterval("Be.ext.webSocket.connect()",1E4))})},send:function(b,a){var c={cmd:b,body:a},c=Be.util.appendJson(c);window.ws.send(JSON.stringify(c))}}},builder:{init:{list:[],add:function(b){0>$.inArray(b,Be.builder.init.list)&&(Be.builder.init.list.push(b),0<=$.inArray(b,"photo-cover effect-box effect-frame-1 effect-frame-2 effect-frame-3 effect-frame-4 effect-frame-5 effect-mask".split(" "))&&(b=$.isArray("transparentbar",Be.builder.init.list),0<=b&&Be.builder.init.list.splice(b,1)))},clear:function(){Be.builder.init.list=[]}},page:function(b){if($.isEmptyObject(b))return"";var a="",c=0,d=b.component.length,e=!1,g=!1,h=Be.util.getKey(b,"part"),f=Be.util.getKey(b,"scroll");if("1"!==h){var m=Be.util.getKey(b,"id"),p=Be.util.getKey(b,"type"),r="",t="",n="",k="",l="",q=Be.util.getKey(b,"more-url"),u=Be.util.getKey(b,"hideTabbar"),v=Be.util.getKey(b,"hideNavbar"),x=Be.util.getKey(b,"hideNavbarOnScroll"),y=Be.util.getKey(b,"hideToolbarOnScroll"),A=Be.util.getKey(b,"pageCls"),B=Be.util.getKey(b,"contentCls"),z=Be.util.getKey(b,"landscape"),w=Be.util.getKey(b,"wallpaper"),C=Be.util.getKey(b,"themeColor"),D=Be.util.getKey(b,"popup"),E=Be.util.getKey(b,"keep"),F=Be.util.getKey(b,"alone");""!==A&&(A=" "+A);""!==B&&(B=" "+B);""!==w&&(0===w.indexOf("#")?w=' style\x3d"background-color:'+w+' !important;"':(-1<w.indexOf("{url}")&&(w=w.replace("{url}",Be.config.url)),w=" style\x3d\"background:url('"+w+"') no-repeat center !important;background-size:cover !important;\""));""!==q&&(q=' data-more-url\x3d"'+q+'"');""!==D&&(D=' data-popup\x3d"Y"');""!==E&&(E=' data-keep\x3d"Y"');""!==F&&(F=' data-alone\x3d"Y"');""!==C&&(C=' data-theme-color\x3d"'+C+'"');u="1"===u?" no-tabbar":"";v="1"===v?" no-navbar":"";"1"===x&&this.init.add("hide-navbar-on-scroll");"1"===y&&this.init.add("hide-toolbar-on-scroll");"1"===z&&this.init.add("landscape");d>c&&"navbar"===Be.util.getKey(b.component[c],"type")&&(r=this.subnavbarClass(b.component[c]),t=this.navbar(b.component[c]),""!==r&&(e=!0),c++);d>c&&"toolbar"===Be.util.getKey(b.component[c],"type")&&(n=this.toolbar(b.component[c]),c++);d>c&&"tabbar"===Be.util.getKey(b.component[c],"type")&&(e=!0,n=this.tabbar(b.component[c]),c++);d>c&&"searchbar"===Be.util.getKey(b.component[c],"type")&&"static"!==Be.util.getKey(b.component[c],"subtype")&&(g=!0,k=this.searchbar(b.component[c]),c++);d>c&&"floating-action"===Be.util.getKey(b.component[c],"type")&&(l=this.floatingAction(b.component[c]),c++);switch(p){case "picker":a+='\x3cdiv class\x3d"sheet-modal" data-name\x3d"'+m+'"\x3e';break;case "popover":a+='\x3cdiv class\x3d"popover popover-menu" data-name\x3d"'+m+'"\x3e';break;default:a+='\x3cdiv class\x3d"page'+A+u+v+r+'" data-name\x3d"'+m+'"'+w+D+E+F+C+q+"{{init}}\x3e"}a=a+t+n+k;a+=l;e||(""!==f?"pull"===f?(this.init.add("pull-to-refresh"),a+='\x3cdiv class\x3d"page-content'+B+' ptr-content" data-ptr-distance\x3d"50"\x3e',a+='\x3cdiv class\x3d"ptr-preloader"\x3e',a+='\x3cdiv class\x3d"preloader"\x3e\x3c/div\x3e',a+='\x3cdiv class\x3d"ptr-arrow"\x3e\x3c/div\x3e',a+="\x3c/div\x3e"):(this.init.add("infinite-scroll"),a+='\x3cdiv class\x3d"page-content'+B+' infinite-scroll-content" data-distance\x3d"50"\x3e'):a+='\x3cdiv class\x3d"page-content'+B+'"\x3e',g&&(a+='\x3cdiv class\x3d"searchbar-backdrop"\x3e\x3c/div\x3e'))}for(;c<d;c++)a+=this.component(b.component[c]);"1"!==h&&(""!==f&&"pull"!==f&&(a+='\x3cdiv class\x3d"preloader infinite-scroll-preloader"\x3e\x3c/div\x3e'),e||(a+="\x3c/div\x3e"),a+="\x3c/div\x3e");0<this.init.list.length?(b=this.init.list.join(","),a=a.replace("{{init}}\x3e",' data-be-init\x3d"'+b+'"\x3e'),this.init.clear()):a=a.replace("{{init}}\x3e","\x3e");return a},component:function(b){var a="";if($.isEmptyObject(b))return a;switch(Be.util.getKey(b,"type")){case "accordion":a=this.accordion(b);break;case "button":a=this.button(b);break;case "card":a=this.card(b);break;case "chip":a=this.chip(b);break;case "content":a=this.content(b);break;case "input":a=this.input(b);break;case "checkboxs":a=this.checkboxs(b);break;case "radios":a=this.radios(b);break;case "grid":a=this.grid(b);break;case "list":a=this.list(b);break;case "list-group":case "list-contact":a=this.listGroup(b);break;case "list-media":a=this.listMedia(b);break;case "list-swipe":a=this.listSwipe(b);break;case "list-index":a=this.listIndex(b);break;case "list-virtual":a=this.listVirtual(b);break;case "table":a=this.table(b);break;case "message":a=this.message(b);break;case "navbar":a=this.navbar(b);break;case "toolbar":a=this.toolbar(b);break;case "tabbar":strRet=this.tabbar(b);break;case "searchbar":a=this.searchbar(b);break;case "tabs":a=this.tabs(b);break;case "timeline":a=this.timeline(b);break;case "timeline-calendar":a=this.timelineCalendar(b);break;case "list-audio":a=this.listAudio(b);break;case "card-audio":a=this.cardAudio(b);break;case "elevation":a=this.elevation(b);break;case "stepper":a=this.stepper(b);break;case "progressbar":a=this.progressbar(b);break;case "css-effect":a=this.cssEffect(b);break;case "animate":a=this.animate(b);break;case "card-menu":a=this.cardMenu(b);break;case "video":a=this.video(b);break;case "gallery":a=this.gallery(b);break;case "shopping":a=this.shopping(b);break;case "photo-cover":a=this.photoCover(b);break;case "cart-bar":a=this.cartBar(b);break;case "calendar-event":a=this.calendarEvent(b);break;case "title":a=this.title(b);break;case "html":a=Be.util.getKey(b,"data");break;case "style":a='\x3cstyle type\x3d"text/css"\x3e'+Be.util.getKey(b,"data")+"\x3c/style\x3e";break;case "script":a='\x3cscript type\x3d"text/javascript"\x3e'+Be.util.getKey(b,"data")+"\x3c/script\x3e"}return a},accordion:function(b){var a="",c,d,e,g,h,f="ios"===Be.config.theme?"icoIos":"icoMat",m=Be.util.getKey(b,"part");c=Be.util.getKey(b,"insetCls");"1"!==m&&(""!==c&&(c=" "+c),a=a+('\x3cdiv class\x3d"list accordion-list'+c+'"\x3e')+"\x3cul\x3e");for(var p=0;p<b.list.length;p++){c=b.list[p];d=Be.util.getKey(c,"type");a+='\x3cli class\x3d"accordion-item"\x3e';a+='\x3ca href\x3d"#" class\x3d"item-content item-link"\x3e';a+='\x3cdiv class\x3d"item-inner"\x3e';a+='\x3cdiv class\x3d"item-title"\x3e'+Be.util.getKey(c,"label")+"\x3c/div\x3e";a+="\x3c/div\x3e\x3c/a\x3e";a+='\x3cdiv class\x3d"accordion-item-content"\x3e';if("list"===d){for(var a=a+'\x3cdiv class\x3d"list"\x3e',a=a+"\x3cul\x3e",r=0;r<c.item.length;r++)d=c.item[r],g=Be.util.getKey(d,f),h=Be.util.getKey(d,"icoColor"),e=Be.util.getKey(d,"click"),e=Be.util.getLink(e),""!==h&&(h=" "+h),a=""===e?a+"\x3cli\x3e":a+("\x3ca"+e+"\x3e"),a+='\x3cdiv class\x3d"item-content"\x3e',a+='\x3cdiv class\x3d"item-media"\x3e',a=0===g.indexOf("icon icon-")?a+('\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"'+g+h+'"\x3e\x3c/i\x3e\x3c/div\x3e'):a+('\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"icon '+Be.iconPrefix+"-icons"+h+'"\x3e'+Be.util.getIcon(g)+"\x3c/i\x3e\x3c/div\x3e"),a+="\x3c/div\x3e",a+='\x3cdiv class\x3d"item-inner"\x3e\x3cdiv class\x3d"item-title"\x3e'+Be.util.getKey(d,"text")+"\x3c/div\x3e\x3c/div\x3e",a+="\x3c/div\x3e",a=""===e?a+"\x3c/li\x3e":a+"\x3c/a\x3e";a+="\x3c/ul\x3e"}else a+='\x3cdiv class\x3d"block"\x3e',a+="\x3cp\x3e"+Be.util.getKey(c,"text")+"\x3c/p\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e";a+="\x3c/li\x3e"}"1"!==m&&(a+="\x3cul\x3e\x3c/div\x3e");return a},animate:function(b){var a,c,d;a='\x3cdiv class\x3d"animate-box play"\x3e';for(var e=0;e<b.list.length;e++)c=b.list[e],d=Be.util.getKey(c,"class"),c=Be.util.getKey(c,"text"),-1<c.indexOf("{url}")&&(c=c.replace("{url}",Be.config.url)),a+='\x3cimg src\x3d"'+c+'" class\x3d"'+d+'" /\x3e';return a+"\x3c/div\x3e"},button:function(b){var a="",c,d="block",e="",g,h,f=Be.util.getKey(b,"subtype"),m=Be.util.getKey(b,"extCls"),p="ios"===Be.config.theme?"clsIos":"clsMat";""===f&&(f="usual");""!==m&&(d+=" "+m);m=-1;"segmented"===f&&(g=Be.util.getKey(b,"activeIdx"),""!==g&&(m=parseInt(g)));for(var r=0;r<b.list.length;r++)switch(c=b.list[r],g=Be.util.getKey(c,"text"),h=Be.util.getKey(c,"click"),c=Be.util.getKey(c,p),f){case "usual":a=""===h?a+('\x3cp\x3e\x3cbutton class\x3d"'+c+'"\x3e'+g+"\x3c/button\x3e\x3c/p\x3e"):a+('\x3cp\x3e\x3cbutton onclick\x3d"'+h+'" class\x3d"'+c+'"\x3e'+g+"\x3c/button\x3e\x3c/p\x3e");break;case "grid":a=""===h?a+('\x3cbutton class\x3d"'+c+'"\x3e'+g+"\x3c/button\x3e"):a+('\x3cbutton onclick\x3d"'+h+'" class\x3d"'+c+'"\x3e'+g+"\x3c/button\x3e");break;case "segmented":""===c&&(c="button"),m===r&&(c+=" button-active"),a=""===h?a+('\x3cbutton class\x3d"'+c+'"\x3e'+g+"\x3c/button\x3e"):a+('\x3cbutton onclick\x3d"'+h+'" class\x3d"'+c+'"\x3e'+g+"\x3c/button\x3e")}switch(f){case "usual":e=a;break;case "segmented":e='\x3cp class\x3d"segmented"\x3e'+a+"\x3c/p\x3e";break;case "grid":e=e+'\x3cp class\x3d"row"\x3e'+a+"\x3c/p\x3e"}return b=""+('\x3cdiv class\x3d"'+d+'"\x3e')+e+"\x3c/div\x3e"},card:function(b){var a="",c,d,e,g,h,f,m="ios"===Be.config.theme?"icoIos":"icoMat";d=Be.util.getKey(b,"subtype");switch(d){case "simple":case "outline":for(var p=0;p<b.list.length;p++)c=b.list[p],e=Be.util.getKey(c,"header"),h=Be.util.getKey(c,"footer"),a="simple"===d?a+'\x3cdiv class\x3d"card"\x3e':a+'\x3cdiv class\x3d"card card-outline"\x3e',""!==e&&(a+='\x3cdiv class\x3d"card-header"\x3e'+e+"\x3c/div\x3e"),a+='\x3cdiv class\x3d"card-content card-content-padding"\x3e'+Be.util.getKey(c,"text")+"\x3c/div\x3e",""!==h&&(a+='\x3cdiv class\x3d"card-footer"\x3e'+h+"\x3c/div\x3e"),a+="\x3c/div\x3e";break;case "style":for(p=0;p<b.list.length;p++){c=b.list[p];e=Be.util.getKey(c,"title");h=Be.util.getKey(c,"subtitle");d=Be.util.getKey(c,"image");g=Be.util.getKey(c,"headCls");""===g&&(g="color-white");-1<d.indexOf("{url}")&&(d=d.replace("{url}",Be.config.url));a+='\x3cdiv class\x3d"card card-header-pic"\x3e';a+='\x3cdiv style\x3d"background-image:url('+d+')" valign \x3d"bottom" class\x3d"card-header '+g+' no-border"\x3e'+e+"\x3c/div\x3e";a+='\x3cdiv class\x3d"card-content card-content-padding"\x3e';a+='\x3cp class\x3d"color-gray"\x3e'+h+"\x3c/p\x3e";a+="\x3cp\x3e"+Be.util.getKey(c.item[0],"text")+"\x3c/p\x3e";a+="\x3c/div\x3e";a+='\x3cdiv class\x3d"card-footer"\x3e';for(g=0;g<c.item.length;g++)d=c.item[g],e=Be.util.getKey(d,"click"),e=Be.util.getLink(e),f=Be.util.getKey(d,"class"),""===f&&(f="link"),h=Be.util.getKey(d,m),""===f&&(f="link"),a+="\x3ca"+e+' class\x3d"'+f+'"\x3e',a=""===h?a+Be.util.getKey(d,"text"):0===h.indexOf("icon icon-")?a+('\x3ci class\x3d"'+h+'"\x3e\x3c/i\x3e'):a+('\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(h)+"\x3c/i\x3e"),a+="\x3c/a\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e"}break;case "facebook":for(p=0;p<b.list.length;p++){c=b.list[p];e=Be.util.getKey(c,"title");h=Be.util.getKey(c,"subtitle");g=Be.util.getKey(c,"avatar");d=Be.util.getKey(c,"image");-1<g.indexOf("{url}")&&(g=g.replace("{url}",Be.config.url));-1<d.indexOf("{url}")&&(d=d.replace("{url}",Be.config.url));a+='\x3cdiv class\x3d"card facebook-card"\x3e';a+='\x3cdiv class\x3d"card-header"\x3e';a+='\x3cdiv class\x3d"facebook-avatar"\x3e\x3cimg src\x3d"'+g+'" width\x3d"34" height\x3d"34"\x3e\x3c/div\x3e';a+='\x3cdiv class\x3d"facebook-name"\x3e'+Be.util.getKey(c,"name")+"\x3c/div\x3e";a+='\x3cdiv class\x3d"facebook-date"\x3e'+Be.util.getKey(c,"date")+"\x3c/div\x3e";a+="\x3c/div\x3e";""!==e?(a+='\x3cdiv class\x3d"card-content card-content-padding"\x3e',a+="\x3cp\x3e"+e+"\x3c/p\x3e",a+='\x3cimg src\x3d"'+d+'" width\x3d"100%"\x3e',""!==h&&(a+='\x3cp class\x3d"color-gray"\x3e'+h+"\x3c/p\x3e")):(a+='\x3cdiv class\x3d"card-content"\x3e',a+='\x3cimg src\x3d"'+Be.util.getKey(c,"image")+'" width\x3d"100%"\x3e');a+="\x3c/div\x3e";a+='\x3cdiv class\x3d"card-footer"\x3e';for(g=0;g<c.item.length;g++)d=c.item[g],e=Be.util.getKey(d,"click"),e=Be.util.getLink(e),f=Be.util.getKey(d,"class"),h=Be.util.getKey(d,m),""===f&&(f="link"),a+="\x3ca"+e+' class\x3d"'+f+'"\x3e',a=""===h?a+Be.util.getKey(d,"text"):0===h.indexOf("icon icon-")?a+('\x3ci class\x3d"'+h+'"\x3e\x3c/i\x3e'):a+('\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(h)+"\x3c/i\x3e"),a+="\x3c/a\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e"}break;case "link":a+='\x3cdiv class\x3d"card"\x3e\x3cdiv class\x3d"card-content"\x3e\x3cdiv class\x3d"list lnks-list no-ios-edges"\x3e\x3cul\x3e';for(p=0;p<b.list.length;p++)c=b.list[p],h=Be.util.getKey(c,m),e=Be.util.getKey(c,"click"),e=Be.util.getLink(e),a+="\x3cli\x3e",a+="\x3ca"+e+' class\x3d"item-link item-content"\x3e',a+='\x3cdiv class\x3d"item-media"\x3e',a=0===h.indexOf("icon icon-")?a+('\x3ci class\x3d"'+h+'"\x3e\x3c/i\x3e'):a+('\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(h)+"\x3c/i\x3e"),a+="\x3c/div\x3e",a+='\x3cdiv class\x3d"item-inner"\x3e',a+='\x3cdiv class\x3d"item-title"\x3e'+Be.util.getKey(c,"text")+"\x3c/div\x3e",a+="\x3c/div\x3e",a+="\x3c/a\x3e",a+="\x3c/li\x3e";a+="\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";break;case "release":c=Be.util.getKey(b,"title");a+='\x3cdiv class\x3d"card"\x3e';""!==c&&(a+='\x3cdiv class\x3d"card-header"\x3e'+c+"\x3c/div\x3e");a+='\x3cdiv class\x3d"card-content"\x3e\x3cdiv class\x3d"list media-list no-ios-edges"\x3e\x3cul\x3e';for(p=0;p<b.list.length;p++)c=b.list[p],e=Be.util.getKey(c,"title"),h=Be.util.getKey(c,"subtitle"),d=Be.util.getKey(c,"image"),-1<d.indexOf("{url}")&&(d=d.replace("{url}",Be.config.url)),a+='\x3cli class\x3d"item-content"\x3e',a+='\x3cdiv class\x3d"item-media"\x3e',a+='\x3cimg src\x3d"'+d+'" width\x3d"44"\x3e',a+="\x3c/div\x3e",a+='\x3cdiv class\x3d"item-inner"\x3e',a+='\x3cdiv class\x3d"item-title-row"\x3e',a+='\x3cdiv class\x3d"item-title"\x3e'+e+"\x3c/div\x3e",a+="\x3c/div\x3e",a+='\x3cdiv class\x3d"item-subtitle"\x3e'+h+"\x3c/div\x3e",a+="\x3c/div\x3e",a+="\x3c/li\x3e";a=a+'\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"card-footer"\x3e'+("\x3cspan\x3e"+Be.util.getKey(b,"footerLeft")+"\x3c/span\x3e");a+="\x3cspan\x3e"+Be.util.getKey(b,"footerRight")+"\x3c/span\x3e";a+="\x3c/div\x3e\x3c/div\x3e";break;case "profile":strName=Be.util.getKey(b,"name"),d=Be.util.getKey(b,"image"),g=Be.util.getKey(b,"avatar"),e=Be.util.getKey(b,"click"),e=Be.util.getLink(e),-1<g.indexOf("{url}")&&(g=g.replace("{url}",Be.config.url)),-1<d.indexOf("{url}")&&(d=d.replace("{url}",Be.config.url)),a=a+'\x3cdiv class\x3d"card-menu-top"\x3e\x3cdiv class\x3d"card-menu-top-img"\x3e'+('\x3cimg alt\x3d"'+strName+'" src\x3d"'+d+'"\x3e'),a=a+'\x3c/div\x3e\x3cdiv class\x3d"card-menu-top-info"\x3e'+("\x3ca"+e+' class\x3d"card-menu-top-user"\x3e\x3cspan class\x3d"card-avatar pull-left avatar-transparent"\x3e\x3cimg alt\x3d"" src\x3d"'+g+'"\x3e\x3c/span\x3e'+strName+"\x3c/a\x3e"),a+="\x3c/div\x3e\x3c/div\x3e"}return a},cardAudio:function(b){var a="",c,d,e,g,h,f,m,p=Be.util.getKey(b,"subtype"),r=Be.util.getKey(b,"player");""===r&&(r="Be.ext.playAudioEx(this.id)");var t="ios"===Be.config.theme?"icoIos":"icoMat",n=Be.device.android?"16":"15";""===p&&(p="simple");for(var k=0;k<b.list.length;k++){c=b.list[k];d=Be.util.getKey(c,"title");e=Be.util.getKey(c,"subtitle");g=Be.util.getKey(c,"image");h=Be.util.getKey(c,"audio");m=Be.util.getKey(c,"barCls");f=Be.util.getKey(c,"headCls");""===f&&(f="color-white");-1<g.indexOf("{url}")&&(g=g.replace("{url}",Be.config.url));-1<h.indexOf("{url}")&&(h=h.replace("{url}",Be.config.url));a+='\x3cdiv class\x3d"card card-header-pic"\x3e';if("simple"===p)a+='\x3cdiv style\x3d"background-image:url('+g+')" valign \x3d"bottom" class\x3d"card-header '+f+' no-border"\x3e'+d+"\x3c/div\x3e",a+='\x3cdiv class\x3d"card-content"\x3e',a+='\x3cdiv style\x3d"padding-left:'+n+"px;padding-right:"+n+'px;"\x3e',a+='\x3cp class\x3d"color-gray"\x3e'+e+"\x3c/p\x3e",a+="\x3cp\x3e"+Be.util.getKey(c,"text")+"\x3c/p\x3e",a+="\x3c/div\x3e",a+='\x3cdiv id\x3d"_audio_prog_'+k+'" style\x3d"display:none;" data-progress\x3d"0" class\x3d"progressbar',""!==m&&(a+=" "+m),a+='"\x3e\x3c/div\x3e',a+="\x3c/div\x3e",a+='\x3cdiv class\x3d"card-footer"\x3e',a+='\x3ca id\x3d"_audio_link_'+k+'" href\x3d"#" onclick\x3d"'+r+'" data-audio\x3d"'+h+'" class\x3d"sm1_button"\x3e\x26nbsp;\x3c/a\x3e',a+='\x3cspan id\x3d"_audio_time_'+k+'"\x3e\x3c/span\x3e';else for(a+='\x3cdiv style\x3d"background-image:url('+g+')" valign \x3d"bottom" class\x3d"card-header '+f+' no-border"\x3e\x3cspan id\x3d"_audio_time_'+k+'"\x3e\x3c/span\x3e\x3c/div\x3e',a+='\x3cdiv class\x3d"card-content"\x3e',a+='\x3cdiv class\x3d"card-content-inner"\x3e',a+='\x3cdiv class\x3d"row"\x3e',a+='\x3cdiv class\x3d"col-20"\x3e\x3ca id\x3d"_audio_link_'+k+'" href\x3d"#" onclick\x3d"'+r+'" data-audio\x3d"'+h+'" class\x3d"sm2_button"\x3e\x26nbsp;\x3c/a\x3e\x3c/div\x3e',a+='\x3cdiv class\x3d"col-80"\x3e\x3cdiv style\x3d"height:27px;line-height:27px;"\x3e'+d+'\x3c/div\x3e\x3cdiv style\x3d"height:20px;line-height:20px;" class\x3d"color-gray"\x3e'+e+"\x3c/div\x3e\x3c/div\x3e",a+="\x3c/div\x3e",a+="\x3c/div\x3e",a+='\x3cdiv id\x3d"_audio_prog_'+k+'" style\x3d"display:none;" data-progress\x3d"0" class\x3d"progressbar',""!==m&&(a+=" "+m),a+='"\x3e\x3c/div\x3e',a+="\x3c/div\x3e",a+='\x3cdiv class\x3d"card-footer"\x3e',e=0;e<c.item.length;e++)d=c.item[e],g=Be.util.getKey(d,"click"),g=Be.util.getLink(g),h=Be.util.getKey(d,"class"),""===h&&(h="link"),f=Be.util.getKey(d,t),""===h&&(h="link"),a+="\x3ca"+g+' class\x3d"'+h+'"\x3e',a=""===f?a+Be.util.getKey(d,"text"):0===f.indexOf("icon icon-")?a+('\x3ci class\x3d"'+f+'"\x3e\x3c/i\x3e'):a+('\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(f)+"\x3c/i\x3e"),a+="\x3c/a\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e"}this.init.add("audio");return a},cartBar:function(b){var a="",c,d=0,e,g,h="ios"===Be.config.theme?"icoIos":"icoMat";e=Be.util.getKey(b,"bgcolor");var f=Be.util.getKey(b,"cartBgcolor");g=Be.util.getKey(b,"activeIdx");var m=Be.util.getKey(b,"cartClick");""!==g&&(d=parseInt(g));""===e&&(e=Be.color[Be.config.theme][Be.config.color]);""===f&&(f="#cc0000");for(var a=a+('\x3cdiv class\x3d"cart-bar" style\x3d"background-color:'+e+'"\x3e')+'\x3cdiv class\x3d"bar-actions"\x3e',p=0;p<b.list.length;p++)c=b.list[p],e=Be.util.getKey(c,h),g=Be.util.getKey(c,"text"),Be.util.getKey(c,"click"),c=p===d?" bar-action-item-selected":"",a+='\x3cbutton class\x3d"bar-action bar-action-item'+c+'" onclick\x3d"'+m+'"\x3e',""!==e&&(a+='\x3ci class\x3d"bar-cart-icon icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(e)+"\x3c/i\x3e"),""!==g&&(a+='\x3cspan class\x3d"bar-action-text"\x3e'+g+"\x3c/span\x3e"),a+="\x3c/button\x3e ";return a=a+"\x3c/div\x3e"+('\x3cbutton class\x3d"bar-cart" style\x3d"background-color:'+f+'" onclick\x3d"'+m+'"\x3e\x3ci class\x3d"bar-cart-icon icon material-icons"\x3eshopping_cart\x3c/i\x3e\x3cspan class\x3d"bar-cart-count"\x3e0\x3c/span\x3e\x3c/button\x3e ')+"\x3c/div\x3e"},checkboxs:function(b){var a="",c,d,e,g=Be.util.getKey(b,"name"),h=Be.util.getKey(b,"subtype"),f=Be.util.getKey(b,"imgWidth");c=Be.util.getKey(b,"extCls");""===f&&(f="80");""!==c&&(c=" "+c);for(var a=("media"===h?a+('\x3cdiv class\x3d"list media-list'+c+'"\x3e'):a+('\x3cdiv class\x3d"list'+c+'"\x3e'))+"\x3cul\x3e",m=0;m<b.list.length;m++)c=b.list[m],d=Be.util.getKey(c,"checked"),e=Be.util.getKey(c,"value"),d="1"===d?" checked":"",a+="\x3cli\x3e",a+='\x3clabel class\x3d"item-checkbox item-content"\x3e',a+='\x3cinput type\x3d"checkbox" id\x3d"'+g+"-"+m+'" name\x3d"'+g+'" value\x3d"'+e+'"'+d+"\x3e","media"===h?(d=Be.util.getKey(c,"image"),-1<d.indexOf("{url}")&&(d=d.replace("{url}",Be.config.url)),a+='\x3cdiv class\x3d"item-media"\x3e\x3cimg src\x3d"'+d+'" width\x3d"'+f+'"\x3e\x3c/div\x3e',a+='\x3cdiv class\x3d"item-inner"\x3e',a+='\x3cdiv class\x3d"item-title-row"\x3e',a+='\x3cdiv class\x3d"item-title"\x3e'+Be.util.getKey(c,"title")+"\x3c/div\x3e",a+='\x3cdiv class\x3d"item-after"\x3e\x3ci class\x3d"icon icon-checkbox"\x3e\x3c/i\x3e\x3c/div\x3e',a+="\x3c/div\x3e",a+='\x3cdiv class\x3d"item-subtitle"\x3e'+Be.util.getKey(c,"subtitle")+"\x3c/div\x3e",a+='\x3cdiv class\x3d"item-text"\x3e'+Be.util.getKey(c,"text")+"\x3c/div\x3e"):(a+='\x3ci class\x3d"icon icon-checkbox"\x3e\x3c/i\x3e',a+='\x3cdiv class\x3d"item-inner"\x3e',a+='\x3cdiv class\x3d"item-title"\x3e'+Be.util.getKey(c,"text")+"\x3c/div\x3e"),a+="\x3c/div\x3e",a+="\x3c/label\x3e",a+="\x3c/li\x3e";return a+"\x3c/ul\x3e\x3c/div\x3e"},chip:function(b){var a="",c,d,e,g;e=Be.util.getKey(b,"class");var h=Be.util.getKey(b,"outline"),f="ios"===Be.config.theme?"icoIos":"icoMat";""===e&&(e="block");for(var a=a+('\x3cdiv class\x3d"'+e+'"\x3e'),m=0;m<b.list.length;m++){c=b.list[m];d=Be.util.getKey(c,"type");e=Be.util.getKey(c,"del");g=Be.util.getKey(c,"text");if("color"===d)d=Be.util.getKey(c,"bgCls"),""!==d&&(d=" "+d),a="1"===h?a+('\x3cdiv class\x3d"chip chip-outline'+d+'"\x3e'):a+('\x3cdiv class\x3d"chip'+d+'"\x3e');else switch(a="1"===h?a+'\x3cdiv class\x3d"chip chip-outline"\x3e':a+'\x3cdiv class\x3d"chip"\x3e',d){case "icon":d=Be.util.getKey(c,"iconCls");c=Be.util.getKey(c,f);""!==d&&(d=" "+d);a+='\x3cdiv class\x3d"chip-media'+d+'"\x3e';a=-1<c.indexOf("icon icon-")?a+('\x3ci class\x3d"'+c+'"\x3e\x3c/i\x3e'):a+('\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(c)+"\x3c/i\x3e");a+='\x3ci class\x3d"'+c+'"\x3e\x3c/i\x3e';a+="\x3c/div\x3e";break;case "image":c=Be.util.getKey(c,"image");-1<c.indexOf("{url}")&&(c=c.replace("{url}",Be.config.url));a+='\x3cdiv class\x3d"chip-media"\x3e\x3cimg src\x3d"'+c+'"\x3e\x3c/div\x3e';break;case "bg":d=Be.util.getKey(c,"bgCls"),""!==d&&(d=" "+d),0<g.length&&(a+='\x3cdiv class\x3d"chip-media'+d+'"\x3e'+g.substr(0,1)+"\x3c/div\x3e")}a+='\x3cdiv class\x3d"chip-label"\x3e'+g+"\x3c/div\x3e";"1"===e&&(a+='\x3ca href\x3d"#" class\x3d"chip-delete"\x3e\x3c/a\x3e');a+="\x3c/div\x3e"}return a+"\x3c/div\x3e"},cssEffect:function(b){var a="",c,d,e,g,h;c=Be.util.getKey(b,"subtype");d=Be.util.getKey(b,"effectIdx");switch(c){case "animated-frame":this.init.add("effect-frame-"+d);a=a+'\x3cdiv class\x3d"animated-content-view"\x3e'+('\x3cdiv class\x3d"effect-animated-frame-'+d+'"\x3e')+'\x3cdiv class\x3d"slideshow"\x3e';if("5"===d){for(var f="",m="",p=0;p<b.list.length;p++)c=b.list[p],d=Be.util.getKey(c,"image"),e=Be.util.getKey(c,"title"),g=Be.util.getKey(c,"link"),h=Be.util.getKey(c,"click"),h=Be.util.getLink(h),-1<d.indexOf("{url}")&&(d=d.replace("{url}",Be.config.url)),f+='\x3cdiv class\x3d"slide',m+='\x3cdiv class\x3d"slide',0===p&&(f+=" slide--current",m+=" slide--current"),f+='"\x3e',m+='"\x3e',f+='\x3cdiv class\x3d"slide__img" style\x3d"background-image:url('+d+')"\x3e\x3c/div\x3e',f+="\x3c/div\x3e",m+='\x3ch2 class\x3d"slide__title"\x3e'+e+"\x3c/h2\x3e",m+='\x3cp class\x3d"slide__desc"\x3e'+Be.util.getKey(c,"text")+"\x3c/p\x3e",m+='\x3ca class\x3d"slide__link"'+h+"\x3e"+g+"\x3c/a\x3e",m+="\x3c/div\x3e";a=a+'\x3cdiv class\x3d"slides slides--images"\x3e'+f+"\x3c/div\x3e";a+='\x3cdiv class\x3d"slides slides--titles"\x3e';a+=m}else for(a+='\x3cdiv class\x3d"slides"\x3e',p=0;p<b.list.length;p++)c=b.list[p],d=Be.util.getKey(c,"image"),e=Be.util.getKey(c,"title"),g=Be.util.getKey(c,"link"),h=Be.util.getKey(c,"click"),h=Be.util.getLink(h),-1<d.indexOf("{url}")&&(d=d.replace("{url}",Be.config.url)),a+='\x3cdiv class\x3d"slide',0===p&&(a+=" slide--current"),a+='"\x3e',a+='\x3cdiv class\x3d"slide__img" style\x3d"background-image:url('+d+')"\x3e\x3c/div\x3e',a+='\x3ch2 class\x3d"slide__title"\x3e'+e+"\x3c/h2\x3e",a+='\x3cp class\x3d"slide__desc"\x3e'+Be.util.getKey(c,"text")+"\x3c/p\x3e",a+='\x3ca class\x3d"slide__link"'+h+"\x3e"+g+"\x3c/a\x3e",a+="\x3c/div\x3e";a+="\x3c/div\x3e";a+='\x3cnav class\x3d"slidenav"\x3e';a+='\x3cbutton class\x3d"slidenav__item slidenav__item--prev"\x3e\x3ci class\x3d"'+Be.iconPrefix+'-icons" style\x3d"font-size:50px;"\x3e'+Be.util.getIcon("chevron_left")+"\x3c/i\x3e\x3c/button\x3e";a+="\x3cspan\x3e\x26nbsp;\x3c/span\x3e";a+='\x3cbutton class\x3d"slidenav__item slidenav__item--next"\x3e\x3ci class\x3d"'+Be.iconPrefix+'-icons" style\x3d"font-size:50px;"\x3e'+Be.util.getIcon("chevron_right")+"\x3c/i\x3e\x3c/button\x3e";a+="\x3c/nav\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e";break;case "four-box":this.init.add("effect-box");a+='\x3cdiv class\x3d"boxes-content-view"\x3e';a+='\x3cdiv class\x3d"boxgallery" data-effect\x3d"effect-four-boxs-'+d+'"\x3e';for(p=0;p<b.list.length;p++)c=b.list[p],d=Be.util.getKey(c,"image"),-1<d.indexOf("{url}")&&(d=d.replace("{url}",Be.config.url)),a+='\x3cdiv class\x3d"boxes-panel"\x3e\x3cimg src\x3d"'+d+'" alt\x3d"Image" /\x3e\x3c/div\x3e';a+="\x3cnav\x3e";a+='\x3cspan class\x3d"prev"\x3e\x3ci class\x3d"'+Be.iconPrefix+'-icons" style\x3d"font-size:50px;"\x3e'+Be.util.getIcon("chevron_left")+"\x3c/i\x3e\x3c/span\x3e";a+='\x3cspan class\x3d"next"\x3e\x3ci class\x3d"'+Be.iconPrefix+'-icons" style\x3d"font-size:50px;"\x3e'+Be.util.getIcon("chevron_right")+"\x3c/i\x3e\x3c/span\x3e";a+="\x3c/nav\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e";break;case "mask-transition":this.init.add("effect-mask");a=a+('\x3cdiv class\x3d"effect-mask-transition-'+d+'"\x3e')+'\x3cdiv class\x3d"mask-content-view"\x3e';for(p=0;p<b.list.length;p++)c=b.list[p],d=Be.util.getKey(c,"image"),e=Be.util.getKey(c,"title"),g=Be.util.getKey(c,"subtitle"),-1<d.indexOf("{url}")&&(d=d.replace("{url}",Be.config.url)),a+='\x3cdiv class\x3d"project" style\x3d"background-image:url('+d+')"\x3e',a+='\x3cdiv class\x3d"text"\x3e',""!==e&&(a+="\x3ch1\x3e"+e+"\x3c/h1\x3e"),a+="\x3cp\x3e"+g+"\x3c/p\x3e",a+="\x3c/div\x3e",a+="\x3c/div\x3e";a+='\x3cnav class\x3d"arrows"\x3e';a+='\x3cdiv class\x3d"arrow previous"\x3e\x3ci class\x3d"'+Be.iconPrefix+'-icons" style\x3d"font-size:50px;"\x3e'+Be.util.getIcon("chevron_left")+"\x3c/i\x3e\x3c/div\x3e";a+='\x3cdiv class\x3d"arrow next"\x3e\x3ci class\x3d"'+Be.iconPrefix+'-icons" style\x3d"font-size:50px;"\x3e'+Be.util.getIcon("chevron_right")+"\x3c/i\x3e\x3c/div\x3e";a+="\x3c/nav\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e"}return a},content:function(b){var a="",c,d=Be.util.getKey(b,"subtype");c=Be.util.getKey(b,"extCls");""!==c&&(c=" "+c);var e,g=!1,a=a+('\x3cdiv class\x3d"block'+c+'"\x3e');if("format"===d)for(var h=0;h<b.list.length;h++){c=b.list[h];d=Be.util.getKey(c,"type");""===d&&(d="text");e=Be.util.getKey(c,"text");-1<e.indexOf("{url}")&&(e=e.replace("{url}",Be.config.url));a+="\x3cp\x3e";switch(d){case "lazy":g=!0;a+='\x3cimg data-src\x3d"'+e+'" width\x3d"'+Be.util.getKey(c,"width")+'" height\x3d"'+Be.util.getKey(c,"height")+'" class\x3d"'+Be.util.getKey(c,"class")+'" /\x3e';break;case "image":a+='\x3cimg src\x3d"'+e+'" class\x3d"'+Be.util.getKey(c,"class")+'" /\x3e';break;case "background":a+='\x3cdiv data-background\x3d"'+e+'" class\x3d"'+Be.util.getKey(c,"class")+'"\x3e\x3c/div\x3e';break;case "text":a+=e}a+="\x3c/p\x3e"}else for(h=0;h<b.list.length;h++)switch(c=b.list[h],d=Be.util.getKey(c,"type"),e=Be.util.getKey(c,"text"),d){case "header":a+='\x3cdiv class\x3d"block-header"\x3e'+e+"\x3c/div\x3e";break;case "footer":a+='\x3cdiv class\x3d"block-footer"\x3e'+e+"\x3c/div\x3e";break;default:-1<e.indexOf("{url}")&&(e=e.replace("{url}",Be.config.url)),a+=e}a+="\x3c/div\x3e";g&&this.init.add("lazy-load");return a},cardMenu:function(b){var a="",c=Be.util.getKey(b,"round"),d=Be.util.getKey(b,"image"),e=Be.util.getKey(b,"title");b=Be.util.getKey(b,"text");""!==c&&(c=" card-menu-"+c);-1<d.indexOf("{url}")&&(d=d.replace("{url}",Be.config.url));a=a+'\x3cdiv class\x3d"card-menu-top"\x3e'+('\x3cdiv class\x3d"card-menu-top-main'+c+'" style\x3d"background-image:url(\''+d+"') !important; background-position:center;background-size:cover;\"\x3e");""!==e&&(a+='\x3ch2 class\x3d"card-menu-top-title"\x3e'+e+"\x3c/h2\x3e");""!==b&&(a+=b);return a+"\x3c/div\x3e\x3c/div\x3e"},elevation:function(b){var a="",c,d,e,g,h="1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24".split(" ");c=Be.util.getKey(b,"containerCls");for(var a=""!==c?a+('\x3cdiv class\x3d"'+c+'"\x3e'):a+'\x3cdiv class\x3d"block"\x3e',f=0;f<b.list.length;f++){c=b.list[f];e=Be.util.getKey(c,"class");""===e&&(e="row");for(var a=a+('\x3cdiv class\x3d"'+e+'"\x3e'),m=0;m<c.item.length;m++)d=c.item[m],g=Be.util.getKey(d,"click"),e=Be.util.getKey(d,"class"),d=Be.util.getKey(d,"text"),-1<h.indexOf(e)&&(e="elevation-demo elevation-"+e),a+='\x3cdiv class\x3d"col"\x3e',""===g?a+='\x3cdiv class\x3d"'+e+'"\x3e'+d+"\x3c/div\x3e":(g=Be.util.getLink(g),a+='\x3cdiv class\x3d"'+e+'"'+g+"\x3e"+d+"\x3c/div\x3e"),a+="\x3c/div\x3e";a+="\x3c/div\x3e"}return a+"\x3c/div\x3e"},floatingAction:function(b){for(var a="",c,d,e,g,h="ios"===Be.config.theme?"icoIos":"icoMat",f=0;f<b.list.length;f++){c=b.list[f];d=Be.util.getKey(c,"subtype");e=Be.util.getKey(c,"class");if("button"===d)g=Be.util.getKey(c,"click"),d=Be.util.getKey(c,h),g=Be.util.getLink(g),a+='\x3cdiv class\x3d"'+e+'"\x3e',a+="\x3ca"+g+'\x3e\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(d)+"\x3c/i\x3e\x3c/a\x3e";else{d=Be.util.getKey(c,"iconClosed");g=Be.util.getKey(c,"iconOpened");a+='\x3cdiv class\x3d"'+e+'"\x3e';a+='\x3ca href\x3d"#"\x3e';a+='\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(d)+"\x3c/i\x3e";a+='\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(g)+"\x3c/i\x3e";a+="\x3c/a\x3e";e=Be.util.getKey(c,"clsAppear");for(var a=a+('\x3cdiv class\x3d"fab-buttons '+e+'"\x3e'),m=0;m<c.item.length;m++)e=c.item[m],g=Be.util.getKey(e,"click"),d=Be.util.getKey(e,h),g=Be.util.getLink(g),a=""===d?a+("\x3ca"+g+"\x3e"+Be.util.getKey(e,"text")+"\x3c/a\x3e"):a+("\x3ca"+g+'\x3e\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(d)+"\x3c/i\x3e\x3c/a\x3e");a+="\x3c/div\x3e"}a+="\x3c/div\x3e"}return a},gallery:function(b){var a,c,d,e=Be.util.getKey(b,"backcolor");d=Be.util.getKey(b,"effect");a='\x3cdiv class\x3d"gallery-grid"';""!==e&&(a+=' data-backcolor\x3d"'+e+'"');""!==d&&(a+=' data-effect\x3d"'+d+'"');a+='\x3e\x3cdiv class\x3d"gallery-grid__sizer"\x3e\x3c/div\x3e';for(e=0;e<b.list.length;e++)c=b.list[e],d=Be.util.getKey(c,"click"),c=Be.util.getKey(c,"image"),d=Be.util.getLink(d),-1<c.indexOf("{url}")&&(c=c.replace("{url}",Be.config.url)),a+='\x3cdiv class\x3d"gallery-grid__item"\x3e',a+="\x3ca"+d+' class\x3d"gallery-grid__link"\x3e\x3cimg class\x3d"gallery-grid__img" src\x3d"'+c+'" /\x3e\x3c/a\x3e',a+="\x3c/div\x3e";a+="\x3c/div\x3e";this.init.add("grid-gallery");return a},grid:function(b){var a="",c,d;c=Be.util.getKey(b,"extCls");var e="block",g,h;""!==c&&(e+=" "+c);a+='\x3cdiv class\x3d"'+e+'"\x3e';for(e=0;e<b.list.length;e++){c=b.list[e];g=Be.util.getKey(c,"class");""===g&&(g="row");for(var a=a+('\x3cdiv class\x3d"'+g+'"\x3e'),f=0;f<c.item.length;f++)d=c.item[f],h=Be.util.getKey(d,"click"),g=Be.util.getKey(d,"class"),d=Be.util.getKey(d,"text"),-1<d.indexOf("{url}")&&(d=d.replace("{url}",Be.config.url)),""===h?a+='\x3cdiv class\x3d"'+g+'"\x3e'+d+"\x3c/div\x3e":(h=Be.util.getLink(h),a+='\x3cdiv class\x3d"'+g+'"'+h+"\x3e"+d+"\x3c/div\x3e");a+="\x3c/div\x3e"}return a+"\x3c/div\x3e"},input:function(b){var a="",c=!1,d,e,g="ios"===Be.config.theme?"icoIos":"icoMat",h=Be.util.getKey(b,"subtype"),f=Be.util.getKey(b,"id"),m=Be.util.getKey(b,"class"),p,r="",t,n,k,l,q,u;""===m&&(m="list");Be.device.android&&(r=Be.util.getKey(b,"lblFloating"));a=("form"===h?a+('\x3cform id\x3d"'+f+'" class\x3d"'+m+'"\x3e'):a+('\x3cdiv class\x3d"'+m+'"\x3e'))+"\x3cul\x3e";for(m=0;m<b.list.length;m++){d=b.list[m];k=Be.util.getKey(d,"input");f=Be.util.getKey(d,"name");l=Be.util.getKey(d,"value");e=Be.util.getKey(d,g);t=Be.util.getKey(d,"label");n=Be.util.getKey(d,"placeholder");p=Be.util.getKey(d,"class");(u=Be.util.getKey(d,"valid"))?(q=' class\x3d"is-required" data-valid-range\x3d"'+u.range+'"',u.pattern&&(q+=' data-valid-pattern\x3d"'+u.pattern+'"'),u.include&&(q+=' data-valid-include\x3d"'+u.include+'"'),u.alert&&(q+=' data-valid-alert\x3d"'+u.alert+'"')):q="";a=""===p?"select"===k&&"1"===r?a+'\x3cli class\x3d"item-content item-input item-input-with-value"\x3e':a+'\x3cli class\x3d"item-content item-input"\x3e':a+('\x3cli class\x3d"'+p+'"\x3e');""!==e&&(p=Be.util.getKey(d,"icoColor"),""!==p&&(p=" "+p),a+='\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"icon '+Be.iconPrefix+"-icons"+p+'"\x3e'+Be.util.getIcon(e)+"\x3c/i\x3e\x3c/div\x3e");a+='\x3cdiv class\x3d"item-inner"\x3e';""!==t&&(a="1"===r&&"stepper"!==k?a+('\x3cdiv class\x3d"item-title item-floating-label"\x3e'+t+"\x3c/div\x3e"):a+('\x3cdiv class\x3d"item-title item-label"\x3e'+t+"\x3c/div\x3e"));a+='\x3cdiv class\x3d"item-input-wrap"\x3e';switch(k){case "text":case "email":case "url":case "color":case "password":case "tel":case "number":case "date":case "month":case "week":case "time":c=!0;a+="\x3cinput"+q+' id\x3d"'+f+'" name\x3d"'+f+'" type\x3d"'+k+'" placeholder\x3d"'+n+'"';""!==l&&(a+=' value\x3d"'+l+'"');a+=" /\x3e";break;case "datetime":case "datetime-local":c=!0;a+="\x3cinput"+q+' id\x3d"'+f+'" name\x3d"'+f+'" type\x3d"datetime-local"';""!==l&&(a+=' value\x3d"'+l+'"');a+=" /\x3e";break;case "textarea":c=!0;this.init.add("textarea");d=Be.util.getKey(d,"eleCls");""!==d&&(q=""===q?' class\x3d"'+d+'"':q.replace("is-required","is-required "+d));a+="\x3ctextarea"+q+' id\x3d"'+f+'" name\x3d"'+f+'"\x3e'+l+"\x3c/textarea\x3e";break;case "select":c=!0;n=Be.util.getKey(d,"onchange");a=""===n?a+('\x3cselect id\x3d"'+f+'" name\x3d"'+f+'"\x3e'):a+("\x3cselect"+q+' id\x3d"'+f+'" name\x3d"'+f+'" onchange\x3d"'+n+'"\x3e');for(k=0;k<d.item.length;k++)e=d.item[k],n=Be.util.getKey(e,"value"),q="",l===n&&(q=" selected"),a+='\x3coption value\x3d"'+n+'"'+q+"\x3e"+Be.util.getKey(e,"text")+"\x3c/option\x3e";a+="\x3c/select\x3e";break;case "date-picker":case "time-picker":c=!0;this.init.add(k);e=Be.util.getKey(d,"lang");t=Be.util.getKey(d,"format");""===e&&(e="cn");e=' data-lang\x3d"'+e+'"';"date-picker"===k?(u=p="0",d=Be.util.getKey(d,"select"),""===t&&(t="YYYY-MM-DD"),""!==d&&("range"===d?p="1":"multi"===d&&(u="1")),e+=' data-format\x3d"'+t+'"',e+=' data-range\x3d"'+p+'"',e+=' data-multi\x3d"'+u+'"'):(""===t&&(t="HH:mm"),e+=' data-format\x3d"'+t+'"');q=""!==q?q.replace("is-required","is-required be-"+k):' class\x3d"be-'+k+'"';a+="\x3cinput"+q+' id\x3d"'+f+'" name\x3d"'+f+'" type\x3d"text" placeholder\x3d"'+n+'" readonly\x3d"readonly"';""!==l&&(a+=' value\x3d"'+l+'"');a+=e+" /\x3e";break;case "page-picker":c=!0;q=""!==q?q.replace("is-required","is-required be-page-picker"):' class\x3d"be-page-picker"';k=Be.util.getKey(d,"data");t=Be.util.getKey(d,"title");d=Be.util.getKey(d,"multi");a+="\x3cinput"+q+' id\x3d"'+f+'" name\x3d"'+f+'" type\x3d"text" class\x3d"be-page-picker" placeholder\x3d"'+n+'" readonly\x3d"readonly"';""!==l&&(a+=' value\x3d"'+l+'"');a+=" onclick\x3d\"Be.app.pagePicker('#"+f+"', '"+k+"', '"+t+"','"+d+"')\" /\x3e";break;case "modal-picker":c=!0;q=""!==q?q.replace("is-required","is-required be-modal-picker"):' class\x3d"be-modal-picker"';a+="\x3cinput"+q+' id\x3d"'+f+'" name\x3d"'+f+'" type\x3d"text" class\x3d"be-modal-picker" placeholder\x3d"'+n+'" readonly\x3d"readonly"';""!==l&&(a+=' value\x3d"'+l+'"');a+=" /\x3e";break;case "switch":case "toggle":q=Be.util.getKey(d,"checked");d=Be.util.getKey(d,"color");q="1"===q?"checked":"";""!==d&&(d=" "+d);a+='\x3clabel class\x3d"toggle toggle-init'+d+'"\x3e\x3cinput id\x3d"'+f+'" name\x3d"'+f+'" type\x3d"checkbox" value\x3d"'+l+'"'+q+'\x3e\x3cspan class\x3d"toggle-icon"\x3e\x3c/span\x3e\x3c/label\x3e';break;case "range":this.init.add("range");q=Be.util.getKey(d,"min");n=Be.util.getKey(d,"max");k=Be.util.getKey(d,"step");a+='\x3cdiv class\x3d"range-slider range-slider-label range-slider-init" data-label\x3d"true"\x3e\x3cinput id\x3d"'+f+'" name\x3d"'+f+'" type\x3d"range" min\x3d"'+q+'" max\x3d"'+n+'" value\x3d"'+l+'" step\x3d"'+k+'"\x3e\x3c/div\x3e';break;case "stepper":this.init.add("stepper");t=Be.util.getKey(d,"type");e=Be.util.getKey(d,"extCls");p=Be.util.getKey(d,"align");q=Be.util.getKey(d,"min");n=Be.util.getKey(d,"max");k=Be.util.getKey(d,"step");d=Be.util.getKey(d,"color");u=' data-value-el\x3d"#'+f+'"';""!==e&&(e=" "+e);""===l&&(l="0");""===q&&(q="0");""===k&&(k="0");""===t&&(t="inner");p=""===p?"float:right;":"margin-bottom:5px;margin-top:5px";"inner"!==t&&(""!==d&&(d="text-align:right;padding-right:4px;border:solid 1px"+d+";color:"+d),a+='\x3cdiv id\x3d"'+f+'" style\x3d"float:left;margin-bottom:5px;margin-top:5px;width:50px;font-size:16px;'+d+'"\x3e\x3c/div\x3e');a+='\x3cdiv style\x3d"'+p+'" class\x3d"stepper'+e+' stepper-init" data-value\x3d"'+l+'" data-min\x3d"'+q+'" data-max\x3d"'+n+'" data-step\x3d"'+k+'"'+u+"\x3e";a+='\x3cdiv class\x3d"stepper-button-minus"\x3e\x3c/div\x3e';"inner"===t&&(a+='\x3cdiv class\x3d"stepper-value" id\x3d"'+f+'"\x3e\x3c/div\x3e');a+='\x3cdiv class\x3d"stepper-button-plus"\x3e\x3c/div\x3e';a+="\x3c/div\x3e";break;case "checkbox":l=l.split(",");t=Be.util.getKey(d,"width");a+="\x3cp"+q+' id\x3d"p-'+f+'" style\x3d"width:100%;margin-bottom:4px;margin-top:10px;padding-bottom:14px;font-size:16px;"\x3e';for(k=0;k<d.item.length;k++)if(e=d.item[k],p=Be.util.getKey(e,"text"),"|"===p)a+="\x3cbr /\x3e";else{n=Be.util.getKey(e,"value");q="";if(0<l.length)for(e=0;e<l.length;e++)if(l[e]===n){q=" checked";break}a+='\x3cspan style\x3d"display:inline-block;margin-bottom:4px;width:'+t+'"\x3e\x3clabel class\x3d"checkbox"\x3e\x3cinput type\x3d"checkbox" name\x3d"'+f+'" id\x3d"'+f+k+'" value\x3d"'+n+'"'+q+' /\x3e\x3ci class\x3d"icon icon-checkbox"\x3e\x3c/i\x3e\x3c/label\x3e'+p+"\x3c/span\x3e"}a+="\x3c/p\x3e";break;case "label":a+='\x3cp id\x3d"'+f+'" style\x3d"width:100%;margin-bottom:4px;margin-top:10px;padding-bottom:14px;font-size:16px;"\x3e'+Be.util.getKey(d,"text")+"\x3c/p\x3e";break;case "html":a+=Be.util.getKey(d,"text")}a+="\x3c/div\x3e";a+="\x3c/div\x3e";a+="\x3c/li\x3e"}a+="\x3c/ul\x3e";a="form"===h?a+"\x3c/form\x3e":a+"\x3c/div\x3e";c&&this.init.add("input");return a},addCatalog:function(b,a,c){a='\x3cdiv class\x3d"indexlist-nav indexlist-nav-'+a+'" style\x3d"width:'+c+'px"\x3e\x3cul class\x3d"indexlist-navlist"\x3e';for(i=0;i<b.item.length;i++)c=b.item[i],a+='\x3cli class\x3d"indexlist-navitem" data-sort\x3d"'+Be.util.getKey(c,"value")+'"\x3e'+Be.util.getKey(c,"title")+"\x3c/li\x3e";a+='\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"indexlist-indicator" style\x3d"display:none;"\x3e\x3c/div\x3e';this.init.add("index-list");return a},list:function(b){var a="",c,d="",e="",g,h,f="ios"===Be.config.theme?"icoIos":"icoMat",m=Be.util.getKey(b,"part"),p=Be.util.getKey(b,"subtype"),r=Be.util.getKey(b,"label"),t=Be.util.getKey(b,"extCls"),n=Be.util.getKey(b,"sortable");c=Be.util.getKey(b,"sortDone");g=Be.util.getKey(b,"searchBar");h=Be.util.getKey(b,"notFound");var k=Be.util.getKey(b,"shape"),l=Be.util.getKey(b,"withSort"),q="",u="";""===h&&(h=Be.local.searchbar[Be.config.lang].result);if("order"===p)switch(""===k&&(k="round"),k){case "round":k=" border-radius:6px;";break;case "circle":k=" border-radius:50%;";break;default:k=""}if("1"!==m){var v="";""!==t&&(t=" "+t);"1"===l&&-1===t.indexOf("indexlist indexlist-content")&&(v=" indexlist indexlist-content");"1"===n&&(e=" sortable",""!==c&&(c=' data-sort-done\x3d"'+c+'"'));"1"===g&&(d=" searchbar-found",a=a+'\x3cdiv class\x3d"block searchbar-not-found"\x3e'+("\x3cp\x3e"+h+"\x3c/p\x3e")+"\x3c/div\x3e");a+='\x3cdiv class\x3d"list'+t+v+e+d+'"'+c+' data-list-type\x3d"view"\x3e';"1"===l?(u=b.catalog,q=Be.util.getKey(u,"position"),u=Be.util.getKey(u,"width"),""===q&&(q="right"),""===u&&(u="21"),a+='\x3cul style\x3d"margin-'+q+":"+u+'px;"\x3e'):a+="\x3cul\x3e"}for(t=0;t<b.list.length;t++)c=b.list[t],d=Be.util.getKey(c,"click"),e=Be.util.getKey(c,"after"),g=Be.util.getKey(c,"class"),""===d?a+='\x3cli class\x3d"item-content':(h=Be.util.getLink(d),a+="\x3ca"+h+' class\x3d"item-link item-content'),""!==g&&(a+=" "+g),a="1"===l?a+('" data-sort\x3d"'+Be.util.getKey(c,"sort")+'"\x3e'):a+'"\x3e',"icon"===p?(g=Be.util.getKey(c,f),h=Be.util.getKey(c,"icoColor"),""!==h&&(h=" "+h),a=0===g.indexOf("icon icon-")?a+('\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"'+g+h+'"\x3e\x3c/i\x3e\x3c/div\x3e'):a+('\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"icon '+Be.iconPrefix+"-icons"+h+'"\x3e'+Be.util.getIcon(g)+"\x3c/i\x3e\x3c/div\x3e")):"order"===p&&(h=Be.util.getKey(c,"icoColor"),a+='\x3cdiv class\x3d"item-media"\x3e\x3cdiv style\x3d"width:24px;height:24px;line-height:24px;color:#fff;font-size:12px;text-align:center;'+k+'" class\x3d"bg-'+h+'"\x3e'+(t+1)+"\x3c/div\x3e\x3c/div\x3e"),a+='\x3cdiv class\x3d"item-inner"\x3e',g=Be.util.getKey(c,"header"),h=Be.util.getKey(c,"footer"),a+='\x3cdiv class\x3d"item-title"\x3e',""!==g&&(a+='\x3cdiv class\x3d"item-header"\x3e'+g+"\x3c/div\x3e"),a+=Be.util.getKey(c,"title"),""!==h&&(a+='\x3cdiv class\x3d"item-footer"\x3e'+h+"\x3c/div\x3e"),a+="\x3c/div\x3e",""!==e&&("{toggle}"===e?e='\x3clabel class\x3d"toggle toggle-init"\x3e\x3cinput type\x3d"checkbox" /\x3e\x3cspan class\x3d"toggle-icon"\x3e\x3c/span\x3e\x3c/label\x3e':(c=Be.util.getKey(c,"badgeCls"),""!==c&&(e='\x3cspan class\x3d"'+c+'"\x3e'+e+"\x3c/span\x3e")),a+='\x3cdiv class\x3d"item-after"\x3e'+e+"\x3c/div\x3e"),a+="\x3c/div\x3e","1"===n&&(this.init.add("sortable"),a+='\x3cdiv class\x3d"sortable-handler"\x3e\x3c/div\x3e'),a=""===d?a+"\x3c/li\x3e":a+"\x3c/a\x3e";"1"!==m&&(a+="\x3c/ul\x3e",""!==r&&(a+='\x3cdiv class\x3d"block-footer"\x3e\x3cp\x3e'+r+"\x3c/p\x3e\x3c/div\x3e"),a+="\x3c/div\x3e","1"===l&&(a+=this.addCatalog(b.catalog,q,u)));return a},listAudio:function(b){var a="",c;c="";var d,e,g,h,f,m=Be.util.getKey(b,"part"),p=Be.util.getKey(b,"label");d=Be.util.getKey(b,"extCls");e=Be.util.getKey(b,"searchBar");g=Be.util.getKey(b,"notFound");var r=Be.util.getKey(b,"player"),t=Be.util.getKey(b,"withSort"),n="",k="";""===g&&(g=Be.local.searchbar[Be.config.lang].result);""===r&&(r="Be.ext.playAudioEx(this.id)");"1"!==m&&(""!==d?(d=" "+d,-1===d.indexOf("indexlist indexlist-content")&&(d+=" indexlist indexlist-content")):"1"===t&&(d=" indexlist indexlist-content"),"1"===e&&(c=" list-search searchbar-found",a=a+'\x3cdiv class\x3d"content-block searchbar-not-found"\x3e'+('\x3cdiv class\x3d"content-block-inner"\x3e'+g+"\x3c/div\x3e")+"\x3c/div\x3e"),a+='\x3cdiv class\x3d"list media-list'+d+c+'" data-list-type\x3d"audio"\x3e',"1"===t?(k=b.catalog,n=Be.util.getKey(k,"position"),k=Be.util.getKey(k,"width"),""===n&&(n="right"),""===k&&(k="21"),a+='\x3cul style\x3d"margin-'+n+":"+k+'px;"\x3e'):a+="\x3cul\x3e");for(var l=0;l<b.list.length;l++)c=b.list[l],h=Be.util.getKey(c,"audio"),d=Be.util.getKey(c,"title"),e=Be.util.getKey(c,"class"),g=Be.util.getKey(c,"barCls"),f=Be.util.getKey(c,"text"),-1<h.indexOf("{url}")&&(h=h.replace("{url}",Be.config.url)),a+='\x3cli class\x3d"item-content',""!==e&&(a+=" "+e),a="1"===t?a+('" data-sort\x3d"'+Be.util.getKey(c,"sort")+'"\x3e'):a+'"\x3e',a+='\x3cdiv class\x3d"item-media"\x3e\x3ca id\x3d"_audio_link_'+l+'" onclick\x3d"'+r+'" data-audio\x3d"'+h+'" class\x3d"sm2_button"\x3e\x26nbsp;\x3c/a\x3e\x3c/div\x3e',a+='\x3cdiv class\x3d"item-inner"\x3e',a+='\x3cdiv class\x3d"item-title-row"\x3e',a+='\x3cdiv class\x3d"item-title"\x3e'+d+"\x3c/div\x3e",a+='\x3cdiv id\x3d"_audio_time_'+l+'" class\x3d"item-after"\x3e\x3c/div\x3e',a+="\x3c/div\x3e",a+='\x3cdiv id\x3d"_audio_prog_'+l+'" style\x3d"display:none;" data-progress\x3d"0" class\x3d"progressbar',""!==g&&(a+=" "+g),a+='"\x3e\x3c/div\x3e',a+='\x3cdiv class\x3d"item-subtitle"\x3e'+Be.util.getKey(c,"subtitle")+"\x3c/div\x3e",a+='\x3cdiv class\x3d"item-text"\x3e',""!==f&&(a+=f),a+="\x3c/div\x3e",a+="\x3c/div\x3e",a+="\x3c/li\x3e";"1"!==m&&(a+="\x3c/ul\x3e",""!==p&&(a+='\x3cdiv class\x3d"list-label"\x3e'+p+"\x3c/div\x3e"),a+="\x3c/div\x3e","1"===t&&(a+=this.addCatalog(b.catalog,n,k)));this.init.add("audio");return a},listGroup:function(b){var a="",c,d;c="";var e,g,h,f,m="ios"===Be.config.theme?"icoIos":"icoMat",p=Be.util.getKey(b,"subtype"),r=Be.util.getKey(b,"label");d=Be.util.getKey(b,"extCls");g=Be.util.getKey(b,"searchBar");f=Be.util.getKey(b,"notFound");var t=Be.util.getKey(b,"withSort"),n="",k="";""===f&&(f=Be.local.searchbar[Be.config.lang].result);""!==d?(d=" "+d,-1===d.indexOf("indexlist indexlist-content")&&(d+=" indexlist indexlist-content")):"1"===t&&(d=" indexlist indexlist-content");"1"===g&&(c=" list-search searchbar-found",a=a+'\x3cdiv class\x3d"content-block searchbar-not-found"\x3e'+('\x3cdiv class\x3d"content-block-inner"\x3e'+f+"\x3c/div\x3e")+"\x3c/div\x3e");g="contact"===p?" contacts-list":"";"1"===t&&(k=b.catalog,n=Be.util.getKey(k,"position"),k=Be.util.getKey(k,"width"),""===n&&(n="right"),""===k&&(k="21"));for(var a=a+('\x3cdiv class\x3d"list'+g+d+c+'" data-list-type\x3d"group"\x3e'),l=0;l<b.list.length;l++){c=b.list[l];for(var a="1"!==t?a+'\x3cdiv class\x3d"list-group"\x3e':a+('\x3cdiv class\x3d"list-group" style\x3d"margin-'+n+":"+k+'px;"\x3e'),a=a+"\x3cul\x3e",a=a+('\x3cli class\x3d"list-group-title"\x3e'+Be.util.getKey(c,"label")+"\x3c/li\x3e"),q=0;q<c.item.length;q++)d=c.item[q],g=Be.util.getKey(d,"click"),f=Be.util.getKey(d,"after"),e=Be.util.getKey(d,"class"),a="1"!==t?a+"\x3cli\x3e":a+('\x3cli data-sort\x3d"'+Be.util.getKey(c,"sort")+'"\x3e'),""===g?a+='\x3cdiv class\x3d"item-content':(h=Be.util.getLink(g),a+="\x3ca"+h+' class\x3d"item-link item-content'),""!==e&&(a+=" "+e),a+='"\x3e',"icon"===p&&(e=Be.util.getKey(d,m),h=Be.util.getKey(d,"icoColor"),""!==h&&(h=" "+h),a=0===e.indexOf("icon icon-")?a+('\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"'+e+h+'"\x3e\x3c/i\x3e\x3c/div\x3e'):a+('\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"icon '+Be.iconPrefix+"-icons"+h+'"\x3e'+Be.util.getIcon(e)+"\x3c/i\x3e\x3c/div\x3e")),a+='\x3cdiv class\x3d"item-inner"\x3e',a+='\x3cdiv class\x3d"item-title"\x3e'+Be.util.getKey(d,"title")+"\x3c/div\x3e",""!==f&&(e=Be.util.getKey(d,"badgeCls"),""!==e&&(f='\x3cspan class\x3d"'+d.Attributes.badgeCls.Value+'"\x3e'+f+"\x3c/span\x3e"),a+='\x3cdiv class\x3d"item-after"\x3e'+f+"\x3c/div\x3e"),a+="\x3c/div\x3e",a=""===g?a+"\x3c/div\x3e":a+"\x3c/a\x3e",a+="\x3c/li\x3e";a+="\x3c/ul\x3e";""!==r&&(a+='\x3cdiv class\x3d"block-footer"\x3e\x3cp\x3e'+r+"\x3c/p\x3e\x3c/div\x3e");a+="\x3c/div\x3e"}a+="\x3c/div\x3e";"1"===t&&(a+=this.addCatalog(b.catalog,n,k));return a},listMedia:function(b){var a="",c,d=c="",e,g,h,f,m=Be.util.getKey(b,"part"),p=Be.util.getKey(b,"subtype"),r=Be.util.getKey(b,"label");h=Be.util.getKey(b,"extCls");var t=Be.util.getKey(b,"sortable"),n=Be.util.getKey(b,"sortDone");e=Be.util.getKey(b,"searchBar");g=Be.util.getKey(b,"notFound");var k=Be.util.getKey(b,"imgWidth"),l=Be.util.getKey(b,"withSort"),q="",u="";""===g&&(g=Be.local.searchbar[Be.config.lang].result);"1"!==m&&(""!==h?(h=" "+h,-1===h.indexOf("indexlist indexlist-content")&&(h+=" indexlist indexlist-content")):"1"===l&&(h=" indexlist indexlist-content"),"1"===t&&(d=" sortable",""!==n&&(n=' data-sort-done\x3d"'+n+'"')),"1"===e&&(c=" searchbar-found",a=a+'\x3cdiv class\x3d"content-block searchbar-not-found"\x3e'+('\x3cdiv class\x3d"content-block-inner"\x3e'+g+"\x3c/div\x3e")+"\x3c/div\x3e"),a+='\x3cdiv class\x3d"list media-list'+h+d+c+'"'+n+' data-list-type\x3d"media"\x3e',"1"===l?(u=b.catalog,q=Be.util.getKey(u,"position"),u=Be.util.getKey(u,"width"),""===q&&(q="right"),""===u&&(u="21"),a+='\x3cul style\x3d"margin-'+q+":"+u+'px;"\x3e'):a+="\x3cul\x3e");for(n=0;n<b.list.length;n++)c=b.list[n],d=Be.util.getKey(c,"click"),h=Be.util.getKey(c,"after"),e=Be.util.getKey(c,"class"),f=Be.util.getKey(c,"image"),""===d?a+='\x3cli class\x3d"item-content':(g=Be.util.getLink(d),a+="\x3ca"+g+' class\x3d"item-link item-content'),""!==e&&(a+=" "+e),a="1"===l?a+('" data-sort\x3d"'+Be.util.getKey(c,"sort")+'"\x3e'):a+'"\x3e',"image"===p?""===k&&(k="80"):""===k&&(k="44"),-1<f.indexOf("{url}")&&(f=f.replace("{url}",Be.config.url)),a+='\x3cdiv class\x3d"item-media"\x3e\x3cimg src\x3d"'+f+'" width\x3d"'+k+'" /\x3e\x3c/div\x3e',a+='\x3cdiv class\x3d"item-inner"\x3e',a+='\x3cdiv class\x3d"item-title-row"\x3e',a+='\x3cdiv class\x3d"item-title"\x3e'+Be.util.getKey(c,"title")+"\x3c/div\x3e",""!==h&&(e=Be.util.getKey(c,"badgeCls"),""!==e&&(h='\x3cspan class\x3d"'+e+'"\x3e'+h+"\x3c/span\x3e"),a+='\x3cdiv class\x3d"item-after"\x3e'+h+"\x3c/div\x3e"),a+="\x3c/div\x3e",a+='\x3cdiv class\x3d"item-subtitle"\x3e'+Be.util.getKey(c,"subtitle")+"\x3c/div\x3e",""!==Be.util.getKey(c,"text")&&(a+='\x3cdiv class\x3d"item-text"\x3e'+Be.util.getKey(c,"text")+"\x3c/div\x3e"),a+="\x3c/div\x3e","1"===t&&(this.init.add("sortable"),a+='\x3cdiv class\x3d"sortable-handler"\x3e\x3c/div\x3e'),a=""===d?a+"\x3c/li\x3e":a+"\x3c/a\x3e";"1"!==m&&(a+="\x3c/ul\x3e",""!==r&&(a+='\x3cdiv class\x3d"block-footer"\x3e\x3cp\x3e'+r+"\x3c/p\x3e\x3c/div\x3e"),a+="\x3c/div\x3e","1"===l&&(a+=this.addCatalog(b.catalog,q,u)));return a},listSwipe:function(b){var a="",c,d,e,g,h;e=c="";var f,m=Be.util.getKey(b,"part"),p=Be.util.getKey(b,"subtype"),r=Be.util.getKey(b,"label"),t=Be.util.getKey(b,"extCls");d=Be.util.getKey(b,"searchBar");g=Be.util.getKey(b,"notFound");var n=Be.util.getKey(b,"arrow"),k=Be.util.getKey(b,"rowPrefix"),l=Be.util.getKey(b,"imgWidth"),q="ios"===Be.config.theme?"icoIos":"icoMat";"1"===n&&(c=" media-list");""===k&&(k="row");""===g&&(g=Be.local.searchbar[Be.config.lang].result);"1"!==m&&(""!==t&&(t=" "+t),"1"===d&&(e=" list-search searchbar-found",a=a+'\x3cdiv class\x3d"content-block searchbar-not-found"\x3e'+('\x3cdiv class\x3d"content-block-inner"\x3e'+g+"\x3c/div\x3e")+"\x3c/div\x3e"),a=a+('\x3cdiv class\x3d"list'+c+t+e+'"\x3e')+"\x3cul\x3e");for(t=0;t<b.list.length;t++){c=b.list[t];e=k+"-"+t;d=Be.util.getKey(c,"direction");g=Be.util.getKey(c,"after");h=Be.util.getKey(c,"class");""===d&&(d="right");a+='\x3cli class\x3d"swipeout';""!==h&&(a+=" "+h);a+=" "+e+'"\x3e';a="1"===n?a+'\x3cdiv class\x3d"swipeout-content"\x3e\x3ca href\x3d"#" class\x3d"item-link item-content"\x3e':a+'\x3cdiv class\x3d"swipeout-content item-content"\x3e';if("icon"===p)h=Be.util.getKey(c,q),f=Be.util.getKey(c,"icoColor"),""!==f&&(f=" "+f),""!==h&&(a=0===h.indexOf("icon icon-")?a+('\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"'+h+f+'"\x3e\x3c/i\x3e\x3c/div\x3e'):a+('\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"icon '+Be.iconPrefix+"-icons"+f+'"\x3e'+Be.util.getIcon(h)+"\x3c/i\x3e\x3c/div\x3e"));else if("image"===p||"small-image"===p)h=Be.util.getKey(c,"image"),""===l&&(l="image"===p?"80":"44"),-1<h.indexOf("{url}")&&(h=h.replace("{url}",Be.config.url)),a+='\x3cdiv class\x3d"item-media"\x3e\x3cimg src\x3d"'+h+'" width\x3d"'+l+'" /\x3e\x3c/div\x3e';a+='\x3cdiv class\x3d"item-inner"\x3e';"1"===n&&(a+='\x3cdiv class\x3d"item-title-row"\x3e');a+='\x3cdiv class\x3d"item-title"\x3e'+Be.util.getKey(c,"title")+"\x3c/div\x3e";""!==g&&(h=Be.util.getKey(c,"badgeCls"),""!==h&&(g='\x3cspan class\x3d"'+h+'"\x3e'+g+"\x3c/span\x3e"),a+='\x3cdiv class\x3d"item-after"\x3e'+g+"\x3c/div\x3e");"1"===n&&(a+="\x3c/div\x3e",g=Be.util.getKey(c,"subtitle"),h=Be.util.getKey(c,"text"),""!==g&&(a+='\x3cdiv class\x3d"item-subtitle"\x3e'+g+"\x3c/div\x3e"),""!==h&&(a+='\x3cdiv class\x3d"item-text"\x3e'+h+"\x3c/div\x3e"));a+="\x3c/div\x3e";"1"===n&&(a+="\x3c/a\x3e");a+="\x3c/div\x3e";if(0<c.item.length){a+='\x3cdiv class\x3d"swipeout-actions-'+d+'"\x3e';for(h=0;h<c.item.length;h++)d=c.item[h],g=Be.util.getKey(d,"class"),0===g.indexOf("delete")?f="doSwipeoutDelete('"+e+"')":(f=Be.util.getKey(d,"click"),-1<f.indexOf("{rid}")&&(f=f.replace("{rid}",e))),f=Be.util.getLink(f),a+="\x3ca"+f,a+=' class\x3d"'+g+'" data-row-id\x3d"'+e+'"\x3e'+Be.util.getKey(d,"text")+"\x3c/a\x3e";a+="\x3c/div\x3e"}a+="\x3c/li\x3e"}"1"!==m&&(a+="\x3c/ul\x3e",""!==r&&(a+='\x3cdiv class\x3d"list-label"\x3e'+r+"\x3c/div\x3e"),a+="\x3c/div\x3e");this.init.add("swipeout");return a},listVirtual:function(b){var a="",c,d,e,g,h,f="ios"===Be.config.theme?"icoIos":"icoMat";e=Be.util.getKey(b,"searchBar");var m=Be.util.getKey(b,"subtype");h=Be.util.getKey(b,"extCls");var p=Be.util.getKey(b,"notFound");""===p&&(p=Be.local.searchbar[Be.config.lang].result);""!==h&&(h=" "+h);"1"===e&&(h+=" searchbar-found",a=a+'\x3cdiv class\x3d"block searchbar-not-found"\x3e'+("\x3cp\x3e"+p+"\x3c/p\x3e")+"\x3c/div\x3e");for(var a=a+('\x3cdiv id\x3d"scrollArea" class\x3d"list clusterize-scroll'+h+'"\x3e')+'\x3cul id\x3d"contentArea" class\x3d"clusterize-content"\x3e\x3cli\x3eLoading data\u2026\x3c/li\x3e\x3c/ul\x3e',a=a+"\x3c/div\x3e",p=[],r,t=0;t<b.list.length;t++)c=b.list[t],e=Be.util.getKey(c,"click"),h=Be.util.getKey(c,"after"),d=Be.util.getKey(c,"class"),r="'",""===e?r+='\x3cli class\x3d"item-content':(g=Be.util.getLink(e),-1<g.indexOf("'")&&(g=g.replace(/\'/g,"\\'")),r+="\x3ca"+g+' class\x3d"item-link item-content'),""!==d&&(r+=" "+d),r+='"\x3e',"icon"===m&&(d=Be.util.getKey(c,f),g=Be.util.getKey(c,"icoColor"),""!==g&&(g=" "+g),r=0===d.indexOf("icon icon-")?r+('\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"'+d+g+'"\x3e\x3c/i\x3e\x3c/div\x3e'):r+('\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"icon '+Be.iconPrefix+"-icons"+g+'"\x3e'+Be.util.getIcon(d)+"\x3c/i\x3e\x3c/div\x3e")),r+='\x3cdiv class\x3d"item-inner"\x3e',d=Be.util.getKey(c,"header"),g=Be.util.getKey(c,"footer"),r+='\x3cdiv class\x3d"item-title"\x3e',""!==d&&(r+='\x3cdiv class\x3d"item-header"\x3e'+d+"\x3c/div\x3e"),r+=Be.util.getKey(c,"title"),""!==g&&(r+='\x3cdiv class\x3d"item-footer"\x3e'+g+"\x3c/div\x3e"),r+="\x3c/div\x3e",""!==h&&("{toggle}"===h?h='\x3clabel class\x3d"toggle toggle-init"\x3e\x3cinput type\x3d"checkbox" /\x3e\x3cspan class\x3d"toggle-icon"\x3e\x3c/span\x3e\x3c/label\x3e':(c=Be.util.getKey(c,"badgeCls"),""!==c&&(h='\x3cspan class\x3d"'+c+'"\x3e'+h+"\x3c/span\x3e")),r+='\x3cdiv class\x3d"item-after"\x3e'+h+"\x3c/div\x3e"),r+="\x3c/div\x3e",r=""===e?r+"\x3c/li\x3e":r+"\x3c/a\x3e",r+="'",p.push(r);return a+='\x3cscript type\x3d"text/javascript"\x3evar clusterize \x3d new Clusterize({rows: ['+p+"], scrollId: 'scrollArea', contentId: 'contentArea'});\x3c/script\x3e"},message:function(b){var a,c,d,e,g,h,f,m;a='\x3cdiv class\x3d"messages"\x3e';for(var p=0;p<b.list.length;p++){c=b.list[p];e=Be.util.getKey(c,"type");g=Be.util.getKey(c,"date");f=Be.util.getKey(c,"avatar");h=Be.util.getKey(c,"name");-1<f.indexOf("{url}")&&(f=f.replace("{url}",Be.config.url));for(var r=0;r<c.item.length;r++){d=c.item[r];m=Be.util.getKey(d,"text");d=Be.util.getKey(d,"type");a="sent"===e?a+'\x3cdiv class\x3d"message message-sent"\x3e':a+'\x3cdiv class\x3d"message message-received"\x3e';""!==f&&(a+='\x3cdiv style\x3d"width:32px;height:32px;border-radius:50%;position:relative;background-size:cover;-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;background-image:url('+f+');"\x3e\x26nbsp;\x3c/div\x3e');a+='\x3cdiv class\x3d"message-content"\x3e';if(""!==h||""!==g)a+='\x3cdiv class\x3d"message-header"\x3e'+h+" "+g+"\x3c/div\x3e";a+='\x3cdiv class\x3d"message-bubble"\x3e';"image"===d?(-1<m.indexOf("{url}")&&(m=m.replace("{url}",Be.config.url)),a+='\x3cdiv class\x3d"message-image"\x3e\x3cimg src\x3d"'+m+'"\x3e\x3c/div\x3e'):a+='\x3cdiv class\x3d"message-text"\x3e'+m+"\x3c/div\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e"}}return a+"\x3c/div\x3e"},navbar:function(b){var a="",c,d,e,g="",h,f,m="",p=Be.util.getKey(b,"colorCls"),r=Be.util.getKey(b,"extCls"),t=Be.util.getKey(b,"subtype"),n=Be.util.getKey(b,"hairline");""!==p&&(m=" text-"+p,p=" "+p);""!==r&&(r=" "+r);"transparent"===t||"cover"===t?(this.init.add("transparentbar"),r+=" color-theme-transparent","cover"===t&&(r+=" cover-navbar"),r="ios"===Be.config.theme?r+" no-hairline":r+" no-shadow"):""!==n&&(r="ios"===Be.config.theme?r+" no-hairline":r+" no-shadow");for(var t="ios"===Be.config.theme?"icoIos":"icoMat",n='\x3cdiv class\x3d"left"\x3e',k='\x3cdiv class\x3d"right"\x3e',l="",q="",u=!1,v=!1,x=!1,y=!1,A=0;A<b.list.length;A++)switch(c=b.list[A],e=Be.util.getKey(c,"type"),e){case "left":u=!0;d=Be.util.getKey(c,"text");e=Be.util.getKey(c,"class");h=Be.util.getKey(c,"click");f=Be.util.getKey(c,t);c=Be.util.getLink(h);n+="\x3ca"+c+' class\x3d"'+e+'"\x3e';""===f?n=""===m?n+d:n+('\x3cspan class\x3d"'+m+'"\x3e'+d+"\x3c/span\x3e"):(n=0===f.indexOf("icon icon-")?n+('\x3ci class\x3d"'+f+p+'"\x3e\x3c/i\x3e'):n+('\x3ci class\x3d"icon '+Be.iconPrefix+"-icons"+p+'"\x3e'+Be.util.getIcon(f)+"\x3c/i\x3e"),""!==d&&(n=""===m?n+("\x3cspan\x3e"+d+"\x3c/span\x3e"):n+('\x3cspan class\x3d"'+m+'"\x3e'+d+"\x3c/span\x3e")));n+="\x3c/a\x3e";break;case "title":v=!0;g=Be.util.getKey(c,"text");break;case "right":x=!0;d=Be.util.getKey(c,"text");e=Be.util.getKey(c,"class");f=Be.util.getKey(c,t);"searchbar"===e?(y=!0,Be.util.getKey(c,"data"),Be.util.getKey(c,"search"),k+='\x3ca class\x3d"link icon-only searchbar-enable" data-searchbar\x3d".searchbar-components"\x3e',q=this.searchbar(c)):(h=Be.util.getKey(c,"click"),c=Be.util.getLink(h),k+="\x3ca"+c+' class\x3d"'+e+'"\x3e');""===f?k=""===m?k+d:k+('\x3cspan class\x3d"'+m+'"\x3e'+d+"\x3c/span\x3e"):(k=0===f.indexOf("icon icon-")?k+('\x3ci class\x3d"'+f+p+'"\x3e\x3c/i\x3e'):k+('\x3ci class\x3d"icon '+Be.iconPrefix+"-icons"+p+'"\x3e'+Be.util.getIcon(f)+"\x3c/i\x3e"),""!==d&&(k=""===m?k+("\x3cspan\x3e"+d+"\x3c/span\x3e"):k+('\x3cspan class\x3d"'+m+'"\x3e'+d+"\x3c/span\x3e")));k+="\x3c/a\x3e";break;case "subbar":f=0;var l=Be.util.getKey(c,"activeIdx"),B=Be.util.getKey(c,"tabIdPrefix");""!==l&&(f=parseInt(l));for(var l='\x3cdiv class\x3d"subnavbar"\x3e',l=l+'\x3cdiv class\x3d"subnavbar-inner"\x3e',l=l+'\x3cdiv class\x3d"segmented"\x3e',z=0;z<c.item.length;z++)d=c.item[z],e="button",h=Be.util.getKey(d,"click"),d=Be.util.getKey(d,"text"),f===z&&(e="button button-active"),l=0<h.indexOf("(")&&0<h.indexOf(")")?l+('\x3ca onclick\x3d"'+h+'" class\x3d"'+e+'" data-idx\x3d"'+z+'"\x3e'+d+"\x3c/a\x3e"):l+('\x3ca href\x3d"#'+B+z+'" class\x3d"'+e+'" data-idx\x3d"'+z+'" data-page\x3d"'+h+'"\x3e'+d+"\x3c/a\x3e");l+="\x3c/div\x3e";l+="\x3c/div\x3e";l+="\x3c/div\x3e"}a=a+('\x3cdiv class\x3d"navbar'+r+'"\x3e')+'\x3cdiv class\x3d"navbar-inner"\x3e';u&&(a+=n+"\x3c/div\x3e");v&&(a=""===m?a+('\x3cdiv class\x3d"title"\x3e'+g+"\x3c/div\x3e"):a+('\x3cdiv class\x3d"title'+m+'"\x3e'+g+"\x3c/div\x3e"));x&&(a+=k+"\x3c/div\x3e");y&&(a+=q);a+="\x3c/div\x3e";""!==l&&(a+=l);return a+"\x3c/div\x3e"},photoCover:function(b){var a,c=b.nav,d=b.list,e,g=Be.util.getKey(b,"image"),h=parseInt(c.currIdx),f,m=Be.util.getKey(b,"backgroud");-1<g.indexOf("{url}")&&(g=g.replace("{url}",Be.config.url));""!==m&&(m=' style\x3d"background:'+m+'"');a='\x3cdiv class\x3d"photo-cover"\x3e\x3cheader class\x3d"photo-cover-intro"\x3e'+('\x3cimg class\x3d"photo-cover-intro-image" src\x3d"'+g+'" alt\x3d"" /\x3e')+'\x3cdiv class\x3d"photo-cover-intro-content"\x3e'+('\x3ch1 class\x3d"photo-cover-intro-title"\x3e'+Be.util.getKey(b,"title")+"\x3c/h1\x3e");a+='\x3cdiv class\x3d"photo-cover-intro-subtitle"\x3e';a+='\x3cdiv class\x3d"photo-cover-intro-desc"\x3e'+Be.util.getKey(b,"desc");a+='\x3cdiv class\x3d"photo-cover-link"\x3e';for(b=0;b<c.item.length;b++)e=c.item[b],g=h===b?" photo-cover-link-item-current":"",f=Be.util.getKey(e,"click"),f=Be.util.getLink(f),e=Be.util.getKey(e,"text"),-1<e.indexOf("{theme}")&&(e="ios"===Be.config.theme?e.replace("{theme}","f7"):e.replace("{theme}","material")),a+="\x3ca"+f+' class\x3d"link photo-cover-link-item'+g+'"\x3e'+e+"\x3c/a\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e";a+='\x3cbutton class\x3d"photo-cover-trigger"\x3e';a+='\x3csvg width\x3d"100%" height\x3d"100%" viewBox\x3d"0 0 60 60" preserveAspectRatio\x3d"none"\x3e';a+='\x3cg class\x3d"photo-cover-icon photo-cover-icon-grid"\x3e';a+='\x3crect x\x3d"32.5" y\x3d"5.5" width\x3d"22" height\x3d"22" /\x3e';a+='\x3crect x\x3d"4.5" y\x3d"5.5" width\x3d"22" height\x3d"22" /\x3e';a+='\x3crect x\x3d"32.5" y\x3d"33.5" width\x3d"22" height\x3d"22" /\x3e';a+='\x3crect x\x3d"4.5" y\x3d"33.5" width\x3d"22" height\x3d"22" /\x3e';a+="\x3c/g\x3e";a+='\x3cg class\x3d"photo-cover-icon photo-cover-icon-cross"\x3e';a+='\x3cline x1\x3d"4.5" y1\x3d"55.5" x2\x3d"54.953" y2\x3d"5.046" /\x3e';a+='\x3cline x1\x3d"54.953" y1\x3d"55.5" x2\x3d"4.5" y2\x3d"5.047" /\x3e';a+="\x3c/g\x3e";a+="\x3c/svg\x3e";a+="\x3cspan\x3eView content\x3c/span\x3e";a+="\x3c/button\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e";a+="\x3c/header\x3e";a+='\x3csection class\x3d"photo-cover-items-wrap"'+m+"\x3e";for(b=0;b<d.length;b++)switch(e=d[b],c=Be.util.getKey(e,"type"),""===c&&(c="image"),c){case "image":f=Be.util.getKey(e,"click");f=Be.util.getLink(f);g=Be.util.getKey(e,"image");-1<g.indexOf("{url}")&&(g=g.replace("{url}",Be.config.url));a+="\x3ca"+f+' class\x3d"photo-cover-item"\x3e';a+='\x3cimg class\x3d"photo-cover-item-image" src\x3d"'+g+'" alt\x3d"" /\x3e';a+='\x3ch2 class\x3d"photo-cover-item-title"\x3e'+Be.util.getKey(e,"title")+"\x3c/h2\x3e";a+="\x3c/a\x3e";break;case "title":a+=this.title(e);break;case "content":a+=this.content(e)}a+="\x3c/section\x3e";a+="\x3c/div\x3e";this.init.add("photo-cover");return a},radios:function(b){var a="",c,d=-1,e,g,h=Be.util.getKey(b,"name"),f=Be.util.getKey(b,"subtype"),m=Be.util.getKey(b,"imgWidth");c=Be.util.getKey(b,"checkedIdx");var p=Be.util.getKey(b,"extCls");""===m&&(m="80");""!==p&&(p=" "+p);if(""!==c)try{d=parseInt(c)}catch(r){d=-1}a=("media"===f?a+('\x3cdiv class\x3d"list media-list'+p+'"\x3e'):a+('\x3cdiv class\x3d"list'+p+'"\x3e'))+"\x3cul\x3e";for(p=0;p<b.list.length;p++)c=b.list[p],e="",d===p&&(e=" checked"),g=Be.util.getKey(c,"value"),a+="\x3cli\x3e",a+='\x3clabel class\x3d"item-radio item-content"\x3e',a+='\x3cinput type\x3d"radio" name\x3d"'+h+'" value\x3d"'+g+'"'+e+"\x3e","media"===f?(e=Be.util.getKey(c,"image"),-1<e.indexOf("{url}")&&(e=e.replace("{url}",Be.config.url)),a+='\x3cdiv class\x3d"item-media"\x3e\x3cimg src\x3d"'+e+'" width\x3d"'+m+'"\x3e\x3c/div\x3e',a+='\x3cdiv class\x3d"item-inner"\x3e',a+='\x3cdiv class\x3d"item-title-row"\x3e',a+='\x3cdiv class\x3d"item-title"\x3e'+Be.util.getKey(c,"title")+"\x3c/div\x3e",a+='\x3cdiv class\x3d"item-after"\x3e\x3ci class\x3d"icon-radio"\x3e\x3c/i\x3e\x3c/div\x3e',a+="\x3c/div\x3e",a+='\x3cdiv class\x3d"item-subtitle"\x3e'+Be.util.getKey(c,"subtitle")+"\x3c/div\x3e",a+='\x3cdiv class\x3d"item-text"\x3e'+Be.util.getKey(c,"text")+"\x3c/div\x3e"):(a+='\x3cdiv class\x3d"item-media"\x3e\x3ci class\x3d"icon icon-radio"\x3e\x3c/i\x3e\x3c/div\x3e',a+='\x3cdiv class\x3d"item-inner"\x3e',a+='\x3cdiv class\x3d"item-title"\x3e'+Be.util.getKey(c,"text")+"\x3c/div\x3e"),a+="\x3c/div\x3e",a+="\x3c/label\x3e",a+="\x3c/li\x3e";return a+"\x3c/ul\x3e\x3c/div\x3e"},searchbar:function(b){var a=Be.util.getKey(b,"subtype");""===a&&(a="navbar");var c="",d=Be.util.getKey(b,"data"),e=Be.util.getKey(b,"search");b=Be.util.getKey(b,"list");var g=Be.local.searchbar[Be.config.lang].placeholder;""===d&&(d=".list");""===e&&(e=".item-title");""===b&&(b="li");var h="searchbar searchbar-init";switch(a){case "navbar":h="searchbar searchbar-expandable searchbar-components searchbar-init";break;case "static":c+='\x3cdiv class\x3d"searchbar-backdrop"\x3e\x3c/div\x3e'}c=c+('\x3cform class\x3d"'+h+'" data-search-container\x3d"'+d+'" data-search-in\x3d"'+e+'" data-search-list\x3d"'+b+'" data-found\x3d".searchbar-found" data-not-found\x3d".searchbar-not-found"\x3e')+'\x3cdiv class\x3d"searchbar-inner"\x3e\x3cdiv class\x3d"searchbar-input-wrap"\x3e';c+='\x3cinput type\x3d"search" placeholder\x3d"'+g+'" onkeydown\x3d"if(event.keyCode\x3d\x3d\x3d13){return false;}" /\x3e';c+='\x3ci class\x3d"searchbar-icon"\x3e\x3c/i\x3e';c+='\x3cspan class\x3d"input-clear-button"\x3e\x3c/span\x3e';c+="\x3c/div\x3e";c+='\x3cspan class\x3d"searchbar-disable-button"\x3eX\x3c/span\x3e';c+="\x3c/div\x3e";c+="\x3c/form\x3e";this.init.add("searchbar");return c},shopping:function(b){var a="",c;c=Be.util.getKey(b,"buyText");""!==c&&(c=' data-buy\x3d"'+c+'"');for(var d,e,g,h,a=a+'\x3cdiv class\x3d"expanding-product-grid"\x3e'+('\x3cdiv class\x3d"product-grid"'+c+"\x3e"),f=0;f<b.list.length;f++)c=b.list[f],d=Be.util.getKey(c,"title"),e=Be.util.getKey(c,"subtitle"),g=Be.util.getKey(c,"price"),h=Be.util.getKey(c,"image"),-1<h.indexOf("{url}")&&(h=h.replace("{url}",Be.config.url)),a+='\x3cdiv class\x3d"product-grid__item"\x3e',a+='\x3cdiv class\x3d"product"\x3e',a+='\x3cdiv class\x3d"product__bg"\x3e\x3c/div\x3e',a+='\x3cimg class\x3d"product__img" src\x3d"'+h+'" /\x3e',a+='\x3ch2 class\x3d"product__title"\x3e'+d+"\x3c/h2\x3e",a+='\x3ch3 class\x3d"product__subtitle"\x3e'+e+"\x3c/h3\x3e",a+='\x3cp class\x3d"product__description"\x3e'+Be.util.getKey(c,"text")+"\x3c/p\x3e",a+='\x3cdiv class\x3d"product__price"\x3e'+g+"\x3c/div\x3e",a+="\x3c/div\x3e",a+="\x3c/div\x3e";a+="\x3c/div\x3e\x3c/div\x3e";this.init.add("grid-product");return a},subnavbarClass:function(b){for(var a="",c,d=0;d<b.list.length;d++)if(c=b.list[d],"subbar"===Be.util.getKey(c,"type")){a=" page-with-subnavbar";break}return a},stepper:function(b){for(var a="",c,d=0;d<b.list.length;d++){c=b.list[d];var e=Be.util.getKey(c,"name"),g=Be.util.getKey(c,"type"),h=Be.util.getKey(c,"extCls"),f=Be.util.getKey(c,"title"),m=Be.util.getKey(c,"value"),p=Be.util.getKey(c,"step"),r=Be.util.getKey(c,"min"),t=Be.util.getKey(c,"max"),n=Be.util.getKey(c,"color");c=Be.util.getKey(c,"text");""!==h&&(h=" "+h);""===m&&(m="0");""===r&&(r="0");""===p&&(p="0");""===g&&(g="inner");""!==n&&(n=' style\x3d"color:'+n+'"');var k="";""!==f&&(k="\x3csmall\x3e"+f+"\x3c/small\x3e");k+='\x3cdiv class\x3d"stepper'+h+'" data-value\x3d"'+m+'" data-min\x3d"'+r+'" data-max\x3d"'+t+'" data-step\x3d"'+p+'" data-value-el\x3d"#'+e+'"\x3e';k+='\x3cdiv class\x3d"stepper-button-minus"\x3e\x3c/div\x3e';"inner"===g&&(k+='\x3cdiv class\x3d"stepper-value"'+n+' id\x3d"'+e+'"\x3e\x3c/div\x3e');k+='\x3cdiv class\x3d"stepper-button-plus"\x3e\x3c/div\x3e';k+="\x3c/div\x3e";a=""===c?a+k:a+c.replace("{{stepper}}",k)}this.init.add("stepper");return a},table:function(b){var a="",c,d,e=c=!1,g=!1,h="",f,m="ios"===Be.config.theme?"icoIos":"icoMat",p=Be.util.getKey(b,"subtype"),r=Be.util.getKey(b,"extCls"),t="data-table";""!==r&&(t+=" "+r);-1<t.indexOf("data-table-collapsible")&&(g=!0);for(var n=b.list[0],r="",k=[],l=0;l<n.item.length;l++)d=n.item[l],f=Be.util.getKey(d,"class"),d=Be.util.getKey(d,"text"),"checkbox-cell"===f?(c=!0,h+='\x3cth class\x3d"checkbox-cell"\x3e\x3clabel class\x3d"checkbox"\x3e\x3cinput type\x3d"checkbox" /\x3e\x3ci class\x3d"icon-checkbox"\x3e\x3c/i\x3e\x3c/label\x3e\x3c/th\x3e'):h+='\x3cth class\x3d"'+f+'"\x3e'+d+"\x3c/th\x3e",g&&k.push(d);c&&-1===t.indexOf("data-table-init")&&(t+=" data-table-init");a+='\x3cdiv class\x3d"'+t+'"\x3e';switch(p){case "bar":e=!0;c=b.header;a=a+'\x3cdiv class\x3d"card-header"\x3e'+('\x3cdiv class\x3d"data-table-title"\x3e'+Be.util.getKey(c,"title")+"\x3c/div\x3e");a+='\x3cdiv class\x3d"data-table-actions"\x3e';for(l=0;l<c.action.length;l++)d=c.action[l],f=Be.util.getKey(d,m),d=Be.util.getKey(d,"click"),d=Be.util.getLink(d),a+='\x3ca class\x3d"link icon-only"'+d+"\x3e",a+='\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(f)+"\x3c/i\x3e\x3c/a\x3e";a+="\x3c/div\x3e\x3c/div\x3e";break;case "bar-selected":e=!0;c=b.header;a=a+'\x3cdiv class\x3d"card-header"\x3e\x3cdiv class\x3d"data-table-header"\x3e'+('\x3cdiv class\x3d"data-table-title"\x3e'+Be.util.getKey(c,"title")+"\x3c/div\x3e");a+='\x3cdiv class\x3d"data-table-actions"\x3e';for(l=0;l<c.action.length;l++)d=c.action[l],f=Be.util.getKey(d,m),d=Be.util.getKey(d,"click"),d=Be.util.getLink(d),a+='\x3ca class\x3d"link icon-only"'+d+"\x3e",a+='\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(f)+"\x3c/i\x3e\x3c/a\x3e";a+='\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"data-table-header-selected"\x3e\x3cdiv class\x3d"data-table-title-selected"\x3e\x3cspan class\x3d"data-table-selected-count"\x3e\x3c/span\x3e \u9879\u88ab\u9009\u4e2d\x3c/div\x3e\x3cdiv class\x3d"data-table-actions"\x3e';for(l=0;l<c.select.length;l++)d=c.select[l],f=Be.util.getKey(d,m),d=Be.util.getKey(d,"click"),d=Be.util.getLink(d),a+='\x3ca class\x3d"link icon-only"'+d+"\x3e",a+='\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(f)+"\x3c/i\x3e\x3c/a\x3e";a+="\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";break;case "bar-alternate":e=!0;c=b.header;a+='\x3cdiv class\x3d"card-header"\x3e\x3cdiv class\x3d"data-table-links"\x3e';for(l=0;l<c.link.length;l++)d=c.link[l],f=Be.util.getKey(d,"link"),d=Be.util.getKey(d,"click"),d=Be.util.getLink(d),a+='\x3ca class\x3d"link"'+d+"\x3e"+f+"\x3c/a\x3e";a+='\x3c/div\x3e\x3cdiv class\x3d"data-table-actions"\x3e';for(l=0;l<c.action.length;l++)d=c.action[l],f=Be.util.getKey(d,m),d=Be.util.getKey(d,"click"),d=Be.util.getLink(d),a+='\x3ca class\x3d"link icon-only"'+d+"\x3e",a+='\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(f)+"\x3c/i\x3e\x3c/a\x3e";a+="\x3c/div\x3e\x3c/div\x3e"}e&&(a+='\x3cdiv class\x3d"card-content"\x3e');a=a+"\x3ctable\x3e\x3cthead\x3e\x3ctr\x3e"+h+"\x3c/tr\x3e\x3c/thead\x3e";a+="\x3ctbody\x3e";for(l=1;l<b.list.length;l++){c=b.list[l];a+="\x3ctr\x3e";for(h=0;h<c.item.length;h++)d=c.item[h],f=Be.util.getKey(d,"class"),g&&(r=' data-collapsible-title\x3d"'+k[h]+'"'),a="checkbox-cell"===f?a+('\x3ctd class\x3d"checkbox-cell"\x3e\x3clabel class\x3d"checkbox"\x3e\x3cinput value\x3d"'+Be.util.getKey(d,"text")+'" type\x3d"checkbox" /\x3e\x3ci class\x3d"icon-checkbox"\x3e\x3c/i\x3e\x3c/label\x3e\x3c/td\x3e'):a+('\x3ctd class\x3d"'+f+'"'+r+"\x3e"+Be.util.getKey(d,"text")+"\x3c/td\x3e");a+="\x3c/tr\x3e"}a+="\x3c/tbody\x3e";a+="\x3c/table\x3e";a+="\x3c/div\x3e";e&&(a+="\x3c/div\x3e");return a},tabbar:function(b){var a="",c,d=0,e,g,h="",f,m="",p,r,t="",n="ios"===Be.config.theme?"icoIos":"icoMat",k=Be.util.getKey(b,"tabIdPrefix");e=Be.util.getKey(b,"activeIdx");var l=Be.util.getKey(b,"extCls");""!==e&&(d=parseInt(e));""!==l&&(l=" "+l);"1"===Be.util.getKey(b,"scrollable")&&(t=" tabbar-scrollable");for(var q=b.list.length,u=0;u<q;u++)c=b.list[u],e=Be.util.getKey(c,"badge"),g=Be.util.getKey(c,"badgeCls"),f=Be.util.getKey(c,"label"),r=Be.util.getKey(c,"click"),p=Be.util.getKey(c,n),c="tab-link",d===u&&(c="tab-link tab-link-active"),""!==p&&(m=0===p.indexOf("icon icon-")?'\x3ci class\x3d"'+p+'"\x3e':'\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(p)+"\x3c/i\x3e",""!==g&&(m+='\x3cspan class\x3d"'+g+'"\x3e'+e+"\x3c/span\x3e"),m+="\x3c/i\x3e"),""!==f&&(""!==p?(h=" tabbar-labels",m+='\x3cspan class\x3d"tabbar-label"\x3e'+f+"\x3c/span\x3e"):m=""!==g?'\x3cspan class\x3d"tabbar-label"\x3e'+f+'\x3cspan class\x3d"'+g+'"\x3e'+e+"\x3c/span\x3e\x3c/span\x3e":f),a=0<r.indexOf("(")&&0<r.indexOf(")")?a+('\x3ca onclick\x3d"'+r+'" class\x3d"'+c+'" data-idx\x3d"'+u+'"\x3e'+m+"\x3c/a\x3e"):a+('\x3ca href\x3d"#'+k+u+'" class\x3d"'+c+'" data-idx\x3d"'+u+'" data-page\x3d"'+r+'"\x3e'+m+"\x3c/a\x3e");b='\x3cdiv class\x3d"toolbar tabbar'+l+h+t+'"\x3e\x3cdiv class\x3d"toolbar-inner"\x3e'+a;b+="\x3c/div\x3e";return b+="\x3c/div\x3e"},tabs:function(b){var a="",c,d=0,e=Be.util.getKey(b,"tabIdPrefix");c=Be.util.getKey(b,"activeIdx");b=Be.util.getKey(b,"tabCount");""!==c&&(d=parseInt(c));for(var a=a+'\x3cdiv class\x3d"tabs"\x3e',g=0;g<b;g++)c="page-content tab",d===g&&(c="page-content tab tab-active"),a+='\x3cdiv id\x3d"'+e+g+'" class\x3d"'+c+'"\x3e\x3c/div\x3e';a+="\x3c/div\x3e";this.init.add("tabs");return a},timeline:function(b){var a="",c,d;c=Be.util.getKey(b,"subtype");var e=Be.util.getKey(b,"direction"),g=Be.util.getKey(b,"inside");d=Be.util.getKey(b,"extCls");var h,f,m;""!==d&&(d=" "+d);h="timeline";""!==c&&("sides"===c&&(h+=" timeline-sides"),"tablet"===c&&(h+=" tablet-sides"));""!==e&&(h+=" timeline-horizontal");"1"===g&&(a+='\x3cdiv class\x3d"block block-strong"\x3e');a+='\x3cdiv class\x3d"'+h+d+'"\x3e';for(e=0;e<b.list.length;e++){c=b.list[e];d=Be.util.getKey(c,"type");h=Be.util.getKey(c,"side");f=Be.util.getKey(c,"inner");a=""===h?a+'\x3cdiv class\x3d"timeline-item"\x3e':a+('\x3cdiv class\x3d"timeline-item timeline-item-'+h+'"\x3e');a+='\x3cdiv class\x3d"timeline-item-date"\x3e'+Be.util.getKey(c,"date")+" \x3c/div\x3e";a+='\x3cdiv class\x3d"timeline-item-divider"\x3e\x3c/div\x3e';switch(d){case "rich":a+='\x3cdiv class\x3d"timeline-item-content"\x3e';a+='\x3cdiv class\x3d"timeline-item-inner"\x3e';for(h=0;h<c.item.length;h++)d=c.item[h],f=Be.util.getKey(d,"title"),m=Be.util.getKey(d,"subtitle"),a+='\x3cdiv class\x3d"timeline-item-time"\x3e'+Be.util.getKey(d,"time")+"\x3c/div\x3e",""!==f&&(a+='\x3cdiv class\x3d"timeline-item-title"\x3e'+f+"\x3c/div\x3e"),""!==m&&(a+='\x3cdiv class\x3d"timeline-item-subtitle"\x3e'+m+"\x3c/div\x3e"),a+='\x3cdiv class\x3d"timeline-item-text"\x3e'+Be.util.getKey(d,"text")+"\x3c/div\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e";break;case "list":a+='\x3cdiv class\x3d"timeline-item-content list links-list inset no-ios-edges"\x3e';a+="\x3cul\x3e";for(h=0;h<c.item.length;h++)d=c.item[h],f=Be.util.getKey(d,"click"),f=Be.util.getLink(f),a+="\x3cli\x3e\x3ca"+f+' class\x3d"item-content item-link"\x3e'+Be.util.getKey(d,"title")+"\x3c/a\x3e\x3c/li\x3e";a+="\x3c/ul\x3e";a+="\x3c/div\x3e";break;case "card":a+='\x3cdiv class\x3d"timeline-item-content no-ios-edges"\x3e';for(h=0;h<c.item.length;h++)d=c.item[h],f=Be.util.getKey(d,"header"),m=Be.util.getKey(d,"footer"),a+='\x3cdiv class\x3d"card"\x3e',""!==f&&(a+='\x3cdiv class\x3d"card-header"\x3e'+f+"\x3c/div\x3e"),a+='\x3cdiv class\x3d"card-content card-content-padding"\x3e'+Be.util.getKey(d,"text")+"\x3c/div\x3e",""!==m&&(a+='\x3cdiv class\x3d"card-footer"\x3e'+m+"\x3c/div\x3e"),a+="\x3c/div\x3e";a+="\x3c/div\x3e";break;default:a+='\x3cdiv class\x3d"timeline-item-content"\x3e',"1"===f&&(a+='\x3cdiv class\x3d"timeline-item-inner"\x3e'),a+=Be.util.getKey(c,"text"),"1"===f&&(a+="\x3c/div\x3e"),a+="\x3c/div\x3e"}a+="\x3c/div\x3e"}a+="\x3c/div\x3e";"1"===g&&(a+="\x3c/div\x3e");return a},timelineCalendar:function(b){var a="",c,d,e,g;c=Be.util.getKey(b,"width");var h=Be.util.getKey(b,"extCls");""===c&&(c="col-40 tablet-15");""!==h&&(h=" "+h);a+='\x3cdiv class\x3d"timeline timeline-horizontal '+h+c+'"\x3e';for(h=0;h<b.year.length;h++){c=b.year[h];d=Be.util.getKey(c,"id");for(var a=a+'\x3cdiv class\x3d"timeline-year"\x3e',a=a+('\x3cdiv class\x3d"timeline-year-title"\x3e\x3cspan\x3e'+d+"\x3c/span\x3e\x3c/div\x3e"),f=0;f<c.month.length;f++){d=c.month[f];e=Be.util.getKey(d,"id");for(var a=a+'\x3cdiv class\x3d"timeline-month"\x3e',a=a+('\x3cdiv class\x3d"timeline-month-title"\x3e\x3cspan\x3e'+e+"\x3c/span\x3e\x3c/div\x3e"),m=0;m<d.day.length;m++){e=d.day[m];for(var a=a+'\x3cdiv class\x3d"timeline-item"\x3e',a=a+('\x3cdiv class\x3d"timeline-item-date"\x3e'+Be.util.getKey(e,"id")+"\x3c/div\x3e"),a=a+'\x3cdiv class\x3d"timeline-item-content"\x3e',p=0;p<e.item.length;p++)g=e.item[p],a+='\x3cdiv class\x3d"timeline-item-time"\x3e'+Be.util.getKey(g,"time")+"\x3c/div\x3e",a+='\x3cdiv class\x3d"timeline-item-text"\x3e'+Be.util.getKey(g,"text")+"\x3c/div\x3e";a+="\x3c/div\x3e";a+="\x3c/div\x3e"}a+="\x3c/div\x3e"}a+="\x3c/div\x3e"}return a+"\x3c/div\x3e"},calendarEvent:function(b){var a=Be.util.getKey(b,"class"),c=Be.util.getKey(b,"lang"),d=Be.util.getKey(b,"eventDays");b=Be.util.getKey(b,"current");""===a?a="block no-padding no-margin no-hairline-top be-calendar-event":-1===a.indexOf("be-calendar-event")&&(a+=" be-calendar-event");""===c&&(c="cn");a='\x3cdiv class\x3d"'+a+'" data-lang\x3d"'+c+'"';""!==b&&(a+=' data-current\x3d"'+b+'"');""!==d&&(a+=' data-event-days\x3d"'+d+'"');a+="\x3e\x3c/div \x3e ";this.init.add("calendar-event");return a},title:function(b){var a=Be.util.getKey(b,"shape"),c=Be.util.getKey(b,"align"),d=Be.util.getKey(b,"text"),e=Be.util.getKey(b,"extCls"),g="",h="",f="";"sign"!==a&&(g=Be.util.getKey(b,"fill"));""===c&&(c="left");"left"===c&&(h=Be.util.getKey(b,"right"),f=Be.util.getKey(b,"click"));b='\x3cdiv class\x3d"block-title '+e+'"';"left"!==c&&(b+=' style\x3d"text-align:'+c+'"');b+="\x3e";switch(a){case "sign":b=b+'\x3ch4 class\x3d"block-title-sign block-title-color"\x3e'+d;""!==h&&(b+='\x3cspan style\x3d"float:right;text-align:right;font-weight:normal;"\x3e',""!==f?(strLink=Be.util.getLink(f),b+="\x3ca"+strLink+"\x3e"+h+"\x3c/a\x3e"):b+=h,b+="\x3c/span\x3e");b+="\x3c/h4\x3e";break;case "pillar":b+='\x3cspan class\x3d"block-title-pillar-'+c;b=("1"===g?b+' block-title-fill"\x3e':b+' block-title-border"\x3e')+d+"\x3c/span\x3e";"left"===c&&""!==h&&(b+='\x3cspan style\x3d"float:right;text-align:right;font-weight:normal;line-height:30px;"\x3e',""!==f?(strLink=Be.util.getLink(f),b+="\x3ca"+strLink+"\x3e"+h+"\x3c/a\x3e"):b+=h,b+="\x3c/span\x3e");break;case "pod":b+='\x3cspan class\x3d"block-title-pod';b=("1"===g?b+' block-title-fill"\x3e':b+' block-title-border"\x3e')+d+"\x3c/span\x3e";"left"===c&&""!==h&&(b+='\x3cspan style\x3d"float:right;text-align:right;font-weight:normal;line-height:30px;"\x3e',""!==f?(strLink=Be.util.getLink(f),b+="\x3ca"+strLink+"\x3e"+h+"\x3c/a\x3e"):b+=h,b+="\x3c/span\x3e");break;default:b+=d}return b+="\x3c/div\x3e"},toolbar:function(b){var a="",c;c=Be.util.getKey(b,"subtype");var d=Be.util.getKey(b,"extCls"),e,g,h,f="ios"===Be.config.theme?"icoIos":"icoMat";""!==d&&(d=" "+d);switch(c){case "messagebar":a=a+('\x3cdiv class\x3d"toolbar messagebar'+d+'"\x3e')+'\x3cdiv class\x3d"toolbar-inner"\x3e';for(d=0;d<b.list.length;d++)switch(c=b.list[d],h=Be.util.getKey(c,"text"),Be.util.getKey(c,"type")){case "icon":h=Be.util.getKey(c,f);e=Be.util.getKey(c,"click");g=Be.util.getLink(e);a+="\x3ca"+g+' class\x3d"link icon-only"\x3e\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(h)+"\x3c/i\x3e\x3c/a\x3e";break;case "textarea":c=Be.util.getKey(c,"id");a+='\x3cdiv class\x3d"messagebar-area"\x3e';a+='\x3ctextarea class\x3d"resizable" placeholder\x3d"'+h+'" id\x3d"'+c+'" name\x3d"'+c+'"\x3e\x3c/textarea\x3e';a+="\x3c/div\x3e";break;case "link":e=Be.util.getKey(c,"click"),g=Be.util.getLink(e),a+="\x3ca"+g+' class\x3d"link send-link"\x3e'+h+"\x3c/a\x3e"}b=a+"\x3c/div\x3e\x3c/div\x3e";break;default:c="";var m;"1"===Be.util.getKey(b,"bottom")&&(c=" toolbar-bottom-md");a=a+('\x3cdiv class\x3d"toolbar'+d+c+'"\x3e')+'\x3cdiv class\x3d"toolbar-inner"\x3e';for(d=0;d<b.list.length;d++)c=b.list[d],h=Be.util.getKey(c,f),m=Be.util.getKey(c,"class"),e=Be.util.getKey(c,"click"),g=Be.util.getLink(e),""===e?a+='\x3cdiv class\x3d"title" style\x3d"padding:0 16px;"\x3e'+Be.util.getKey(c,"text")+"\x3c/div\x3e":(""===m&&(m="link"),a=0<e.indexOf("(")&&0<e.indexOf(")")?a+("\x3ca"+g+' class\x3d"'+m+'"\x3e'):a+("\x3ca"+g+' class\x3d"'+m+'" data-type\x3d"toolbar"\x3e'),""!==h&&(a=0===h.indexOf("icon icon-")?a+('\x3ci class\x3d"'+h+'"\x3e\x3c/i\x3e'):a+('\x3ci class\x3d"icon '+Be.iconPrefix+'-icons"\x3e'+Be.util.getIcon(h)+"\x3c/i\x3e")),a+=Be.util.getKey(c,"text"),a+="\x3c/a\x3e");b=a+"\x3c/div\x3e\x3c/div\x3e"}return b},progressbar:function(b){var a,c,d,e,g,h;a='\x3cdiv class\x3d"block"\x3e';for(var f=0;f<b.list.length;f++)g=b.list[f],c=Be.util.getKey(g,"value"),d=Be.util.getKey(g,"id"),e=Be.util.getKey(g,"color"),h=Be.util.getKey(g,"extCls"),g=""===e?"":" color-"+e,"ios"===Be.config.theme&&"multi"===e&&(g=""),""!==h&&(h=" "+h),""===d&&(d="pbar-"+Date.parse(new Date)),a+="\x3cdiv id\x3d'"+d+"'",""===c?a+=' class\x3d"progressbar-infinite'+g+h+'"\x3e\x3c/div\x3e':(100<c&&(c=100),0>c&&(c=0),a+=' class\x3d"progressbar progressbar-in'+g+h+'"\x3e\x3cspan style\x3d"transform:translate3d('+(c-100)+'%, 0px, 0px);"\x3e\x3c/span\x3e\x3c/div\x3e');return a+"\x3c/div\x3e"},video:function(b){var a="",c,d,e,g;g=b.video;var h=b.caption,f=Be.util.getKey(b,"poster");b=Be.util.getKey(b,"download");-1<f.indexOf("{url}")&&(f=f.replace("{url}",Be.config.url));-1<b.indexOf("{url}")&&(b=b.replace("{url}",Be.config.url));a+='\x3cvideo controls playsinline poster\x3d"'+f+'"\x3e';for(f=0;f<g.length;f++)c=g[f],d=Be.util.getKey(c,"type"),e=Be.util.getKey(c,"size"),c=Be.util.getKey(c,"url"),-1<c.indexOf("{url}")&&(c=c.replace("{url}",Be.config.url)),a+='\x3csource src\x3d"'+c+'" type\x3d"video/'+d+'"',""!==e&&(a+='size\x3d"'+e+'"'),a+="\x3e";if(h)for(f=0;f<h.length;f++)c=h[f],g=Be.util.getKey(c,"label"),d=Be.util.getKey(c,"lang"),c=Be.util.getKey(c,"url"),-1<c.indexOf("{url}")&&(c=c.replace("{url}",Be.config.url)),a+='\x3ctrack kind\x3d"captions" label\x3d"'+g+'" srclang\x3d"'+d+'" src\x3d"'+c+'"',0===f&&(a+=" default"),a+="\x3e";a=a+('\x3ca href\x3d"'+b+'" download\x3eDownload\x3c/a\x3e')+"\x3c/video\x3e";this.init.add("video");return a}},"native":{postMessage:function(b,a,c){if("hybrid"!==Be.config.type)Be.app.alert(Be.local["native"][Be.config.lang].alert);else{var d={cmd:b,callback:a};if("undefined"!==typeof c&&null!==c)for(var e in c)d[e]=c[e];try{globalCallback(JSON.stringify(d))}catch(g){setTimeout(function(){globalCallback(JSON.stringify(d))},500)}}},init:function(b,a,c,d){this.postMessage("init","",{url:b,handlerPostfix:a,fullscreen:c,statusbarColor:d})},setStatusbar:function(b){b&&this.postMessage("statusbar","",{color:b})},setFullscreen:function(b){this.postMessage("fullscreen","",{full:b||"0"})},finish:function(){this.postMessage("finish")},launch:function(b,a,c){"hybrid"===Be.config.type?this.postMessage("launch","",{url:b||"",type:a||"",ext:c||""}):location.href=b},open:function(b,a){"hybrid"===Be.config.type?this.postMessage("open","",{url:b,mode:a||"0"}):window.open(b,"_blank")},landscape:function(b){var a=Be.mainView;"hybrid"===Be.config.type?(a=Be.router.getPage(b),Be.app.navbar.hide(a),Be["native"].setFullscreen("1"),this.postMessage("landscape")):0===window.orientation&&Be.width<Be.height&&(b=parseInt(Be.height-Be.width)/2,a.css({width:Be.height+"px",height:Be.width+"px",top:b+"px",left:0-b+"px",transform:"rotate(90deg)","transform-origin":"50% 50%"}))},portrait:function(b){"hybrid"===Be.config.type?(b=Be.router.getPage(b),Be.app.navbar.show(b),Be["native"].setFullscreen(Be.config.fullscreen),this.postMessage("portrait")):(b=Be.mainView,0===window.orientation&&b.css({width:Be.width+"px",height:Be.height+"px",top:0,left:0,transform:"none","transform-origin":"50% 50%"}))},unlock:function(){PostMessage("unlock")},flashlight:function(){this.postMessage("flashlight")},vibrate:function(){this.postMessage("vibrate")},settings:function(){this.postMessage("settings")},call:function(b){this.postMessage("call","",{number:b})},sms:function(b,a){this.postMessage("sms","",{number:b,body:escape(a)})},share:function(b,a,c){this.postMessage("share","",{title:escape(b),body:escape(a),url:c})},email:function(b,a,c){this.postMessage("email","",{to:b,title:escape(a),body:escape(c)})},device:function(){this.postMessage("device",function(b){doDevice(b)}.toString())},connectivity:function(){this.postMessage("connectivity",function(b){doConnectivity(b)}.toString())},battery:function(){this.postMessage("battery",function(b){doBattery(b)}.toString())},compass:{get:function(){Be["native"].postMessage("compass",function(b){doCompass(b)}.toString())},subscribe:function(){Be["native"].postMessage("compass-subscribe",function(b){doCompassSubscribe(b)}.toString())},unsubscribe:function(){Be["native"].postMessage("compass-unsubscribe",function(b){doCompassUnsubscribe(b)}.toString())}},location:{getLast:function(){Be["native"].postMessage("location-last",function(b){doLocationLast(b)}.toString())},getCurrent:function(){Be["native"].postMessage("location-current",function(b){doLocationCurrent(b)}.toString())}},ble:{find:function(b,a){Be["native"].postMessage("ble-find",function(a){doBleFind(a)}.toString(),{by:b,key:a})},connect:function(b,a){Be["native"].postMessage("ble-connect",function(a){doBleConnect(a)}.toString(),{by:b,key:a})},disconnect:function(b,a){Be["native"].postMessage("ble-disconnect",function(a){doBleDisconnect(a)}.toString(),{by:b,key:a})},read:function(b,a,c){Be["native"].postMessage("ble-connect",function(a){doBleRead(a)}.toString(),{by:b,key:a,type:c||"characteristic"})},write:function(b,a,c,d){Be["native"].postMessage("ble-connect",function(a){doBleWrite(a)}.toString(),{by:b,key:a,data:c,type:d||"characteristic"})}},scanner:function(b){this.postMessage("scanner",function(a){doScanner(a)}.toString(),{flag:b||"0"})},video:function(){this.postMessage("video",function(b){doVideo(b)}.toString())},camera:function(b){this.postMessage("camera",function(a){doCamera(a)}.toString(),{size:b})},pick:function(b){this.postMessage("pick",function(a){doPick(a)}.toString(),{type:b||"image",uid:Be.account.uid||"",token:Be.account.token||""})},ocr:function(b){this.postMessage("ocr",function(a){doOCR(a)}.toString(),{type:b||"0",uid:Be.account.uid||"",token:Be.account.token||""})},face:function(b){this.postMessage("face",function(a){doFace(a)}.toString(),{ext:b||"",uid:Be.account.uid||"",token:Be.account.token||""})},upload:function(b){var a=Be.account.uid||"",c=Be.account.token||"";this.postMessage("upload",function(a){doUpload(a)}.toString(),{file:escape(b),uid:a,token:c})},download:function(b){var a=Be.account.uid||"",c=Be.account.token||"";this.postMessage("download",function(a){doDownload(a)}.toString(),{file:escape(b),uid:a,token:c})},push:function(b,a){"hybrid"===Be.config.type&&this.postMessage("push","",{url:escape(b),referer:a})},checkWifi:function(b){this.postMessage("check-wifi",function(a){console.log("check:"+a.result)}.toString(),{ssid:b})},connectWifi:function(b,a){this.postMessage("connect-wifi",function(a){console.log("connect:"+a.result)}.toString(),{ssid:b,password:a})},payment:function(b,a,c){c=c||"";b=Be.util.appendString("?id\x3d"+a+"\x26fee\x3d"+b);var d=Be.config.url+"/Pay"+Be.config.handlerPostfix+b;$.get(d).done(function(b){if("hybrid"===Be.config.type)Be["native"].push(b,c);else{var d=Be.local.payment[Be.config.lang][a],e=$("#_be_button_payment"),f=e.data("amount");e.attr("href",b);e.text(d+Be.local.payment[Be.config.lang].action+"\u300c"+Be.local.payment[Be.config.lang].unit+f+"\u300d");e.removeAttr("style")}}).fail(function(){console.warn("failed to get %s page!",d)})}}};